 <h2> Title: How do I enable automatic folds in Vim? </h2> <h4> Eric Johnson, question_id: 4789605, created_at: 2011-01-25 03:05:23+00:00 </h4>Score: 82, Tags: {javascript,perl,vim,folding} <br><p>How do I enable automatic folding in Vim?  <code>set foldmethod=syntax</code> doesn't seem to do much of anything.  </p>
<hr><h3> ✔️ Answer by Eric Johnson, Id: 4789615, Score: 147, created_at: 2011-01-25 03:06:28+00:00 </h3><p>To allow folds based on syntax add something like the following to your <code>.vimrc</code>:</p>
<pre><code>set foldmethod=syntax
set foldlevelstart=1

let javaScript_fold=1         &quot; JavaScript
let perl_fold=1               &quot; Perl
let php_folding=1             &quot; PHP
let r_syntax_folding=1        &quot; R
let ruby_fold=1               &quot; Ruby
let sh_fold_enabled=1         &quot; sh
let vimsyn_folding='af'       &quot; Vim script
let xml_syntax_folding=1      &quot; XML
</code></pre>
<p>Syntax based folding is defined in the syntax files of the language which are located in <code>$VIM/syntax</code> or <code>/usr/share/vim/vimXX/syntax/</code>.  But some languages do not have folding rules built into their syntax files; for example Python.  For those languages you need to download something from <a href="http://vim.sf.net" rel="noreferrer">http://vim.sf.net</a> that does folds.  Otherwise you will need to use folds based on indents.  To do this effectively you will likely want to add the following to your <code>.vimrc</code> file:</p>
<pre><code>set foldmethod=indent
set foldnestmax=2
</code></pre>
<h1>Other kinds of folding</h1>
<p>There are 6 types of folds:</p>
<pre><code>manual          manually define folds
indent          more indent means a higher fold level
expr            specify an expression to define folds
syntax          folds defined by syntax highlighting
diff            folds for unchanged text
marker          folds defined by markers in the text
</code></pre>
<p>Personally, I only use syntax folds.  Usually, I just want to fold the method and not fold every indent level.  Inconsistent indenting and weirdly formatted legacy code at work often makes indent folding difficult or impossible.  Adding marks to the document is tedious and people who do not use Vim will not maintain them when they edit the document.  Manual folds work great until someone edits your code in source control and all your folds are now in the wrong place.</p>
<h1>More reading</h1>
<ol>
<li>See <code>:help fold-methods</code> to learn the details of different fold methods.</li>
<li>See <code>:help folding</code> to learn the keyboard commands for manipulate folds.</li>
<li>See <code>:help folds</code> for help on the entire topic of folding.</li>
</ol>
<h4> Comment by Cascabel, Score: 10, Id: 5305937, created_at: 2011-01-25 03:54:49+00:00 </h4>Did you really type all this within a minute of the question being posted? +1 for clarity, detail, and speed!<h4> Comment by Johnny Wong, Score: 0, Id: 103617046, created_at: 2019-11-01 09:28:24+00:00 </h4>For reference: Tested that C/C++ don&#39;t need additional <code>let ...=1</code> command, only <code>set foldmethod=syntax</code> is enough. i.e. some languages don&#39;t need a <code>let</code> command.<h4> Comment by Serge Stroobandt, Score: 0, Id: 118559272, created_at: 2021-04-13 11:51:31+00:00 </h4>What would be the <code>let</code> setting for permanent JSON folding? I cannot find it anywhere.<h4> Comment by Vitaly Isaev, Score: 0, Id: 34143540, created_at: 2014-03-17 08:00:38+00:00 </h4>Thanks for sharing of your experience! Don&#39;t you know how to enable C++ folding?<hr><h3>  Answer by Bet Lamed, Id: 31161816, Score: 3, created_at: 2015-07-01 12:50:11+00:00 </h3><p>JavaScript folding didn't work for me either. I found out when I did <strong>set syntax=javaScript</strong> (with a capital S), it suddenly worked.</p>
<h4> Comment by ArchNoob, Score: 1, Id: 71479228, created_at: 2017-02-10 10:25:32+00:00 </h4>hehe i did that and all over sudden colors just vanished, guess it&#39;s not for everyone. :) <code>vim version 8</code>.<h4> Comment by elig, Score: 0, Id: 98727375, created_at: 2019-05-08 14:08:17+00:00 </h4>At first I tried that but it did not fold anything and took away syntax highlight. Then I set back syntax=javascript and suddenly all my functions appear folded. Weird.<hr><h3>  Answer by Diego, Id: 39038129, Score: 1, created_at: 2016-08-19 11:38:32+00:00 </h3><p>The way to enable folding in new versions of Vim has changed (I'm using vim 7.4). Now you should create the file <code>~/.vim/ftplugin/javascript.vim</code> (on linux) and add your code folding instructions as explained in Eric Johnson's answer. File type detection and loading plugins for specific file types must be enabled by putting this into your <code>.vimrc</code>:</p>

<pre><code>filetype plugin on
</code></pre>
<hr><h3>  Answer by geekymartian, Id: 53548932, Score: 2, created_at: 2018-11-29 23:08:57+00:00 </h3><p>Tried all of the solutions here and none worked with NeoVim v0.3.1
Until I found the <a href="https://github.com/pangloss/vim-javascript" rel="nofollow noreferrer">vim-javascript</a> plugin and folding started to work.</p>
<h4> Comment by Alexandre, Score: 0, Id: 125451446, created_at: 2022-02-03 00:27:01+00:00 </h4>This; additionally, I had to do <code>set syntax=javaScript</code> for Neovim to actually detect JavaScript, then the folds immediately were activated (because I already had <code>set foldmethod=syntax</code> in my <code>init.vim</code> file, I suppose). Now onto putting this in the <code>init.vim</code> file, but only in the case where JS files are detected.
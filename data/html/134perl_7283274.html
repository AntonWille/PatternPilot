 <h2> Title: Check whether a string contains a substring </h2> <h4> Belgin Fish, question_id: 7283274, created_at: 2011-09-02 12:17:58+00:00 </h4>Score: 134, Tags: {string,perl,string-matching} <br><p>How can I check whether a given string contains a certain substring, using Perl?</p>
<p>More specifically, I want to see whether <code>s1.domain.example</code> is present in the given string variable.</p>
<hr><h3> ✔️ Answer by Eugene Yarmash, Id: 7283308, Score: 261, created_at: 2011-09-02 12:21:00+00:00 </h3><p>To find out if a string contains substring you can use the <a href="http://perldoc.perl.org/functions/index.html" rel="noreferrer"><code>index</code></a> function:</p>

<pre><code>if (index($str, $substr) != -1) {
    print "$str contains $substr\n";
} 
</code></pre>

<p>It will return the position of the first occurrence of <code>$substr</code> in <code>$str</code>, or -1 if the substring is not found.</p>
<h4> Comment by evgeny9, Score: 8, Id: 22409624, created_at: 2013-04-02 14:10:37+00:00 </h4>This way is especially preferrable, when you are searching using a variable - this way you won&#39;t have to double-escape characters (in this variable string), that are special for regular expressions (like <code>:</code>).<h4> Comment by Sam B, Score: 0, Id: 115246398, created_at: 2020-12-07 19:45:22+00:00 </h4>See this as well - <a href="http://www.troubleshooters.com/codecorn/littperl/perlreg.htm" rel="nofollow noreferrer">troubleshooters.com/codecorn/littperl/perlreg.htm</a><hr><h3>  Answer by David W., Id: 7283835, Score: 67, created_at: 2011-09-02 13:04:08+00:00 </h3><p>Another possibility is to use <a href="http://perldoc.perl.org/perlre.html" rel="nofollow noreferrer">regular expressions</a> which is what Perl is famous for:</p>
<pre><code>if ($mystring =~ /s1\.domain\.example/) {
   print qq(&quot;$mystring&quot; contains &quot;s1.domain.example&quot;\n);
}
</code></pre>
<p>The backslashes are needed because a <code>.</code> can match any character. You can get around this by using the <code>\Q</code> and <code>\E</code> operators.</p>
<pre><code>my $substring = &quot;s1.domain.example&quot;;
    if ($mystring =~ /\Q$substring\E/) {
   print qq(&quot;$mystring&quot; contains &quot;$substring&quot;\n);
}
</code></pre>
<p>Or, you can do as <a href="https://stackoverflow.com/users/244297/eugene-y">eugene y</a> stated and use the <a href="http://perldoc.perl.org/functions/index.html" rel="nofollow noreferrer">index</a> function.
Just a word of warning: Index returns a <code>-1</code> when it can't find a match instead of an <code>undef</code> or <code>0</code>.</p>
<p>Thus, this is an error:</p>
<pre><code>my $substring = &quot;s1.domain.example&quot;;
if (not index($mystring, $substr)) {
    print qq(&quot;$mystring&quot; doesn't contains &quot;$substring&quot;\n&quot;;
}
</code></pre>
<p>This will be wrong if <code>s1.domain.example</code> is at the beginning of your string. I've personally been burned on this more than once.</p>
<h4> Comment by G. Cito, Score: 1, Id: 58915222, created_at: 2016-02-25 00:20:03+00:00 </h4>An attempted perl answer to a question about <a href="http://stackoverflow.com/a/35593275/2019415">removing substrings</a> - I did not compare speed but <code>=~</code>, <code>index()</code>, <code>~~</code> and <a href="https://metacpan.org/pod/match::simple" rel="nofollow noreferrer"><code>match::simple</code></a> all seemed a bit <code>awk</code>-ward ... :-\<h4> Comment by G. Cito, Score: 0, Id: 58915151, created_at: 2016-02-25 00:16:50+00:00 </h4>I suppose <code>index()</code> is  faster than regexps in the simple case?<h4> Comment by BlueChips23, Score: 0, Id: 68313060, created_at: 2016-11-10 20:51:38+00:00 </h4>You also have to make sure that the strings that you are comparing is not case sensitive. S1.DOMAIN.COM will not work for substring. But if you lc($givendomain), and then compare that with &quot;s1.domain.com&quot;, then that will work. Also, substring is not necessarily the right approach - see my note above to eugene y&#39;s response<h4> Comment by avrono, Score: 0, Id: 68450851, created_at: 2016-11-15 11:05:47+00:00 </h4>@David W. Somehow I can&#39;t get <code>domain.com</code> to match <code>subdomain.domain.com</code> using the REGEX above, any ideas ?<hr><h3>  Answer by James Oravec, Id: 27806628, Score: 16, created_at: 2015-01-06 20:24:40+00:00 </h3><p><strong>Case Insensitive Substring Example</strong></p>

<p>This is an extension of Eugene's answer, which converts the strings to lower case before checking for the substring:</p>

<pre><code>if (index(lc($str), lc($substr)) != -1) {
    print "$str contains $substr\n";
} 
</code></pre>
<h4> Comment by melpomene, Score: 3, Id: 101948264, created_at: 2019-09-02 11:11:39+00:00 </h4>Note that <a href="https://perldoc.pl/functions/fc" rel="nofollow noreferrer"><code>fc</code></a> is recommended over <code>lc</code> for case-insensitive comparisons.
 <h2> Title: Convert string &quot;Jun 1 2005 1:33PM&quot; into datetime </h2> <h4> Oli, question_id: 466345 </h4>Score: 2946, Tags: {python,datetime} <br><p>I have a huge list of datetime strings like the following</p>
<pre class="lang-py prettyprint-override"><code>[&quot;Jun 1 2005 1:33PM&quot;, &quot;Aug 28 1999 12:00AM&quot;]
</code></pre>
<p>How do I convert them into <a href="https://docs.python.org/3/library/datetime.html#datetime-objects" rel="noreferrer"><code>datetime</code></a> objects?</p>
<h4> smci, Id: 82612834 Score: 10: </h4>Unless you&#39;re sure one format handles every single date-time (no &#39;&#39;, no NaNs, no incompletes, no format mismatches, no trailing characters, timezones, microsecond timestamps, or other text...), the exception-happiness of <code>strptime()</code> will drive you nuts, unless you wrap it. See my answer, based on <a href="https://stackoverflow.com/a/24547627/202229">Or Weis answer to this</a><br><h4> Ben, Id: 116729277 Score: 1: </h4><code>datetime.strptime</code> as others have mentioned. For those who prefer a video explanation, <a href="https://youtu.be/2VyOsBTWLOI?t=419" rel="nofollow noreferrer">see here</a>.<br><h4> Way Too Simple, Id: 103629882 Score: 0: </h4>The laziest, most widely usable approach I know is dateparser (check <a href="https://blog.scrapinghub.com/2015/11/09/parse-natural-language-dates-with-dateparser" rel="nofollow noreferrer">blog.scrapinghub.com/2015/11/09/&hellip;</a>). It works even with natural language time expressions in several languages out of the box. I guess it can be slow though.<br><h4> GoingMyWay, Id: 105348517 Score: 0: </h4>There is a helpful link here: <a href="https://stackabuse.com/converting-strings-to-datetime-in-python/" rel="nofollow noreferrer">stackabuse.com/converting-strings-to-datetime-in-python</a><br>------------------------------------------------------------------ <br><h3> Patrick Harrington, Id: 466376, Score: 4423: </h3><p><a href="https://docs.python.org/3/library/datetime.html#datetime.datetime.strptime" rel="noreferrer"><code>datetime.strptime</code></a> parses an input string in the user-specified format into a <em>timezone-naive</em> <a href="https://docs.python.org/3/library/datetime.html#datetime-objects" rel="noreferrer"><code>datetime</code></a> object:</p>
<pre><code>&gt;&gt;&gt; from datetime import datetime
&gt;&gt;&gt; datetime.strptime('Jun 1 2005  1:33PM', '%b %d %Y %I:%M%p')
datetime.datetime(2005, 6, 1, 13, 33)
</code></pre>
<p>To obtain a <a href="https://docs.python.org/3/library/datetime.html#date-objects" rel="noreferrer"><code>date</code></a> object using an existing <code>datetime</code> object, convert it using <code>.date()</code>:</p>
<pre><code>&gt;&gt;&gt; datetime.strptime('Jun 1 2005', '%b %d %Y').date()
date(2005, 6, 1)
</code></pre>
<hr />
<p><strong>Links:</strong></p>
<ul>
<li><p><code>strptime</code> docs: <a href="https://docs.python.org/2/library/datetime.html#datetime.datetime.strptime" rel="noreferrer" title="datetime.datetime.strptime">Python 2</a>, <a href="https://docs.python.org/3/library/datetime.html#datetime.datetime.strptime" rel="noreferrer">Python 3</a></p>
</li>
<li><p><code>strptime</code>/<code>strftime</code> format string docs: <a href="https://docs.python.org/2/library/datetime.html#strftime-and-strptime-behavior" rel="noreferrer" title="strftime-and-strptime-behavior">Python 2</a>, <a href="https://docs.python.org/3/library/datetime.html#strftime-and-strptime-behavior" rel="noreferrer">Python 3</a></p>
</li>
<li><p><a href="http://strftime.org/" rel="noreferrer">strftime.org</a> format string cheatsheet</p>
</li>
</ul>
<p><strong>Notes:</strong></p>
<ul>
<li><code>strptime</code> = &quot;string parse time&quot;</li>
<li><code>strftime</code> = &quot;string format time&quot;</li>
</ul>
<h4> Izkata, Comment 42304946 Score: 33: </h4>@User You&#39;ll have to know ahead of time to exclude that part of the format string, but if you want a <code>date</code> instead of a <code>datetime</code>, going through <code>datetime</code> handles it nicely:  <code>datetime.strptime(&#39;Jun 1 2005&#39;, &#39;%b %d %Y&#39;).date() == date(2005, 6, 1)</code><br><h4> Flimm, Comment 69281629 Score: 23: </h4>If you know the string represents a datetime in UTC, you can get a timezone aware <code>datetime</code> object by adding this line in Python 3: <code>from datetime import timezone; datetime_object = datetime_object.replace(tzinfo=timezone.utc)</code><br><h4> jfs, Comment 35782427 Score: 11: </h4>&#39;%b&#39;, &#39;%p&#39; may fail in non-English locale.<br><h4> User, Comment 35812420 Score: 1: </h4>What is the string doesn&#39;t have the time, just &quot;April 25, 2014&quot;<br><h4> hm6, Comment 125500802 Score: 1: </h4>In my case, &quot;<a href="https://stackoverflow.com/a/54830426/6784445">stackoverflow.com/a/54830426/6784445</a>&quot; answer was a better match and I was hoping if we could include it to this solution as a complement.<br>------------------------------------------------------------------ <br><h3> Simon Willison, Id: 470303, Score: 1068: </h3><p>Use the third-party <a href="https://dateutil.readthedocs.io" rel="noreferrer"><code>dateutil</code></a> library:</p>
<pre><code>from dateutil import parser
parser.parse(&quot;Aug 28 1999 12:00AM&quot;)  # datetime.datetime(1999, 8, 28, 0, 0)
</code></pre>
<p>It can handle most date formats and is more convenient than <code>strptime</code> since it usually guesses the correct format. It is also very useful for writing tests, where readability is more important than performance.</p>
<p>Install it with:</p>
<pre><code>pip install python-dateutil
</code></pre>
<h4> Paweł Polewicz, Comment 7732028 Score: 125: </h4>Be aware that for large data amounts this might not be the most optimal way to approach the problem. Guessing the format every single time may be horribly slow.<br><h4> brian buck, Comment 9427690 Score: 29: </h4>This is nice but it would be nice to have a solution that is built-in rather than having to go to a third party.<br><h4> wisbucky, Comment 123669626 Score: 2: </h4>This is great for situations where you cannot guarantee the date format.<br><h4> java-addict301, Comment 133867889 Score: 1: </h4>oh cmon.  Python always brags about great standard library.  it can&#39;t do THIS?<br><h4> theProcrastinator, Comment 126066246 Score: 0: </h4>If you have uncertain formats and some of those are incomplete, like <code>June 2009</code> instead of <code>12 June 2009</code>, it would assume any arbitrary day. Same goes for dates without month.<br>------------------------------------------------------------------ <br><h3> florin, Id: 466366, Score: 515: </h3><p>Check out <a href="http://docs.python.org/3/library/time.html#time.strptime" rel="noreferrer">strptime</a> in the <a href="http://docs.python.org/3/library/time.html" rel="noreferrer">time</a> module.  It is the inverse of <a href="http://docs.python.org/3/library/time.html#time.strftime" rel="noreferrer">strftime</a>.</p>

<pre><code>$ python
&gt;&gt;&gt; import time
&gt;&gt;&gt; my_time = time.strptime('Jun 1 2005  1:33PM', '%b %d %Y %I:%M%p')
time.struct_time(tm_year=2005, tm_mon=6, tm_mday=1,
                 tm_hour=13, tm_min=33, tm_sec=0,
                 tm_wday=2, tm_yday=152, tm_isdst=-1)

timestamp = time.mktime(my_time)
# convert time object to datetime
from datetime import datetime
my_datetime = datetime.fromtimestamp(timestamp)
# convert time object to date
from datetime import date
my_date = date.fromtimestamp(timestamp)
</code></pre>
<h4> Alexander Bird, Comment 3848927 Score: 18: </h4>From what I understand, this answer only outputs time objects, not datetime objects -- which is why the answer would be buried compared to Patrick&#39;s answer.<br>------------------------------------------------------------------ <br><h3> SuperNova, Id: 54830426, Score: 274: </h3><h2>Python &gt;= 3.7</h2>
<p>To convert a <strong>YYYY-MM-DD</strong> string to a datetime object, <a href="https://docs.python.org/3/library/datetime.html#datetime.datetime.fromisoformat" rel="noreferrer">datetime.fromisoformat</a> could be used.</p>
<pre class="lang-py prettyprint-override"><code>from datetime import datetime

date_string = &quot;2012-12-12 10:10:10&quot;
print (datetime.fromisoformat(date_string))
2012-12-12 10:10:10
</code></pre>
<p>Caution from the documentation:</p>
<blockquote>
<p>This does <em>not</em> support parsing arbitrary ISO 8601 strings - it is only intended as the inverse operation of <a href="https://docs.python.org/3/library/datetime.html#datetime.datetime.isoformat" rel="noreferrer"><code>datetime.isoformat()</code></a>. A more full-featured ISO 8601 parser, <code>dateutil.parser.isoparse</code> is available in the third-party package <a href="https://dateutil.readthedocs.io/en/stable/parser.html#dateutil.parser.isoparse" rel="noreferrer"><code>dateutil</code></a>.</p>
</blockquote>
<h4> Zincfan, Comment 126188056 Score: 1: </h4>This <code>fromisoformat()</code> seems to return timezone unaware datetime format in my case. So subtracting from <code>datetime.datetime.now()</code> gives you error. See this,<a href="https://stackoverflow.com/questions/4530069/how-do-i-get-a-value-of-datetime-today-in-python-that-is-timezone-aware/4530166#4530166" title="how do i get a value of datetime today in python that is timezone aware">stackoverflow.com/questions/4530069/&hellip;</a><br><h4> Walter Tross, Comment 127835265 Score: 0: </h4>This answer is extremely useful to most people landing here, even though it&#39;s not appropriate for the original question.<br><h4> Flimm, Comment 128995275 Score: 0: </h4>@Zincfan <code>fromisoformat</code> does return <code>datetime</code> objects with timezone offsets in the right cases. See Python&#39;s documentation: <a href="https://docs.python.org/3/library/datetime.html#datetime.datetime.fromisoformat" rel="nofollow noreferrer">docs.python.org/3/library/&hellip;</a><br><h4> java-addict301, Comment 133867901 Score: 0: </h4>can hardly believe they would add a method so misleading.  If can&#39;t parse iso, why name iso?<br><h4> hm6, Comment 125500758 Score: 0: </h4>Is there a way to include this answer in the top answer?<br>------------------------------------------------------------------ <br><h3> Steve Peak, Id: 22128786, Score: 133: </h3><p>I have put together a project that can convert some really neat expressions. Check out <strong><a href="http://github.com/stevepeak/timestring" rel="noreferrer">timestring</a></strong>.</p>
<h2>Here are some examples below:</h2>
<code>pip install timestring</code>
<pre><code>&gt;&gt;&gt; import timestring
&gt;&gt;&gt; timestring.Date('monday, aug 15th 2015 at 8:40 pm')
&lt;timestring.Date 2015-08-15 20:40:00 4491909392&gt;
&gt;&gt;&gt; timestring.Date('monday, aug 15th 2015 at 8:40 pm').date
datetime.datetime(2015, 8, 15, 20, 40)
&gt;&gt;&gt; timestring.Range('next week')
&lt;timestring.Range From 03/10/14 00:00:00 to 03/03/14 00:00:00 4496004880&gt;
&gt;&gt;&gt; (timestring.Range('next week').start.date, timestring.Range('next week').end.date)
(datetime.datetime(2014, 3, 10, 0, 0), datetime.datetime(2014, 3, 14, 0, 0))
</code></pre>
------------------------------------------------------------------ <br><h3> Rizwan Mumtaz, Id: 27401685, Score: 70: </h3><p>Remember this and you didn't need to get confused in datetime conversion again.</p>

<p>String to datetime object = <code>strptime</code></p>

<p>datetime object to other formats = <code>strftime</code></p>

<p><code>Jun 1 2005  1:33PM</code></p>

<p>is equals to</p>

<p><code>%b %d %Y %I:%M%p</code></p>

<blockquote>
  <p>%b    Month as locale’s abbreviated name(Jun)</p>
  
  <p>%d    Day of the month as a zero-padded decimal number(1)</p>
  
  <p>%Y    Year with century as a decimal number(2015)</p>
  
  <p>%I    Hour (12-hour clock) as a zero-padded decimal number(01)</p>
  
  <p>%M    Minute as a zero-padded decimal number(33)</p>
  
  <p>%p    Locale’s equivalent of either AM or PM(PM)</p>
</blockquote>

<p>so you need strptime i-e converting <code>string</code> to </p>

<pre><code>&gt;&gt;&gt; dates = []
&gt;&gt;&gt; dates.append('Jun 1 2005  1:33PM')
&gt;&gt;&gt; dates.append('Aug 28 1999 12:00AM')
&gt;&gt;&gt; from datetime import datetime
&gt;&gt;&gt; for d in dates:
...     date = datetime.strptime(d, '%b %d %Y %I:%M%p')
...     print type(date)
...     print date
... 
</code></pre>

<p>Output</p>

<pre><code>&lt;type 'datetime.datetime'&gt;
2005-06-01 13:33:00
&lt;type 'datetime.datetime'&gt;
1999-08-28 00:00:00
</code></pre>

<p>What if you have different format of dates you can use panda or dateutil.parse</p>

<pre><code>&gt;&gt;&gt; import dateutil
&gt;&gt;&gt; dates = []
&gt;&gt;&gt; dates.append('12 1 2017')
&gt;&gt;&gt; dates.append('1 1 2017')
&gt;&gt;&gt; dates.append('1 12 2017')
&gt;&gt;&gt; dates.append('June 1 2017 1:30:00AM')
&gt;&gt;&gt; [parser.parse(x) for x in dates]
</code></pre>

<p>OutPut</p>

<pre><code>[datetime.datetime(2017, 12, 1, 0, 0), datetime.datetime(2017, 1, 1, 0, 0), datetime.datetime(2017, 1, 12, 0, 0), datetime.datetime(2017, 6, 1, 1, 30)]
</code></pre>
------------------------------------------------------------------ <br><h3> Janus Troelsen, Id: 22223725, Score: 51: </h3><p>Many timestamps have an implied timezone. To ensure that your code will work in every timezone, you should use UTC internally and attach a timezone each time a foreign object enters the system.</p>
<p>Python 3.2+:</p>
<pre><code>&gt;&gt;&gt; datetime.datetime.strptime(
...     &quot;March 5, 2014, 20:13:50&quot;, &quot;%B %d, %Y, %H:%M:%S&quot;
... ).replace(tzinfo=datetime.timezone(datetime.timedelta(hours=-3)))
</code></pre>
<p>This assumes you know the offset. If you don't, but you know e.g. the location, you can use the <code>pytz</code> package to query the <a href="https://www.iana.org/time-zones" rel="noreferrer">IANA time zone database</a> for the offset. I'll use Tehran here as an example because it has a half-hour offset:</p>
<pre><code>&gt;&gt;&gt; tehran = pytz.timezone(&quot;Asia/Tehran&quot;)
&gt;&gt;&gt; local_time = tehran.localize(
...   datetime.datetime.strptime(&quot;March 5, 2014, 20:13:50&quot;,
...                              &quot;%B %d, %Y, %H:%M:%S&quot;)
... )
&gt;&gt;&gt; local_time
datetime.datetime(2014, 3, 5, 20, 13, 50, tzinfo=&lt;DstTzInfo 'Asia/Tehran' +0330+3:30:00 STD&gt;)
</code></pre>
<p>As you can see, <code>pytz</code> has determined that the offset was +3:30 at that particular date. You can now convert this to UTC time, and it will apply the offset:</p>
<pre><code>&gt;&gt;&gt; utc_time = local_time.astimezone(pytz.utc)
&gt;&gt;&gt; utc_time
datetime.datetime(2014, 3, 5, 16, 43, 50, tzinfo=&lt;UTC&gt;)
</code></pre>
<p>Note that dates before the adoption of timezones will give you weird offsets. This is because the IANA has decided to use <a href="https://en.wikipedia.org/wiki/Local_mean_time" rel="noreferrer">Local Mean Time</a>:</p>
<pre><code>&gt;&gt;&gt; chicago = pytz.timezone(&quot;America/Chicago&quot;)
&gt;&gt;&gt; weird_time = chicago.localize(
...   datetime.datetime.strptime(&quot;November 18, 1883, 11:00:00&quot;,
...                              &quot;%B %d, %Y, %H:%M:%S&quot;)
... )
&gt;&gt;&gt; weird_time.astimezone(pytz.utc)
datetime.datetime(1883, 11, 18, 7, 34, tzinfo=&lt;UTC&gt;)
</code></pre>
<p>The weird &quot;7 hours and 34 minutes&quot; are derived from the longitude of Chicago. I used this timestamp because it is right before <a href="https://www.loc.gov/item/today-in-history/november-18/#time" rel="noreferrer">standardized time was adopted in Chicago</a>.</p>
------------------------------------------------------------------ <br><h3> jjm, Id: 64199825, Score: 39: </h3><p>If your string is in <a href="https://en.wikipedia.org/wiki/ISO_8601" rel="nofollow noreferrer">ISO 8601</a> format and you have Python 3.7+, you can use the following simple code:</p>
<pre><code>import datetime

aDate = datetime.date.fromisoformat('2020-10-04')
</code></pre>
<p>for dates and</p>
<pre><code>import datetime

aDateTime = datetime.datetime.fromisoformat('2020-10-04 22:47:00')
</code></pre>
<p>for strings containing date and time. If timestamps are included, the function <code>datetime.datetime.isoformat()</code> supports the following format:</p>
<pre><code>YYYY-MM-DD[*HH[:MM[:SS[.fff[fff]]]][+HH:MM[:SS[.ffffff]]]]
</code></pre>
<p>Where <code>*</code> matches any single character. See also <a href="https://docs.python.org/3/library/datetime.html#datetime.date.fromisoformat" rel="nofollow noreferrer">here</a> and <a href="https://docs.python.org/3/library/datetime.html#datetime.datetime.fromisoformat" rel="nofollow noreferrer">here</a>.</p>
------------------------------------------------------------------ <br><h3> Alexander, Id: 34377575, Score: 34: </h3><p>Here are two solutions using Pandas to convert dates formatted as strings into datetime.date objects.</p>

<pre><code>import pandas as pd

dates = ['2015-12-25', '2015-12-26']

# 1) Use a list comprehension.
&gt;&gt;&gt; [d.date() for d in pd.to_datetime(dates)]
[datetime.date(2015, 12, 25), datetime.date(2015, 12, 26)]

# 2) Convert the dates to a DatetimeIndex and extract the python dates.
&gt;&gt;&gt; pd.DatetimeIndex(dates).date.tolist()
[datetime.date(2015, 12, 25), datetime.date(2015, 12, 26)]
</code></pre>

<p><strong>Timings</strong></p>

<pre><code>dates = pd.DatetimeIndex(start='2000-1-1', end='2010-1-1', freq='d').date.tolist()

&gt;&gt;&gt; %timeit [d.date() for d in pd.to_datetime(dates)]
# 100 loops, best of 3: 3.11 ms per loop

&gt;&gt;&gt; %timeit pd.DatetimeIndex(dates).date.tolist()
# 100 loops, best of 3: 6.85 ms per loop
</code></pre>

<p>And here is how to convert the OP's original date-time examples:</p>

<pre><code>datetimes = ['Jun 1 2005  1:33PM', 'Aug 28 1999 12:00AM']

&gt;&gt;&gt; pd.to_datetime(datetimes).to_pydatetime().tolist()
[datetime.datetime(2005, 6, 1, 13, 33), 
 datetime.datetime(1999, 8, 28, 0, 0)]
</code></pre>

<p>There are many options for converting from the strings to Pandas Timestamps using <code>to_datetime</code>, so check the <a href="http://pandas.pydata.org/pandas-docs/stable/generated/pandas.to_datetime.html" rel="noreferrer">docs</a> if you need anything special.</p>

<p>Likewise, Timestamps have many <a href="http://pandas.pydata.org/pandas-docs/stable/api.html#datetimelike-properties" rel="noreferrer">properties and methods</a> that can be accessed in addition to <code>.date</code></p>
<h4> FObersteiner, Comment 122772525 Score: 0: </h4>I think timings have changed by now (Python 3.9, pandas 1.3.3); <code>pd.DatetimeIndex(dates).date.tolist()</code> runs about 3x faster than <code>[d.date() for d in pd.to_datetime(dates)]</code> on my machine.<br>------------------------------------------------------------------ <br><h3> user1767754, Id: 48054268, Score: 33: </h3><p>I personally like the solution using the <code>parser</code> module, which is the second answer to this question and is beautiful, as you don't have to construct any string literals to get it working. <strong>But</strong>, one downside is that it is <strong>90% slower</strong> than the accepted answer with <code>strptime</code>.</p>
<pre><code>from dateutil import parser
from datetime import datetime
import timeit

def dt():
    dt = parser.parse(&quot;Jun 1 2005  1:33PM&quot;)
def strptime():
    datetime_object = datetime.strptime('Jun 1 2005  1:33PM', '%b %d %Y %I:%M%p')

print(timeit.timeit(stmt=dt, number=10**5))
print(timeit.timeit(stmt=strptime, number=10**5))
</code></pre>
<p>Output:</p>
<blockquote>
<p>10.70296801342902 <br />
1.3627995655316933</p>
</blockquote>
<p>As long as you are not doing this <em>a million</em> times over and over again, I still think the <code>parser</code> method is more convenient and will handle most of the time formats automatically.</p>
------------------------------------------------------------------ <br><h3> guneysus, Id: 34871180, Score: 19: </h3><pre><code>In [34]: import datetime

In [35]: _now = datetime.datetime.now()

In [36]: _now
Out[36]: datetime.datetime(2016, 1, 19, 9, 47, 0, 432000)

In [37]: print _now
2016-01-19 09:47:00.432000

In [38]: _parsed = datetime.datetime.strptime(str(_now),"%Y-%m-%d %H:%M:%S.%f")

In [39]: _parsed
Out[39]: datetime.datetime(2016, 1, 19, 9, 47, 0, 432000)

In [40]: assert _now == _parsed
</code></pre>
------------------------------------------------------------------ <br><h3> Aram Kocharyan, Id: 7761860, Score: 25: </h3><p>Something that isn't mentioned here and is useful: adding a suffix to the day. I decoupled the suffix logic so you can use it for any number you like, not just dates.</p>

<pre><code>import time

def num_suffix(n):
    '''
    Returns the suffix for any given int
    '''
    suf = ('th','st', 'nd', 'rd')
    n = abs(n) # wise guy
    tens = int(str(n)[-2:])
    units = n % 10
    if tens &gt; 10 and tens &lt; 20:
        return suf[0] # teens with 'th'
    elif units &lt;= 3:
        return suf[units]
    else:
        return suf[0] # 'th'

def day_suffix(t):
    '''
    Returns the suffix of the given struct_time day
    '''
    return num_suffix(t.tm_mday)

# Examples
print num_suffix(123)
print num_suffix(3431)
print num_suffix(1234)
print ''
print day_suffix(time.strptime("1 Dec 00", "%d %b %y"))
print day_suffix(time.strptime("2 Nov 01", "%d %b %y"))
print day_suffix(time.strptime("3 Oct 02", "%d %b %y"))
print day_suffix(time.strptime("4 Sep 03", "%d %b %y"))
print day_suffix(time.strptime("13 Nov 90", "%d %b %y"))
print day_suffix(time.strptime("14 Oct 10", "%d %b %y"))​​​​​​​
</code></pre>
------------------------------------------------------------------ <br><h3> Ryu_hayabusa, Id: 27046382, Score: 17: </h3><p>Django Timezone aware datetime object example.</p>

<pre><code>import datetime
from django.utils.timezone import get_current_timezone
tz = get_current_timezone()

format = '%b %d %Y %I:%M%p'
date_object = datetime.datetime.strptime('Jun 1 2005  1:33PM', format)
date_obj = tz.localize(date_object)
</code></pre>

<p>This conversion is very important for Django and Python when you have <code>USE_TZ = True</code>:</p>

<pre><code>RuntimeWarning: DateTimeField MyModel.created received a naive datetime (2016-03-04 00:00:00) while time zone support is active.
</code></pre>
------------------------------------------------------------------ <br><h3> Mackraken, Id: 35202640, Score: 16: </h3><p>Create a small utility function like:</p>

<pre><code>def date(datestr="", format="%Y-%m-%d"):
    from datetime import datetime
    if not datestr:
        return datetime.today().date()
    return datetime.strptime(datestr, format).date()
</code></pre>

<p>This is versatile enough:</p>

<ul>
<li>If you don't pass any arguments it will return today's date.</li>
<li>There's a date format as default that you can override.</li>
<li>You can easily modify it to return a datetime.</li>
</ul>
------------------------------------------------------------------ <br><h3> Kanish Mathew, Id: 51869533, Score: 16: </h3><p>This would be helpful for converting a string to datetime and also with a time zone:</p>
<pre><code>def convert_string_to_time(date_string, timezone):

    from datetime import datetime
    import pytz

    date_time_obj = datetime.strptime(date_string[:26], '%Y-%m-%d %H:%M:%S.%f')
    date_time_obj_timezone = pytz.timezone(timezone).localize(date_time_obj)

    return date_time_obj_timezone

date = '2018-08-14 13:09:24.543953+00:00'
TIME_ZONE = 'UTC'
date_time_obj_timezone = convert_string_to_time(date, TIME_ZONE)
</code></pre>
------------------------------------------------------------------ <br><h3> Bill Bell, Id: 42515333, Score: 11: </h3><p><strong>arrow</strong> offers many useful functions for dates and times. This bit of code provides an answer to the question and shows that arrow is also capable of formatting dates easily and displaying information for other locales.</p>

<pre><code>&gt;&gt;&gt; import arrow
&gt;&gt;&gt; dateStrings = [ 'Jun 1  2005 1:33PM', 'Aug 28 1999 12:00AM' ]
&gt;&gt;&gt; for dateString in dateStrings:
...     dateString
...     arrow.get(dateString.replace('  ',' '), 'MMM D YYYY H:mmA').datetime
...     arrow.get(dateString.replace('  ',' '), 'MMM D YYYY H:mmA').format('ddd, Do MMM YYYY HH:mm')
...     arrow.get(dateString.replace('  ',' '), 'MMM D YYYY H:mmA').humanize(locale='de')
...
'Jun 1  2005 1:33PM'
datetime.datetime(2005, 6, 1, 13, 33, tzinfo=tzutc())
'Wed, 1st Jun 2005 13:33'
'vor 11 Jahren'
'Aug 28 1999 12:00AM'
datetime.datetime(1999, 8, 28, 0, 0, tzinfo=tzutc())
'Sat, 28th Aug 1999 00:00'
'vor 17 Jahren'
</code></pre>

<p>See <a href="http://arrow.readthedocs.io/en/latest/" rel="nofollow noreferrer">http://arrow.readthedocs.io/en/latest/</a> for more.</p>
------------------------------------------------------------------ <br><h3> Bilesh Ganguly, Id: 59706589, Score: 10: </h3><p>You can also check out <a href="https://dateparser.readthedocs.io/en/latest/" rel="nofollow noreferrer"><code>dateparser</code></a>:</p>
<blockquote>
<p><a href="https://pypi.org/project/dateparser/" rel="nofollow noreferrer"><code>dateparser</code></a> provides modules to easily parse localized dates in almost
any string formats commonly found on web pages.</p>
</blockquote>
<p>Install:</p>
<pre><code>pip install dateparser
</code></pre>
<p>This is, I think, the easiest way you can parse dates.</p>
<blockquote>
<p>The most straightforward way is to use the <code>dateparser.parse</code> function,
that wraps around most of the functionality in the module.</p>
</blockquote>
<p>Sample code:</p>
<pre class="lang-python prettyprint-override"><code>import dateparser

t1 = 'Jun 1 2005  1:33PM'
t2 = 'Aug 28 1999 12:00AM'

dt1 = dateparser.parse(t1)
dt2 = dateparser.parse(t2)

print(dt1)
print(dt2)
</code></pre>
<p>Output:</p>
<pre class="lang-none prettyprint-override"><code>2005-06-01 13:33:00
1999-08-28 00:00:00
</code></pre>
------------------------------------------------------------------ <br><h3> Raphael Amoedo, Id: 30577110, Score: 7: </h3><p>You can use <a href="https://github.com/ralphavalon/easy_date" rel="noreferrer">easy_date</a> to make it easy:</p>

<pre><code>import date_converter
converted_date = date_converter.string_to_datetime('Jun 1 2005  1:33PM', '%b %d %Y %I:%M%p')
</code></pre>
------------------------------------------------------------------ <br><h3> Javed, Id: 47925290, Score: 5: </h3><p>If you want only date format then you can manually convert it by passing your individual fields like:</p>

<pre><code>&gt;&gt;&gt; import datetime
&gt;&gt;&gt; date = datetime.date(int('2017'),int('12'),int('21'))
&gt;&gt;&gt; date
datetime.date(2017, 12, 21)
&gt;&gt;&gt; type(date)
&lt;type 'datetime.date'&gt;
</code></pre>

<p>You can pass your split string values to convert it into date type like:</p>

<pre><code>selected_month_rec = '2017-09-01'
date_formate = datetime.date(int(selected_month_rec.split('-')[0]),int(selected_month_rec.split('-')[1]),int(selected_month_rec.split('-')[2]))
</code></pre>

<p>You will get the resulting value in date format.</p>
------------------------------------------------------------------ <br><h3> Grant Shannon, Id: 69917740, Score: 5: </h3><p>Similar to <a href="https://stackoverflow.com/questions/466345/convert-string-jun-1-2005-133pm-into-datetime/47925290#47925290">Javed's answer</a>, I just wanted date from string - so combining <a href="https://stackoverflow.com/questions/466345/convert-string-jun-1-2005-133pm-into-datetime/470303#470303">Simon's</a> and Javed's logic, we get:</p>
<pre><code>from dateutil import parser
import datetime

s = '2021-03-04'

parser.parse(s).date()
</code></pre>
<p>Output</p>
<blockquote>
<p><code>datetime.date(2021, 3, 4)</code></p>
</blockquote>
------------------------------------------------------------------ <br><h3> Grzegorz, Id: 64114476, Score: 4: </h3><p>It seems using <a href="https://pandas.pydata.org/pandas-docs/stable/reference/api/pandas.Timestamp.html" rel="nofollow noreferrer">pandas Timestamp</a> is the fastest:</p>
<pre class="lang-none prettyprint-override"><code>import pandas as pd

N = 1000

l = ['Jun 1 2005  1:33PM'] * N

list(pd.to_datetime(l, format=format))

%timeit _ = list(pd.to_datetime(l, format=format))
1.58 ms ± 21.6 µs per loop (mean ± std. dev. of 7 runs, 1000 loops each)
</code></pre>
<h3>Other solutions</h3>
<pre class="lang-none prettyprint-override"><code>from datetime import datetime
%timeit _ = list(map(lambda x: datetime.strptime(x, format), l))
9.41 ms ± 95.7 µs per loop (mean ± std. dev. of 7 runs, 100 loops each)

from dateutil.parser import parse
%timeit _ = list(map(lambda x: parse(x), l))
73.8 ms ± 1.14 ms per loop (mean ± std. dev. of 7 runs, 10 loops each)
</code></pre>
<p>If the string is an <a href="https://en.wikipedia.org/wiki/ISO_8601" rel="nofollow noreferrer">ISO 8601</a> string, please use <a href="https://pypi.org/project/ciso8601/" rel="nofollow noreferrer">csio8601</a>:</p>
<pre class="lang-none prettyprint-override"><code>import ciso8601

l = ['2014-01-09'] * N

%timeit _ = list(map(lambda x: ciso8601.parse_datetime(x), l))
186 µs ± 4.13 µs per loop (mean ± std. dev. of 7 runs, 10000 loops each)
</code></pre>
------------------------------------------------------------------ <br><h3> officialrahulmandal, Id: 68889318, Score: 3: </h3><p>If you <em>don't</em> want to explicitly specify which format your string is in with respect to the date time format, you can use this hack to by pass that step:</p>
<pre><code>from dateutil.parser import parse

# Function that'll guess the format and convert it into the python datetime format
def update_event(start_datetime=None, end_datetime=None, description=None):
    if start_datetime is not None:
        new_start_time = parse(start_datetime)

        return new_start_time

# Sample input dates in different formats
d = ['06/07/2021 06:40:23.277000', '06/07/2021 06:40', '06/07/2021']

new = [update_event(i) for i in d]

for date in new:
    print(date)
    # Sample output dates in Python datetime object
    #   2014-04-23 00:00:00
    #   2013-04-24 00:00:00
    #   2014-04-25 00:00:00
</code></pre>
<p>If you want to convert it into some other datetime format, just modify the last line with the format you like for example something like <code>date.strftime('%Y/%m/%d %H:%M:%S.%f')</code>:</p>
<pre><code>from dateutil.parser import parse

def update_event(start_datetime=None, end_datetime=None, description=None):
    if start_datetime is not None:
        new_start_time = parse(start_datetime)

        return new_start_time

# Sample input dates in different formats
d = ['06/07/2021 06:40:23.277000', '06/07/2021 06:40', '06/07/2021']

# Passing the dates one by one through the function
new = [update_event(i) for i in d]

for date in new:
    print(date.strftime('%Y/%m/%d %H:%M:%S.%f'))
    # Sample output dates in required Python datetime object
    #   2021/06/07 06:40:23.277000
    #   2021/06/07 06:40:00.000000
    #   2021/06/07 00:00:00.000000
</code></pre>
<p>Try running the above snippet to have a better clarity.</p>
------------------------------------------------------------------ <br><h3> smci, Id: 47876476, Score: 2: </h3><p>See <a href="https://stackoverflow.com/questions/6615533/is-there-a-python-equivalent-to-cs-datetime-tryparse/47876446#47876446">my answer</a>.</p>

<p>In real-world data this is a real problem: multiple, mismatched, incomplete, inconsistent and multilanguage/region date formats, often mixed freely in one dataset. It's not ok for production code to fail, let alone go exception-happy like a fox.</p>

<p>We need to try...catch multiple datetime formats fmt1,fmt2,...,fmtn and suppress/handle the exceptions (from <code>strptime()</code>) for all those that mismatch (and in particular, avoid needing a yukky n-deep indented ladder of try..catch clauses). From <a href="https://stackoverflow.com/questions/6615533/is-there-a-python-equivalent-to-cs-datetime-tryparse/47876446#47876446">my solution</a></p>

<pre><code>def try_strptime(s, fmts=['%d-%b-%y','%m/%d/%Y']):
    for fmt in fmts:
        try:
            return datetime.strptime(s, fmt)
        except:
            continue

    return None # or reraise the ValueError if no format matched, if you prefer
</code></pre>
------------------------------------------------------------------ <br><h3> Riz.Khan, Id: 53995363, Score: 2: </h3><p>Use:</p>
<pre><code>emp = pd.read_csv(&quot;C:\\py\\programs\\pandas_2\\pandas\\employees.csv&quot;)
emp.info()
</code></pre>
<p>It shows &quot;Start Date Time&quot; Column and &quot;Last Login Time&quot; both are &quot;object = strings&quot; in data-frame:</p>
<pre class="lang-none prettyprint-override"><code>&lt;class 'pandas.core.frame.DataFrame'&gt;
RangeIndex: 1000 entries, 0 to 999
Data columns (total 8 columns):
First Name           933 non-null object
Gender               855 non-null object

    Start Date           1000 non-null object

    Last Login Time      1000 non-null object

Salary               1000 non-null int64
Bonus %              1000 non-null float64
Senior Management    933 non-null object
Team                 957 non-null object
dtypes: float64(1), int64(1), object(6)
memory usage: 62.6+ KB
</code></pre>
<p>By using the <code>parse_dates</code> option in <code>read_csv</code> mention, you can convert your string datetime into the pandas datetime format.</p>
<pre><code>emp = pd.read_csv(&quot;C:\\py\\programs\\pandas_2\\pandas\\employees.csv&quot;, parse_dates=[&quot;Start Date&quot;, &quot;Last Login Time&quot;])
emp.info()
</code></pre>
<p>Output:</p>
<pre class="lang-none prettyprint-override"><code>&lt;class 'pandas.core.frame.DataFrame'&gt;
RangeIndex: 1000 entries, 0 to 999
Data columns (total 8 columns):
First Name           933 non-null object
Gender               855 non-null object

     Start Date           1000 non-null datetime64[ns]
     Last Login Time      1000 non-null datetime64[ns]

Salary               1000 non-null int64
Bonus %              1000 non-null float64
Senior Management    933 non-null object
Team                 957 non-null object
dtypes: datetime64[ns](2), float64(1), int64(1), object(4)
memory usage: 62.6+ KB
</code></pre>
------------------------------------------------------------------ <br><h3> John Forbes, Id: 66809743, Score: 2: </h3><p>A short sample mapping a yyyy-mm-dd date string to a datetime.date object:</p>
<pre><code>from datetime import date
date_from_yyyy_mm_dd = lambda δ : date(*[int(_) for _ in δ.split('-')])
date_object = date_from_yyyy_mm_dd('2021-02-15')
</code></pre>
------------------------------------------------------------------ <br><h3> cottontail, Id: 76371233, Score: 2: </h3><p>You can take a look at all possible datetime formats at <a href="https://strftime.org/" rel="nofollow noreferrer">https://strftime.org/</a>.</p>
<p>If you have multiple strings to convert into datetime objects, you can either use a list comprehension or map <code>datetime.strptime</code>.</p>
<pre class="lang-py prettyprint-override"><code>from datetime import datetime
from itertools import repeat
from dateutil import parser

dates = [&quot;Jun 1 2005  1:33PM&quot;, &quot;Jun 3 2005  1:33PM&quot;]
# use list comprehension
parsed_dates = [datetime.strptime(d, '%b %d %Y  %I:%M%p') for d in dates]
# map the parser function
parsed_dates = list(map(datetime.strptime, dates, repeat('%b %d %Y %I:%M%p')))
# map parser.parse
parsed_dates = list(map(parser.parse, dates))
</code></pre>
<p>At least as of Python 3.10, mapping a built-in method like <code>datetime.strptime</code> is faster than a list comprehension. Also, it's probably worth mentioning that <code>dateutil.parser</code> is about 7 times slower than <code>datetime.strptime</code> which is really important if you need to parse many datetime strings.</p>
<p>If performance is an issue, a popular third-party library <code>pandas</code> offers <code>to_datetime</code> function that parses datetime strings really fast. It's over 2 times faster than <code>datetime.strptime</code> in a loop (even if you have to convert the pandas object back into a Python list). A nice thing about it is that when parsing duplicate date strings, unique converted dates are cached, so there's a significant speed-up. In the example below, the list with duplicate datetime strings are parsed 4 times faster than the list with unique datetime strings (so it's 8 times faster than <code>datetime.strptime</code>).</p>
<pre class="lang-py prettyprint-override"><code>import pandas as pd
dates = pd.date_range('2000', '2020', 1000000).strftime('%b %d %Y %I:%M%p').tolist()

%timeit _ = pd.to_datetime(dates, format='%b %d %Y %I:%M%p').tolist()
# 4.73 s ± 41.8 ms per loop (mean ± std. dev. of 7 runs, 10 loops each)

%timeit _ = [datetime.strptime(d, '%b %d %Y %I:%M%p') for d in dates]
# 9.73 s ± 48.5 ms per loop (mean ± std. dev. of 7 runs, 10 loops each)

%timeit _ = list(map(datetime.strptime, dates, repeat('%b %d %Y %I:%M%p')))
# 9.63 s ± 23.8 ms per loop (mean ± std. dev. of 7 runs, 10 loops each)


# with duplicate dates, it's even faster
dates = pd.date_range('2000-1-1', '2000-1-2', 1000000).strftime('%b %d %Y %I:%M%p').tolist()

%timeit _ = pd.to_datetime(dates, format='%b %d %Y %I:%M%p').tolist()
# 1.16 s ± 8.11 ms per loop (mean ± std. dev. of 7 runs, 10 loops each)
</code></pre>
------------------------------------------------------------------ <br><h3> Niyaz, Id: 74103496, Score: 0: </h3><pre><code>#Convert String to datetime
&gt;&gt;&gt; x=datetime.strptime('Jun 1 2005', '%b %d %Y').date()
&gt;&gt;&gt; print(x,type(x))
2005-06-01 00:00:00 &lt;class 'datetime.datetime'&gt;


#Convert datetime to String (Reverse above process)
&gt;&gt;&gt; y=x.strftime('%b %d %Y')
&gt;&gt;&gt; print(y,type(y))
Jun 01 2005 &lt;class 'str'&gt;
</code></pre>

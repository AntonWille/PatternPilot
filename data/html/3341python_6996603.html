 <h2> Title: How can I delete a file or folder in Python? </h2> <h4> Zygimantas, question_id: 6996603 </h4>Score: 3341, Tags: {python,file-io,directory,delete-file} <br><p>How can I delete a file or folder in Python?</p>
------------------------------------------------------------------ <br><h3> RichieHindle, Id: 6996628, Score: 4798: </h3><p>Use one of these methods:</p>
<ul>
<li><p><a href="https://docs.python.org/3/library/pathlib.html#pathlib.Path.unlink" rel="noreferrer"><code>pathlib.Path.unlink()</code></a> removes a file or symbolic link.</p>
</li>
<li><p><a href="https://docs.python.org/3/library/pathlib.html#pathlib.Path.rmdir" rel="noreferrer"><code>pathlib.Path.rmdir()</code></a> removes an empty directory.</p>
</li>
<li><p><a href="http://docs.python.org/library/shutil.html#shutil.rmtree" rel="noreferrer"><code>shutil.rmtree()</code></a> deletes a directory and all its contents.</p>
</li>
</ul>
<hr />
<p>On Python 3.3 and below, you can use these methods instead of the <a href="https://docs.python.org/3/library/pathlib.html" rel="noreferrer"><code>pathlib</code></a> ones:</p>
<ul>
<li><p><a href="http://docs.python.org/library/os.html#os.remove" rel="noreferrer"><code>os.remove()</code></a> removes a file.</p>
</li>
<li><p><a href="https://docs.python.org/3/library/os.html#os.unlink" rel="noreferrer"><code>os.unlink()</code></a> removes a symbolic link.</p>
</li>
<li><p><a href="http://docs.python.org/library/os.html#os.rmdir" rel="noreferrer"><code>os.rmdir()</code></a> removes an empty directory.</p>
</li>
</ul>
<h4> user1142217, Comment 89311637 Score: 100: </h4>If the file doesn&#39;t exist, <code>os.remove()</code> throws an exception, so it may be necessary to check <code>os.path.isfile()</code> first, or wrap in a <code>try</code>.<br><h4> PedroA, Comment 106226915 Score: 38: </h4>just for completion... the exception thrown by <code>os.remove()</code> if a file doesn&#39;t exist is <code>FileNotFoundError</code>.<br><h4> Felix, Comment 115279114 Score: 17: </h4>@J&#233;r&#244;me I think <code>missing_ok=True</code>, <a href="https://docs.python.org/3/library/pathlib.html#pathlib.Path.unlink" rel="nofollow noreferrer">added</a> in 3.8 solves that!<br><h4> Ilya Serbis, Comment 56463566 Score: 9: </h4>os.rmdir() on Windows also removes directory symbolic link even if the target dir isn&#39;t empty<br><h4> R&#250;ben Dias, Comment 136805994 Score: 0: </h4>According to the Python documentation os.remove() and os.unlink() are synonymous and both can remove files and symbolic lins. Thats not exactly the same what you wrote? But I didn&#39;t try, maybe documentation is wrong?<br><h4> Petr Vepřek, Comment 116962680 Score: 0: </h4><a href="https://docs.python.org/3/library/os.html?highlight=removedirs#os.removedirs" rel="nofollow noreferrer">os.removedirs</a> removes a branch of empty directories (i.e. it first deletes empty leaf directory and then it continues up the branch hierarchy deleting all empty directories).<br><h4> user324747, Comment 109146811 Score: 0: </h4>Does <code>os.remove() </code> take multiple arguments to delete multiple files, or do you call it each time for each file?<br><h4> mcp, Comment 125766159 Score: 0: </h4>If you opened the file in a <code>with</code> statement and assigned it to <code>f</code>, you can issue <code>os.remove(f.name)</code> within the <code>with</code> block.<br>------------------------------------------------------------------ <br><h3> Anand Tripathi, Id: 42641792, Score: 724: </h3><h2>Python syntax to delete a file</h2>
<pre><code>import os
os.remove(&quot;/tmp/&lt;file_name&gt;.txt&quot;)
</code></pre>
<p>or</p>
<pre><code>import os
os.unlink(&quot;/tmp/&lt;file_name&gt;.txt&quot;)
</code></pre>
<p>or</p>
<p><strong><a href="https://docs.python.org/3/library/pathlib.html#module-pathlib" rel="noreferrer">pathlib</a> Library for Python version &gt;= 3.4</strong></p>
<pre><code>file_to_rem = pathlib.Path(&quot;/tmp/&lt;file_name&gt;.txt&quot;)
file_to_rem.unlink()
</code></pre>
<h2>Path.unlink(missing_ok=False)</h2>
<p>Unlink method used to remove the file or the symbolik link.</p>
<blockquote>
<ul>
<li>If missing_ok is false (the default), FileNotFoundError is raised if    the path does not exist.</li>
<li>If missing_ok is true, FileNotFoundError exceptions will be ignored    (same behavior as the POSIX rm -f command).</li>
<li>Changed in version 3.8: The missing_ok parameter was added.</li>
</ul>
</blockquote>
<h2>Best practice</h2>
<p>First, check if the file or folder exists and then delete it. You can achieve this in two ways:</p>
<ol>
<li><code>os.path.isfile(&quot;/path/to/file&quot;)</code></li>
<li>Use <code>exception handling.</code></li>
</ol>
<p><strong>EXAMPLE</strong> for <code>os.path.isfile</code></p>
<pre><code>#!/usr/bin/python
import os

myfile = &quot;/tmp/foo.txt&quot;
# If file exists, delete it.
if os.path.isfile(myfile):
    os.remove(myfile)
else:
    # If it fails, inform the user.
    print(&quot;Error: %s file not found&quot; % myfile)
</code></pre>
<h3>Exception Handling</h3>
<pre><code>#!/usr/bin/python
import os

# Get input.
myfile = raw_input(&quot;Enter file name to delete: &quot;)

# Try to delete the file.
try:
    os.remove(myfile)
except OSError as e:
    # If it fails, inform the user.
    print(&quot;Error: %s - %s.&quot; % (e.filename, e.strerror))
</code></pre>
<h3>Respective output</h3>
<pre>
Enter file name to delete : demo.txt
Error: demo.txt - No such file or directory.

Enter file name to delete : rrr.txt
Error: rrr.txt - Operation not permitted.

Enter file name to delete : foo.txt
</pre>
<h3>Python syntax to delete a folder</h3>
<pre><code>shutil.rmtree()
</code></pre>
<p>Example for <code>shutil.rmtree()</code></p>
<pre><code>#!/usr/bin/python
import os
import sys
import shutil

# Get directory name
mydir = raw_input(&quot;Enter directory name: &quot;)

# Try to remove the tree; if it fails, throw an error using try...except.
try:
    shutil.rmtree(mydir)
except OSError as e:
    print(&quot;Error: %s - %s.&quot; % (e.filename, e.strerror))
</code></pre>
<h4> merwok, Comment 99147016 Score: 43: </h4>Exception handling is recommended over checking because the file could be removed or changed between the two lines (TOCTOU: <a href="https://en.wikipedia.org/wiki/Time_of_check_to_time_of_use" rel="nofollow noreferrer">en.wikipedia.org/wiki/Time_of_check_to_time_of_use</a>)  See Python FAQ <a href="https://docs.python.org/3/glossary.html#term-eafp" rel="nofollow noreferrer">docs.python.org/3/glossary.html#term-eafp</a><br><h4> jaaq, Comment 114303818 Score: 5: </h4>Also <a href="https://docs.python.org/3.5/glossary.html#term-eafp" rel="nofollow noreferrer">EAFP</a> is preferred over <a href="https://docs.python.org/3.5/glossary.html#term-lbyl" rel="nofollow noreferrer">LBYL</a> in Python.<br><h4> Welgriv, Comment 120626432 Score: 2: </h4>what&#39;s the point to catch the exception in the very last example ?<br>------------------------------------------------------------------ <br><h3> flycee, Id: 41789397, Score: 97: </h3><p>Here is a robust function that uses both <code>os.remove</code> and <code>shutil.rmtree</code>:</p>

<pre><code>def remove(path):
    """ param &lt;path&gt; could either be relative or absolute. """
    if os.path.isfile(path) or os.path.islink(path):
        os.remove(path)  # remove the file
    elif os.path.isdir(path):
        shutil.rmtree(path)  # remove dir and all contains
    else:
        raise ValueError("file {} is not a file or dir.".format(path))
</code></pre>
<h4> Kaz, Comment 74158991 Score: 14: </h4>I.e. 8 lines of code to simulate the ISO C <code>remove(path);</code> call.<br><h4> Neo li, Comment 105880202 Score: 6: </h4><code>os.path.islink(file_path):</code>  a bug, should be <code>os.path.islink(path):</code><br><h4> Ciro Santilli OurBigBook.com, Comment 91428566 Score: 2: </h4>@Kaz agreed annoying, but does remove deal with trees? :-)<br><h4> karelv, Comment 136091565 Score: 0: </h4>Robust, well, it does not handle patterns, like &quot;*.bak&quot;...<br><h4> karelv, Comment 136091681 Score: 0: </h4>Why not use <code>glob</code>: <code>for p in glob.glob(path)</code><br>------------------------------------------------------------------ <br><h3> Mihai Maruseac, Id: 6996662, Score: 122: </h3><p>Use </p>

<pre><code>shutil.rmtree(path[, ignore_errors[, onerror]])
</code></pre>

<p>(See complete documentation on <a href="http://docs.python.org/library/shutil.html" rel="noreferrer">shutil</a>) and/or</p>

<pre><code>os.remove
</code></pre>

<p>and</p>

<pre><code>os.rmdir
</code></pre>

<p>(Complete documentation on <a href="http://docs.python.org/library/os.html#os.remove" rel="noreferrer">os</a>.)</p>
<h4> Paebbels, Comment 61268095 Score: 8: </h4>Please add the pathlib interface (new since Python 3.4) to your list.<br>------------------------------------------------------------------ <br><h3> dataninsight, Id: 70075600, Score: 51: </h3><h1>Deleting a file or folder in Python</h1>
<p><strong>There are multiple ways to Delete a File in Python but the best ways are the following:</strong></p>
<ol>
<li><strong>os.remove()</strong> removes a file.</li>
<li><strong>os.unlink()</strong> removes a file. it is a Unix name of remove() method.</li>
<li><strong>shutil.rmtree()</strong> deletes a directory and all its contents.</li>
<li><strong>pathlib.Path.unlink()</strong> deletes a single file The pathlib module is available in Python 3.4 and above.</li>
</ol>
<h1>os.remove()</h1>
<h2>Example 1: Basic Example to Remove a File Using os.remove() Method.</h2>
<pre><code>import os
os.remove(&quot;test_file.txt&quot;)
print(&quot;File removed successfully&quot;)
</code></pre>
<h2>Example 2: Checking if File Exists using os.path.isfile and Deleting it With os.remove</h2>
<pre><code>import os
#checking if file exist or not
if(os.path.isfile(&quot;test.txt&quot;)):
    #os.remove() function to remove the file
    os.remove(&quot;test.txt&quot;)
    #Printing the confirmation message of deletion
    print(&quot;File Deleted successfully&quot;)
else:
print(&quot;File does not exist&quot;)
#Showing the message instead of throwig an error
</code></pre>
<h2>Example 3: Python Program to Delete all files with a specific extension</h2>
<pre><code>import os 
from os import listdir
my_path = 'C:\\Python Pool\\Test'
for file_name in listdir(my_path):
    if file_name.endswith('.txt'):
        os.remove(my_path + file_name)
</code></pre>
<h2>Example 4: Python Program to Delete All Files Inside a Folder</h2>
<p>To delete all files inside a particular directory, you simply have to use the * symbol as the pattern string.
#Importing os and glob modules
import os, glob
#Loop Through the folder projects all files and deleting them one by one
for file in glob.glob(&quot;pythonpool/*&quot;):
os.remove(file)
print(&quot;Deleted &quot; + str(file))</p>
<h1>os.unlink()</h1>
<p>os.unlink() is an alias or another name of os.remove() . As in the Unix OS remove is also known as unlink.
Note: All the functionalities and syntax is the same of os.unlink() and os.remove(). Both of them are used to delete the Python file path.
Both are methods in the os module in Python’s standard libraries which performs the deletion function.</p>
<h1>shutil.rmtree()</h1>
<h2>Example 1: Python Program to Delete a File Using shutil.rmtree()</h2>
<pre><code>import shutil 
import os 
# location 
location = &quot;E:/Projects/PythonPool/&quot;
# directory 
dir = &quot;Test&quot;
# path 
path = os.path.join(location, dir) 
# removing directory 
shutil.rmtree(path) 
</code></pre>
<h2>Example 2: Python Program to Delete a File Using shutil.rmtree()</h2>
<pre><code>import shutil 
import os 
location = &quot;E:/Projects/PythonPool/&quot;
dir = &quot;Test&quot;    
path = os.path.join(location, dir) 
shutil.rmtree(path) 
</code></pre>
<h1>pathlib.Path.rmdir() to remove Empty Directory</h1>
<p>Pathlib module provides different ways to interact with your files. Rmdir is one of the path functions which allows you to delete an empty folder. Firstly, you need to select the Path() for the directory, and then calling rmdir() method will check the folder size. If it’s empty, it’ll delete it.</p>
<p>This is a good way to deleting empty folders without any fear of losing actual data.</p>
<pre><code>from pathlib import Path
q = Path('foldername')
q.rmdir()
</code></pre>
------------------------------------------------------------------ <br><h3> MSeifert, Id: 45536168, Score: 48: </h3><p>You can use the built-in <a href="https://docs.python.org/library/pathlib.html#module-pathlib" rel="noreferrer"><code>pathlib</code></a> module (requires Python 3.4+, but there are backports for older versions on PyPI: <a href="https://pypi.python.org/pypi/pathlib/" rel="noreferrer"><code>pathlib</code></a>, <a href="https://pypi.python.org/pypi/pathlib2/" rel="noreferrer"><code>pathlib2</code></a>). </p>

<p>To remove a file there is the <a href="https://docs.python.org/library/pathlib.html#pathlib.Path.unlink" rel="noreferrer"><code>unlink</code></a> method:</p>

<pre><code>import pathlib
path = pathlib.Path(name_of_file)
path.unlink()
</code></pre>

<p>Or the <a href="https://docs.python.org/library/pathlib.html#pathlib.Path.rmdir" rel="noreferrer"><code>rmdir</code></a> method to remove an <strong>empty</strong> folder:</p>

<pre><code>import pathlib
path = pathlib.Path(name_of_folder)
path.rmdir()
</code></pre>
<h4> Pranasas, Comment 89539228 Score: 10: </h4>What about a non-empty directory though?<br><h4> MSeifert, Comment 89539346 Score: 2: </h4>@Pranasas Unfortunately it seems there is nothing (natively) in <code>pathlib</code> that can handle deleting non-empty directories. However you could use <a href="https://docs.python.org/3/library/shutil.html#shutil.rmtree" rel="nofollow noreferrer"><code>shutil.rmtree</code></a>. It has been mentioned in several of the other answers so I haven&#39;t included it.<br>------------------------------------------------------------------ <br><h3> Russia Must Remove Putin, Id: 48738480, Score: 41: </h3><blockquote>
  <h2>How do I delete a file or folder in Python?</h2>
</blockquote>

<p>For Python 3, to remove the file and directory individually, use the <a href="https://docs.python.org/3/library/pathlib.html#pathlib.Path.unlink" rel="noreferrer"><code>unlink</code></a> and <a href="https://docs.python.org/3/library/pathlib.html#pathlib.Path.rmdir" rel="noreferrer"><code>rmdir</code></a> <code>Path</code> object methods respectively:</p>

<pre><code>from pathlib import Path
dir_path = Path.home() / 'directory' 
file_path = dir_path / 'file'

file_path.unlink() # remove file

dir_path.rmdir()   # remove directory
</code></pre>

<p>Note that you can also use relative paths with <code>Path</code> objects, and you can check your current working directory with <code>Path.cwd</code>.</p>

<p>For removing individual files and directories in Python 2, see the section so labeled below.</p>

<p>To remove a directory with contents, use <a href="https://docs.python.org/3/library/shutil.html#shutil.rmtree" rel="noreferrer"><code>shutil.rmtree</code></a>, and note that this is available in Python 2 and 3:</p>

<pre><code>from shutil import rmtree

rmtree(dir_path)
</code></pre>

<h2>Demonstration</h2>

<p>New in Python 3.4 is the <code>Path</code> object. </p>

<p>Let's use one to create a directory and file to demonstrate usage. Note that we use the <code>/</code> to join the parts of the path, this works around issues between operating systems and issues from using backslashes on Windows (where you'd need to either double up your backslashes like <code>\\</code> or use raw strings, like <code>r"foo\bar"</code>):</p>

<pre><code>from pathlib import Path

# .home() is new in 3.5, otherwise use os.path.expanduser('~')
directory_path = Path.home() / 'directory'
directory_path.mkdir()

file_path = directory_path / 'file'
file_path.touch()
</code></pre>

<p>and now:</p>

<pre><code>&gt;&gt;&gt; file_path.is_file()
True
</code></pre>

<p>Now let's delete them. First the file:</p>

<pre><code>&gt;&gt;&gt; file_path.unlink()     # remove file
&gt;&gt;&gt; file_path.is_file()
False
&gt;&gt;&gt; file_path.exists()
False
</code></pre>

<p>We can use globbing to remove multiple files - first let's create a few files for this:</p>

<pre><code>&gt;&gt;&gt; (directory_path / 'foo.my').touch()
&gt;&gt;&gt; (directory_path / 'bar.my').touch()
</code></pre>

<p>Then just iterate over the glob pattern:</p>

<pre><code>&gt;&gt;&gt; for each_file_path in directory_path.glob('*.my'):
...     print(f'removing {each_file_path}')
...     each_file_path.unlink()
... 
removing ~/directory/foo.my
removing ~/directory/bar.my
</code></pre>

<p>Now, demonstrating removing the directory:</p>

<pre><code>&gt;&gt;&gt; directory_path.rmdir() # remove directory
&gt;&gt;&gt; directory_path.is_dir()
False
&gt;&gt;&gt; directory_path.exists()
False
</code></pre>

<p>What if we want to remove a directory  and everything in it? 
For this use-case, use <code>shutil.rmtree</code></p>

<p>Let's recreate our directory and file:</p>

<pre><code>file_path.parent.mkdir()
file_path.touch()
</code></pre>

<p>and note that <code>rmdir</code> fails unless it's empty, which is why rmtree is so convenient:</p>

<pre><code>&gt;&gt;&gt; directory_path.rmdir()
Traceback (most recent call last):
  File "&lt;stdin&gt;", line 1, in &lt;module&gt;
  File "~/anaconda3/lib/python3.6/pathlib.py", line 1270, in rmdir
    self._accessor.rmdir(self)
  File "~/anaconda3/lib/python3.6/pathlib.py", line 387, in wrapped
    return strfunc(str(pathobj), *args)
OSError: [Errno 39] Directory not empty: '/home/username/directory'
</code></pre>

<p>Now, import rmtree and pass the directory to the funtion:</p>

<pre><code>from shutil import rmtree
rmtree(directory_path)      # remove everything 
</code></pre>

<p>and we can see the whole thing has been removed:</p>

<pre><code>&gt;&gt;&gt; directory_path.exists()
False
</code></pre>

<h2>Python 2</h2>

<p>If you're on Python 2, there's a <a href="https://pypi.python.org/pypi/pathlib2/" rel="noreferrer">backport of the pathlib module called pathlib2</a>, which can be installed with pip:</p>

<pre><code>$ pip install pathlib2
</code></pre>

<p>And then you can alias the library to <code>pathlib</code></p>

<pre><code>import pathlib2 as pathlib
</code></pre>

<p>Or just directly import the <code>Path</code> object (as demonstrated here):</p>

<pre><code>from pathlib2 import Path
</code></pre>

<p>If that's too much, you can remove files with <a href="https://docs.python.org/2/library/os.html#os.remove" rel="noreferrer"><code>os.remove</code> or <code>os.unlink</code></a></p>

<pre><code>from os import unlink, remove
from os.path import join, expanduser

remove(join(expanduser('~'), 'directory/file'))
</code></pre>

<p>or</p>

<pre><code>unlink(join(expanduser('~'), 'directory/file'))
</code></pre>

<p>and you can remove directories with <a href="https://docs.python.org/2/library/os.html#os.rmdir" rel="noreferrer"><code>os.rmdir</code></a>:</p>

<pre><code>from os import rmdir

rmdir(join(expanduser('~'), 'directory'))
</code></pre>

<p>Note that there is also a <a href="https://docs.python.org/2/library/os.html#os.removedirs" rel="noreferrer"><code>os.removedirs</code></a> - it only removes empty directories recursively, but it may suit your use-case.</p>
<h4> Stein, Comment 90876217 Score: 0: </h4><code>rmtree(directory_path)</code> works in python 3.6.6 but not in python 3.5.2 - you need <code>rmtree(str(directory_path)))</code> there.<br>------------------------------------------------------------------ <br><h3> Daring_T, Id: 70457032, Score: 10: </h3><p>This is my function for deleting dirs. The &quot;path&quot; requires the full pathname.</p>
<pre><code>import os

def rm_dir(path):
    cwd = os.getcwd()
    if not os.path.exists(os.path.join(cwd, path)):
        return False
    os.chdir(os.path.join(cwd, path))

    for file in os.listdir():
        print(&quot;file = &quot; + file)
        os.remove(file)
    print(cwd)
    os.chdir(cwd)
    os.rmdir(os.path.join(cwd, path))
</code></pre>
------------------------------------------------------------------ <br><h3> m0z4rt, Id: 49455049, Score: 9: </h3><p>shutil.rmtree is the asynchronous function, 
so if you want to check when it complete, you can use while...loop</p>

<pre><code>import os
import shutil

shutil.rmtree(path)

while os.path.exists(path):
  pass

print('done')
</code></pre>
<h4> mhsmith, Comment 90287706 Score: 1: </h4><code>shutil.rmtree</code> is not supposed to be asynchronous. However, it may appear to be on Windows with virus scanners interfering.<br><h4> Mark Amery, Comment 100336042 Score: 1: </h4>@mhsmith <i>Virus scanners</i>? Is that wild speculation, or do you actually know that they can cause this effect? How on earth does that work if so?<br>------------------------------------------------------------------ <br><h3> Lalithesh, Id: 46932928, Score: 7: </h3><pre><code>import os

folder = '/Path/to/yourDir/'
fileList = os.listdir(folder)

for f in fileList:
    filePath = folder + '/'+f

    if os.path.isfile(filePath):
        os.remove(filePath)

    elif os.path.isdir(filePath):
        newFileList = os.listdir(filePath)
        for f1 in newFileList:
            insideFilePath = filePath + '/' + f1

            if os.path.isfile(insideFilePath):
                os.remove(insideFilePath)
</code></pre>
<h4> Lalithesh, Comment 85061242 Score: 1: </h4>This will delete only the files inside the folder and subfolders leaving the folder structure intact..<br>------------------------------------------------------------------ <br><h3> Somnath Muluk, Id: 57302158, Score: 5: </h3><h2>For deleting files:</h2>

<pre><code>os.unlink(path, *, dir_fd=None)
</code></pre>

<p>or </p>

<pre><code>os.remove(path, *, dir_fd=None)
</code></pre>

<p>Both functions are semantically same. This functions removes (deletes) the file path. If path is not a file and it is directory, then exception is raised.</p>

<h2>For deleting folders:</h2>

<pre><code>shutil.rmtree(path, ignore_errors=False, onerror=None)
</code></pre>

<p>or</p>

<pre><code>os.rmdir(path, *, dir_fd=None)
</code></pre>

<p>In order to remove whole directory trees, <code>shutil.rmtree()</code> can be used. <code>os.rmdir</code> only works when the directory is empty and exists.</p>

<h2>For deleting folders recursively towards parent:</h2>

<pre><code>os.removedirs(name)
</code></pre>

<p>It remove every empty parent directory with self until parent which has some content</p>

<blockquote>
  <p>ex. os.removedirs('abc/xyz/pqr') will remove the directories by order 'abc/xyz/pqr', 'abc/xyz' and 'abc' if they are empty. </p>
</blockquote>

<p>For more info check official doc: <a href="https://docs.python.org/library/os.html#os.unlink" rel="noreferrer"><code>os.unlink</code></a> , <a href="https://docs.python.org/library/os.html#os.remove" rel="noreferrer"><code>os.remove</code></a>, <a href="https://docs.python.org/library/os.html#os.rmdir" rel="noreferrer"><code>os.rmdir</code></a> , <a href="https://docs.python.org/library/shutil.html#shutil.rmtree" rel="noreferrer"><code>shutil.rmtree</code></a>, <a href="https://docs.python.org/3/library/os.html#os.removedirs" rel="noreferrer"><code>os.removedirs</code></a></p>
------------------------------------------------------------------ <br><h3> Isaac Turner, Id: 60127089, Score: 2: </h3><p>To avoid the <a href="http://en.wikipedia.org/wiki/Time_of_check_to_time_of_use" rel="nofollow noreferrer">TOCTOU</a> issue highlighted by <a href="https://stackoverflow.com/questions/6996603/how-to-delete-a-file-or-folder#comment99147016_42641792">Éric Araujo's comment</a>, you can catch an exception to call the correct method:</p>

<pre><code>def remove_file_or_dir(path: str) -&gt; None:
    """ Remove a file or directory """
    try:
        shutil.rmtree(path)
    except NotADirectoryError:
        os.remove(path)
</code></pre>

<p>Since <code>shutil.rmtree()</code> will only remove directories and <code>os.remove()</code> or <code>os.unlink()</code> will only remove files.</p>
<h4> Tiago Martins Peres, Comment 108822531 Score: 1: </h4><code>shutil.rmtree()</code> removes not only the directory but also its content.<br><h4> heiner, Comment 136588206 Score: 0: </h4>State of Python skills at SO: Had to scroll all the way to here to find the first solution without the race.<br>------------------------------------------------------------------ <br><h3> bitranox, Id: 62741631, Score: 2: </h3><p>My personal preference is to work with pathlib objects - it offers a more pythonic and less error-prone way to interact with the filesystem, especially if You develop cross-platform code.</p>
<p>In that case, You might use pathlib3x - it offers a backport of the latest (at the date of writing this answer Python 3.10.a0) Python pathlib for Python 3.6 or newer, and a few additional functions like &quot;copy&quot;, &quot;copy2&quot;, &quot;copytree&quot;, &quot;rmtree&quot; etc ...</p>
<p>It also wraps <code>shutil.rmtree</code>:</p>
<pre><code>$&gt; python -m pip install pathlib3x
$&gt; python
&gt;&gt;&gt; import pathlib3x as pathlib

# delete a directory tree
&gt;&gt;&gt; my_dir_to_delete=pathlib.Path('c:/temp/some_dir')
&gt;&gt;&gt; my_dir_to_delete.rmtree(ignore_errors=True)

# delete a file
&gt;&gt;&gt; my_file_to_delete=pathlib.Path('c:/temp/some_file.txt')
&gt;&gt;&gt; my_file_to_delete.unlink(missing_ok=True)

</code></pre>
<p>you can find it on <a href="https://github.com/bitranox/pathlib3x" rel="nofollow noreferrer">github</a> or <a href="https://pypi.org/project/pathlib3x" rel="nofollow noreferrer">PyPi</a></p>
<hr />
<p><sup>Disclaimer: I'm the author of the pathlib3x library.</sup></p>
------------------------------------------------------------------ <br><h3> Sarender Reddy, Id: 59304670, Score: 1: </h3><p>To remove all files in folder</p>

<pre><code>import os
import glob

files = glob.glob(os.path.join('path/to/folder/*'))
files = glob.glob(os.path.join('path/to/folder/*.csv')) // It will give all csv files in folder
for file in files:
    os.remove(file)
</code></pre>

<p>To remove all folders in a directory</p>

<pre><code>from shutil import rmtree
import os

// os.path.join()  # current working directory.

for dirct in os.listdir(os.path.join('path/to/folder')):
    rmtree(os.path.join('path/to/folder',dirct))
</code></pre>
------------------------------------------------------------------ <br><h3> phu, Id: 76073921, Score: 1: </h3><pre><code>import os

def del_dir(rootdir):
    for (dirpath, dirnames, filenames) in os.walk(rootdir):
        for filename in filenames: os.remove(rootdir+'/'+filename)
        for dirname in dirnames: del_dir(rootdir+'/'+dirname)
    os.rmdir(rootdir)
</code></pre>
------------------------------------------------------------------ <br><h3> Anthony M., Id: 76336771, Score: 1: </h3><p>There is a simple and effective way to remove all files and directories using List Comprehension.</p>
<pre class="lang-py prettyprint-override"><code> import glob
 from os import path, remove, rmdir
 
 #The directory you wish to empty...
 your_dir = &quot;/path/to/dir/with/contents&quot;
 # Use list comprehension to ensure we don't compromise on speed
 [            
    remove(f) if path.isfile(f)
    else [remove(ff) for ff in glob.glob(path.join(f, &quot;*&quot;))] + [rmdir(f)]
    for f in glob.glob(path.join(your_dir, &quot;*&quot;))
 ]
</code></pre>
<p>This is what it works:</p>
<ol>
<li>We first use glob to get all files and directories in the directory you want to empty. In this case, &quot;your_dir&quot; <code>for f in glob.glob(path.join(your_dir, &quot;*&quot;))</code></li>
<li>Then we remove any files within this &quot;parent directory&quot; <code>remove(f) if path.isfile(f)</code></li>
<li>This line <code>else [remove(ff) for ff in glob.glob(path.join(f, &quot;*&quot;))] + [rmdir(f)]</code> is the most interesting.</li>
</ol>
<ul>
<li>First, because these will be directories we empty them using the <code>glob</code> and <code>remove</code> combination <code>[remove(ff) for ff in glob.glob(path.join(f, &quot;*&quot;))]</code></li>
<li>Now that the &quot;child directory&quot; is empty, we need <code>rmdir</code> to remove it. To do so, we use a hack; <strong>list concatenation</strong>. By adding <code>+ [rmdir(f)]</code> we force python to evaluate <code>rmdir(f)</code> and thus remove the directory for us. Viola!</li>
</ul>
------------------------------------------------------------------ <br><h3> SachaDee, Id: 76386180, Score: 0: </h3><p>My prefered method <em><strong>os.walk</strong></em> and <em><strong>os.remove</strong></em> with <a href="https://docs.python.org/3/tutorial/datastructures.html#list-comprehensions" rel="nofollow noreferrer">list comprehension</a>:</p>
<p>To delete <strong>all files</strong> in <strong>one</strong> directory:</p>
<pre><code>import os
from os import walk

path1 = './mypath1/'

[os.remove(path1+ff) for ff in next(walk(path1), (None, None, []))[2]]
</code></pre>
<p>If you have <strong>various directories</strong> you want to delete <strong>all files</strong>:</p>
<pre><code>import os
from os import walk

path1 = &quot;./mypath1/&quot;
path2 = &quot;./mypath2/&quot;
path3 = &quot;./mypath3/&quot;

for p in [path1,path2,path3]:
    [os.remove(p+ff) for ff in next(walk(p), (None, None, []))[2]]
</code></pre>

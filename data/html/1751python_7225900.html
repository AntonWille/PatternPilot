 <h2> Title: How can I install packages using pip according to the requirements.txt file from a local directory? </h2> <h3> kakarukeys, question_id: 7225900 </h3>Score: 1751, Tags: {python,virtualenv,pip} <br><p>Here is the problem:</p>
<p>I have a <em>requirements.txt</em> file that looks like:</p>
<pre class="lang-none prettyprint-override"><code>BeautifulSoup==3.2.0
Django==1.3
Fabric==1.2.0
Jinja2==2.5.5
PyYAML==3.09
Pygments==1.4
SQLAlchemy==0.7.1
South==0.7.3
amqplib==0.6.1
anyjson==0.3
...
</code></pre>
<p>I have a local archive directory containing all the packages + others.</p>
<p>I have created a new <a href="http://pypi.python.org/pypi/virtualenv" rel="noreferrer">virtualenv</a> with</p>
<pre class="lang-none prettyprint-override"><code>bin/virtualenv testing
</code></pre>
<p>Upon activating it, I tried to install the packages according to <em>requirements.txt</em> from the local archive directory.</p>
<pre class="lang-none prettyprint-override"><code>source bin/activate
pip install -r /path/to/requirements.txt -f file:///path/to/archive/
</code></pre>
<p>I got some output that seems to indicate that the installation is fine:</p>
<pre class="lang-none prettyprint-override"><code>Downloading/unpacking Fabric==1.2.0 (from -r ../testing/requirements.txt (line 3))
  Running setup.py egg_info for package Fabric
    warning: no previously-included files matching '*' found under directory 'docs/_build'
    warning: no files found matching 'fabfile.py'
Downloading/unpacking South==0.7.3 (from -r ../testing/requirements.txt (line 8))
  Running setup.py egg_info for package South
....
</code></pre>
<p>But a later check revealed that none of the packages are installed properly. I cannot import the packages, and none are found in the site-packages directory of my virtualenv. So what went wrong?</p>
<h4> Comment 8857936 Hugo Lopes Tavares: </h4>Have you tried using <code>--no-index</code> so it does not even look at PyPI?<br><h4> Comment 35992511 bukzor: </h4>You&#39;ve snipped the error message. It&#39;s generally near the bottom.<br><h4> Comment 61241023 MrMesees: </h4>surprised nobody else linked but <a href="https://pip.pypa.io/en/stable/user_guide/#requirements-files" rel="nofollow noreferrer">pip.pypa.io/en/stable/user_guide/#requirements-files</a><br><h4> Comment 42511439 asafge: </h4>You could use the file paths instead of the package names, it means you&#39;ll have to change the requirements.txt file, but keep the pip install command the same.<br><h4> Comment 68009371 Montaro: </h4>I had to do this <a href="http://stackoverflow.com/a/40378520/348162">stackoverflow.com/a/40378520/348162</a><br><h4> Comment 69637355 Kay: </h4>I&#39;m wondering... did your local archive contain the exact same versions of the packages that were specified in <code>requirements.txt</code>?<br>------------------------------------------------------------------ <br><h3> Answer 68917356 Chatrughan Prasad: </h3><p>I have solved with running the below command:</p>
<pre><code>py -m pip install ./requirements.txt
</code></pre>
<p>the above command will install all dependencies and libraries for the Django project.</p>
------------------------------------------------------------------ <br><h3> Answer 15593865 Mike Lyons: </h3><p>This works for everyone:</p>
<pre><code>pip install -r /path/to/requirements.txt
</code></pre>
<p><strong>Explanation:</strong></p>
<blockquote>
<p>-r, --requirement &lt; filename &gt;</p>
</blockquote>
<p>Install from the given requirements file. This option can be used multiple times.</p>
<h4> Comment 30807688 Jonathan: </h4>I realize this answer doesn&#39;t address the original question, but it answers the question I had when I found this on Google...<br><h4> Comment 67081836 Florent Chatterji: </h4>for those who like to know what they type, the -r in the command just means &quot;install from a requirements file&quot;, and is a shortcut for --requirement<br><h4> Comment 74476524 User: </h4>When I want to upgrade a package (e.g. Django), I change the version in my requirements.txt file and then run <code>pip install -r &#47;path&#47;to&#47;requirements.txt</code>. This detects the change, upgrades the package, and leaves everything else alone.<br><h4> Comment 109204084 iggie: </h4>while this usually works, a couple subtleties makes it fail. If any install failed for the packages in <code>requirements.txt</code>, none of them will be installed. If a required module imports a dependency during its installation (instead of just listing it as a requirement), it will fail even if the dependency precedes it in the list of dependencies, causing all modules to fail. It is probably a bug to import a dependent module during installation, but it is also possibly unexpected that the dependencies listed in <code>requirements.txt</code> aren&#39;t installed sequentially, but all at once.<br><h4> Comment 126332301 Mike Lyons: </h4>@ReemAl-Assaf it doesn&#39;t matter that much. Some people prefer to keep a <code>package.json</code> and <code>requirements.txt</code> in the top level directories for the entire project, or in the sub directories where language specific things take over. It&#39;s your choice at this point.<br><h4> Comment 107697139 nda: </h4>pip freeze &gt; requirements.txt<br><h4> Comment 128835210 flying_fluid_four: </h4>Does anyone know the behavior of this command when the requirements.txt file is empty? Would it throw an error or just simply not do anything.  I am unable to verify from my system.<br><h4> Comment 124296575 Reem Al-Assaf: </h4>In an app that has a <code>Django</code> backend and <code>Angular</code> frontend, should the <code>requirements.txt</code> file be in the root directory (and run there with <code>py -m pip install -r requirements.txt</code>) or should it be in the backend folder where files such as <code>manage.py</code> are located?<br>------------------------------------------------------------------ <br><h3> Answer 10429168 codeape: </h3><p>This works for me:</p>
<pre><code>$ pip install -r requirements.txt --no-index --find-links file:///tmp/packages
</code></pre>
<p><code>--no-index</code> - Ignore package index (only looking at <code>--find-links</code> URLs instead).</p>
<p><code>-f, --find-links &lt;URL&gt;</code> - If a URL or path to an HTML file, then parse for links to archives.</p>
<p>If a local path or <code>file://</code> URL that's a directory, then look for archives in the directory listing.</p>
<h4> Comment 47044839 AWrightIV: </h4><b>Information on  <code>--no-index</code> from command pip help install</b> <code>--no-index</code> Ignore package index (only looking at <code>--find-links</code> URLs instead).  <b>Information on  <code>--find-links</code> from command pip help install</b> <code>-f</code>, <code>--find-links &lt;url&gt;</code> If a url or path to an html file, then parse for links to archives. If a local path or file:// url that&#39;s a directory, then look for archives in the directory listing.<br><h4> Comment 60408633 Nathan Basanese: </h4>// , This could be a very elegant solution, especially given the eternal struggle with vendorizing: <a href="http://bitprophet.org/blog/2012/06/07/on-vendorizing/" rel="nofollow noreferrer">bitprophet.org/blog/2012/06/07/on-vendorizing</a><br><h4> Comment 111405240 John Paraskevopoulos: </h4>Just a heads up: This will work as long as there&#39;s not <code>git+ssh</code> requirement in the <code>requirements.txt</code>. For the <code>git+ssh</code> pip will still try to fetch the package<br><h4> Comment 96085697 Shreyan Mehta: </h4>i tried this <code>python -m pip install -r requirements.txt</code> when inside the activated venv enviroment. things installed smoothly but when i do pip list it does not show that packages, when I am in the active venv or even after deactivate venv. also not able to use that packages. dont know what&#39;s wrong here<br><h4> Comment 84884301 claude computing: </h4>One caution with this is you may <code>pip install &lt;some_module&gt;</code> without using <code>requirements.txt</code> but that will not update <code>requirements.txt</code>. An alternative might be updating a docker such that it lists all the pip install commands that are run to install dependencies.<br><h4> Comment 96093531 codeape: </h4>Are you sure <code>python</code> refers to the activated environment&#39;s python executable (<code>$ which python</code>)?<br><h4> Comment 132348950 user3504575: </h4>same problem with git+https://... is there any workaround for that?<br>------------------------------------------------------------------ <br><h3> Answer 22046133 Aaron Lelevier: </h3><p>For virtualenv to install all files in the <em>requirements.txt</em> file.</p>
<ol>
<li>cd to the directory where <em>requirements.txt</em> is located</li>
<li>activate your virtualenv</li>
<li>run:  <code>pip install -r requirements.txt</code> in your shell</li>
</ol>
<h4> Comment 64469361 Jerad: </h4>&quot;pyenv virtualenv pip install requirements.txt not working&quot; for the sake of Google...<br><h4> Comment 133125990 Philip Borbon: </h4>How do you do &quot;activate your virtualenv&quot;?<br><h4> Comment 112018154 Rohit Singh: </h4>pip3 install -r requirements.txt worked for me in venv<br><h4> Comment 124833747 AnonymousUser: </h4><code>pip3 install -r requirements.txt</code><br>------------------------------------------------------------------ <br><h3> Answer 34969495 enriquetaso: </h3><p>I had a similar problem. I tried this:</p>
<pre class="lang-none prettyprint-override"><code>    pip install -U -r requirements.txt
</code></pre>
<p><em>(-U = update if it had already installed)</em></p>
<p>But the problem continued. I realized that some of generic libraries for development were missed.</p>
<pre class="lang-none prettyprint-override"><code>    sudo apt-get install libtiff5-dev libjpeg8-dev zlib1g-dev liblcms2-dev libwebp-dev tcl8.6-dev tk8.6-dev python-tk
</code></pre>
<p>I don't know if this would help you.</p>
------------------------------------------------------------------ <br><h3> Answer 39537053 Py_minion: </h3><p>Use:</p>
<pre class="lang-none prettyprint-override"><code>pip install -r requirements.txt
</code></pre>
<p>For further details, please check the help option:</p>
<pre class="lang-none prettyprint-override"><code>pip install --help
</code></pre>
<p>We can find the option '-r' -</p>
<blockquote>
<p>-r, --requirement     Install from the given requirements file. This option can be
used multiple times.</p>
</blockquote>
<p>Further information on some commonly used pip install options (this is the help option on the pip install command):</p>
<p><a href="https://i.stack.imgur.com/NWTio.png" rel="noreferrer"><img src="https://i.stack.imgur.com/NWTio.png" alt="Enter image description here" /></a></p>
<p>Also the above is the complete set of options. Please use <code>pip install --help</code> for the complete list of options.</p>
------------------------------------------------------------------ <br><h3> Answer 53717709 Safwan: </h3><p><strong>Short answer</strong></p>

<pre><code>pip install -r /path/to/requirements.txt
</code></pre>

<p>or in another form:</p>

<pre><code>python -m pip install -r /path/to/requirements.txt
</code></pre>

<p><strong>Explanation</strong></p>

<p>Here, <code>-r</code> is short form of <code>--requirement</code> and it asks the <code>pip</code> to install from the given <code>requirements</code> file.</p>

<p><code>pip</code> will start installation only after checking the availability of all listed items in the <code>requirements</code> file and it won't start installation even if one <code>requirement</code> is unavailable.</p>

<p>One workaround to install the available packages is installing listed packages one by one. Use the following command for that. A red color warning will be shown to notify you about the unavailable packages.</p>

<pre><code>cat requirements.txt | xargs -n 1 pip install
</code></pre>

<p>To ignore comments (lines starting with a <code>#</code>) and blank lines, use:</p>

<pre><code>cat requirements.txt | cut -f1 -d"#" | sed '/^\s*$/d' | xargs -n 1 pip install
</code></pre>
------------------------------------------------------------------ <br><h3> Answer 58472778 Girish Vas: </h3><p>First of all, create a virtual environment.</p>
<p>In Python 3.6</p>
<pre class="lang-none prettyprint-override"><code>virtualenv --python=/usr/bin/python3.6 &lt;path/to/new/virtualenv/&gt;
</code></pre>
<p>In Python 2.7</p>
<pre class="lang-none prettyprint-override"><code>virtualenv --python=/usr/bin/python2.7 &lt;path/to/new/virtualenv/&gt;
</code></pre>
<p>Then activate the environment and install all the packages available in the <em>requirement.txt</em> file.</p>
<pre class="lang-none prettyprint-override"><code>source &lt;path/to/new/virtualenv&gt;/bin/activate
pip install -r &lt;path/to/requirement.txt&gt;
</code></pre>
<h4> Comment 113846505 ibnɘꟻ: </h4>Thanks. For windows user, to activate environment use this command : <code>&lt;path-to-virtualenv&gt;&#47;Scripts&#47;activate.bat</code>. To deactivate environment, use this : <code>&lt;path-to-virtualenv&gt;&#47;Scripts&#47;deactivate.bat</code>.<br>------------------------------------------------------------------ <br><h3> Answer 32709817 Jadav Bheda: </h3><p>Often, you will want a fast install from local archives, without probing PyPI.</p>

<p>First, download the archives that fulfill your requirements:</p>

<pre><code>$ pip install --download &lt;DIR&gt; -r requirements.txt
</code></pre>

<p>Then, install using <code>–find-links</code> and <code>–no-index</code>:</p>

<pre><code>$ pip install --no-index --find-links=[file://]&lt;DIR&gt; -r requirements.txt
</code></pre>
<h4> Comment 114895725 stackprotector: </h4>In newer versions of pip <code>pip install --download</code> has to be <code>pip download</code>.<br><h4> Comment 109358572 Max Malysh: </h4><code>no such option: --download</code><br>------------------------------------------------------------------ <br><h3> Answer 54405453 user8030544: </h3><p>Try this:</p>
<pre><code>python -m pip install -r requirements.txt
</code></pre>
<h4> Comment 116595415 Peter Mortensen: </h4>An explanation would be in order.<br>------------------------------------------------------------------ <br><h3> Answer 42982245 Bruno Bronosky: </h3><p>I work with a lot of systems that have been mucked by developers &quot;following directions they found on the Internet&quot;. It is extremely common that your <code>pip</code> and your <code>python</code> are not looking at the same paths/site-packages. For this reason, when I encounter oddness I start by doing this:</p>
<pre class="lang-none prettyprint-override"><code>$ python -c 'import sys; print(sys.path)'
['', '/usr/lib/python2.7', '/usr/lib/python2.7/plat-x86_64-linux-gnu',
'/usr/lib/python2.7/lib-tk', '/usr/lib/python2.7/lib-old',
'/usr/lib/python2.7/lib-dynload', '/usr/local/lib/python2.7/dist-packages',
'/usr/lib/python2.7/dist-packages']

$ pip --version
pip 9.0.1 from /usr/local/lib/python2.7/dist-packages (python 2.7)
</code></pre>
<p>That is a <em>happy system</em>.</p>
<p>Below is an <em>unhappy system</em>. (Or at least it's a blissfully ignorant system that causes others to be unhappy.)</p>
<pre class="lang-none prettyprint-override"><code>$ pip --version
pip 9.0.1 from /usr/local/lib/python3.6/site-packages (python 3.6)

$ python -c 'import sys; print(sys.path)'
['', '/usr/local/Cellar/python/2.7.13/Frameworks/Python.framework/Versions/2.7/lib/python27.zip',
'/usr/local/Cellar/python/2.7.13/Frameworks/Python.framework/Versions/2.7/lib/python2.7',
'/usr/local/Cellar/python/2.7.13/Frameworks/Python.framework/Versions/2.7/lib/python2.7/plat-darwin',
'/usr/local/Cellar/python/2.7.13/Frameworks/Python.framework/Versions/2.7/lib/python2.7/plat-mac',
'/usr/local/Cellar/python/2.7.13/Frameworks/Python.framework/Versions/2.7/lib/python2.7/plat-mac/lib-scriptpackages',
'/usr/local/Cellar/python/2.7.13/Frameworks/Python.framework/Versions/2.7/lib/python2.7/lib-tk',
'/usr/local/Cellar/python/2.7.13/Frameworks/Python.framework/Versions/2.7/lib/python2.7/lib-old',
'/usr/local/Cellar/python/2.7.13/Frameworks/Python.framework/Versions/2.7/lib/python2.7/lib-dynload',
'/usr/local/lib/python2.7/site-packages']

$ which pip pip2 pip3
/usr/local/bin/pip
/usr/local/bin/pip3
</code></pre>
<p>It is <em>unhappy</em> because <code>pip</code> is (python3.6 and) using <code>/usr/local/lib/python3.6/site-packages</code> while <code>python</code> is (python2.7 and) using <code>/usr/local/lib/python2.7/site-packages</code></p>
<p>When I want to make sure I'm installing requirements to the <em>right</em> python, I do this:</p>
<pre class="lang-none prettyprint-override"><code>$ which -a python python2 python3
/usr/local/bin/python
/usr/bin/python
/usr/local/bin/python2
/usr/local/bin/python3

$ /usr/bin/python -m pip install -r requirements.txt
</code></pre>
<p>You've heard, &quot;If it ain't broke, don't try to fix it.&quot; The DevOps version of that is, &quot;If you didn't break it and you can work around it, don't try to fix it.&quot;</p>
------------------------------------------------------------------ <br><h3> Answer 47218206 janu777: </h3><p><strong>Installing requirements.txt file inside virtual env with Python 3:</strong></p>
<p>I had the same issue. I was trying to install the <em>requirements.txt</em> file inside a virtual environment. I found the solution.</p>
<p>Initially, I created my virtualenv in this way:</p>
<pre><code>virtualenv -p python3 myenv
</code></pre>
<p>Activate the environment using:</p>
<pre><code>source myenv/bin/activate
</code></pre>
<p>Now I installed the <em>requirements.txt</em> file using:</p>
<pre><code>pip3 install -r requirements.txt
</code></pre>
<p>Installation was successful and I was able to import the modules.</p>
<h4> Comment 90979407 bdforbes: </h4>Using Anaconda Python 3.6 on Windows, I had to do <code>virtualenv -p python myenv</code>, <code>myenv\Scripts\activate.bat</code>, <code>pip install -r requirements.txt</code><br><h4> Comment 91766529 davnicwil: </h4>Actually, on the contrary, this seems like the only answer that <i>does</i> answer the part of the question about installing locally defined deps in <code>requirements.txt</code> to a virtualenv. Unless I am missing something? Anyway, thanks!<br><h4> Comment 89952185 janu777: </h4>I faced this issue while installing the requirements file inside a virtual environment. I have now modified my response to address the issue<br>------------------------------------------------------------------ <br><h3> Answer 74744723 Codertjay: </h3><p>On windows Using this</p>
<pre><code>pip install -r /path/to/requirements.txt 
</code></pre>
<p>On linux pc we have python2 and also python3 so most time <code>pip</code> is regarded as</p>
<p>Python2</p>
<pre><code>pip install -r /path/to/requirements.txt 
</code></pre>
<p>Python 3</p>
<pre><code>pip3 install -r /path/to/requirements.txt
</code></pre>
------------------------------------------------------------------ <br><h3> Answer 58179065 user1460675: </h3><pre><code>pip install --user -r requirements.txt 
</code></pre>

<p>OR</p>

<pre><code>pip3 install --user -r requirements.txt 
</code></pre>
<h4> Comment 107964483 liang: </h4>is it possible to specify <code>--user</code> inside <code>requirements.txt</code> file?<br><h4> Comment 116595424 Peter Mortensen: </h4>An explanation would be in order.<br>------------------------------------------------------------------ <br><h3> Answer 70371208 MD SHAYON: </h3><ul>
<li>Create virtual environment <code>python3 -m venv virtual-env</code> (For windows use python instead of python3)</li>
<li>Activate your virtual environment <code>source virtual-env/bin/activate</code></li>
<li>Now install requirements <code>pip install -r requirements.txt</code></li>
</ul>
------------------------------------------------------------------ <br><h3> Answer 70923701 Samuel Kamau: </h3><p>Use <code>pip3 install -r requirements.txt </code> But make sure the requirements.txt file has been pulled from origin and not added to <code>.gitignore</code></p>
------------------------------------------------------------------ <br><h3> Answer 71100030 Lorenzo Bassetti: </h3><p>In Windows, this can lead to less format-related path issues, if you have</p>
<blockquote>
<p>c:\folder\subfolder\requirements.txt</p>
</blockquote>
<pre><code>cd c:\folder\subfolder 
pip install -r requirements.txt
</code></pre>

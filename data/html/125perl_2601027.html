 <h2> Title: How can I check if a file exists in Perl? </h2> <h4> superstar, question_id: 2601027, created_at: 2010-04-08 15:09:09+00:00 </h4>Score: 125, Tags: {perl} <br><p>I have a relative path </p>

<pre><code>   $base_path = "input/myMock.TGZ";
</code></pre>

<p><code>myMock.TGZ</code> is the file name located in input folder.
The filename can change. But the path is always stored in <code>$base_path</code>.</p>

<p>I need to check if the file exists in <code>$base_path</code>.</p>
<hr><h3> ✔️ Answer by Greg Bacon, Id: 2601042, Score: 199, created_at: 2010-04-08 15:10:27+00:00 </h3><p>Test whether <em>something</em> exists at given path using the <code>-e</code> file-test operator.</p>

<pre><code>print "$base_path exists!\n" if -e $base_path;
</code></pre>

<p>However, this test is probably broader than you intend. The code above will generate output if a plain file exists at that path, but it will also fire for a directory, a named pipe, a symlink, or a more exotic possibility. <a href="http://perldoc.perl.org/functions/-X.html" rel="noreferrer">See the documentation</a> for details.</p>

<p>Given the extension of <code>.TGZ</code> in your question, it seems that you expect a <em>plain file</em> rather than the alternatives. The <code>-f</code> file-test operator asks whether a path leads to a plain file.</p>

<pre><code>print "$base_path is a plain file!\n" if -f $base_path;
</code></pre>

<p>The perlfunc documentation covers the long list of <a href="http://perldoc.perl.org/functions/-X.html" rel="noreferrer">Perl's file-test operators</a> that covers many situations you will encounter in practice.</p>

<blockquote>
  <ul>
  <li><strong><code>-r</code></strong><br>
  File is readable by effective uid/gid.</li>
  <li><strong><code>-w</code></strong><br>
  File is writable by effective uid/gid.</li>
  <li><strong><code>-x</code></strong><br>
  File is executable by effective uid/gid.</li>
  <li><strong><code>-o</code></strong><br>
  File is owned by effective uid.</li>
  <li><strong><code>-R</code></strong><br>
  File is readable by real uid/gid.</li>
  <li><strong><code>-W</code></strong><br>
  File is writable by real uid/gid.</li>
  <li><strong><code>-X</code></strong><br>
  File is executable by real uid/gid.</li>
  <li><strong><code>-O</code></strong><br>
  File is owned by real uid.</li>
  <li><strong><code>-e</code></strong><br>
  File exists.</li>
  <li><strong><code>-z</code></strong><br>
  File has zero size (is empty).</li>
  <li><strong><code>-s</code></strong><br>
  File has nonzero size (returns size in bytes).</li>
  <li><strong><code>-f</code></strong><br>
  File is a plain file.</li>
  <li><strong><code>-d</code></strong><br>
  File is a directory.</li>
  <li><strong><code>-l</code></strong><br>
  File is a symbolic link (false if symlinks aren’t supported by the file system).</li>
  <li><strong><code>-p</code></strong><br>
  File is a named pipe (FIFO), or Filehandle is a pipe.</li>
  <li><strong><code>-S</code></strong><br>
  File is a socket.</li>
  <li><strong><code>-b</code></strong><br>
  File is a block special file.</li>
  <li><strong><code>-c</code></strong><br>
  File is a character special file.</li>
  <li><strong><code>-t</code></strong><br>
  Filehandle is opened to a tty.</li>
  <li><strong><code>-u</code></strong><br>
  File has setuid bit set.</li>
  <li><strong><code>-g</code></strong><br>
  File has setgid bit set.</li>
  <li><strong><code>-k</code></strong><br>
  File has sticky bit set.</li>
  <li><strong><code>-T</code></strong><br>
  File is an ASCII or UTF-8 text file (heuristic guess).</li>
  <li><strong><code>-B</code></strong><br>
  File is a “binary” file (opposite of <code>-T</code>).</li>
  <li><strong><code>-M</code></strong><br>
  Script start time minus file modification time, in days.</li>
  <li><strong><code>-A</code></strong><br>
  Same for access time.</li>
  <li><strong><code>-C</code></strong><br>
  Same for inode change time (Unix, may differ for other platforms)</li>
  </ul>
</blockquote>
<h4> Comment by Greg Bacon, Score: 3, Id: 2610223, created_at: 2010-04-08 15:16:39+00:00 </h4>@superstar Hello again! Yes, <code>-e</code> works with relative paths, but I think I may have misunderstood your question. Do you have a <i>directory</i> named <code>myMock.TGZ</code>, and you want to know whether that directory contains a file with a particular name? Help us give you better answers by editing your question to include examples!<h4> Comment by superstar, Score: 0, Id: 2610202, created_at: 2010-04-08 15:14:09+00:00 </h4>hey bacon, nice to see you. so -e even works for a relative path? i thought it only worked for particular file...cool thanks<hr><h3>  Answer by hpavc, Id: 2601284, Score: 30, created_at: 2010-04-08 15:42:00+00:00 </h3><p>You might want a variant of exists ...    perldoc -f "-f"</p>

<pre><code>      -X FILEHANDLE
       -X EXPR
       -X DIRHANDLE
       -X      A file test, where X is one of the letters listed below.  This unary operator takes one argument,
               either a filename, a filehandle, or a dirhandle, and tests the associated file to see if something is
               true about it.  If the argument is omitted, tests $_, except for "-t", which tests STDIN.  Unless
               otherwise documented, it returns 1 for true and '' for false, or the undefined value if the file
               doesn’t exist.  Despite the funny names, precedence is the same as any other named unary operator.
               The operator may be any of:

                   -r  File is readable by effective uid/gid.
                   -w  File is writable by effective uid/gid.
                   -x  File is executable by effective uid/gid.
                   -o  File is owned by effective uid.

                   -R  File is readable by real uid/gid.
                   -W  File is writable by real uid/gid.
                   -X  File is executable by real uid/gid.
                   -O  File is owned by real uid.

                   -e  File exists.
                   -z  File has zero size (is empty).
                   -s  File has nonzero size (returns size in bytes).

                   -f  File is a plain file.
                   -d  File is a directory.
                   -l  File is a symbolic link.
                   -p  File is a named pipe (FIFO), or Filehandle is a pipe.
                   -S  File is a socket.
                   -b  File is a block special file.
                   -c  File is a character special file.
                   -t  Filehandle is opened to a tty.

                   -u  File has setuid bit set.
                   -g  File has setgid bit set.
                   -k  File has sticky bit set.

                   -T  File is an ASCII text file (heuristic guess).
                   -B  File is a "binary" file (opposite of -T).

                   -M  Script start time minus file modification time, in days.
</code></pre>
<hr><h3>  Answer by mdm, Id: 2601041, Score: 22, created_at: 2010-04-08 15:10:19+00:00 </h3><pre><code>if (-e $base_path)
{ 
 # code
}
</code></pre>

<p><code>-e</code> is the 'existence' operator in Perl.</p>

<p>You can check permissions and other attributes using the code on <a href="http://www.pageresource.com/cgirec/ptut17.htm" rel="noreferrer">this page</a>.</p>
<h4> Comment by Ether, Score: 3, Id: 2610296, created_at: 2010-04-08 15:24:43+00:00 </h4>Why not link to the official documentation for these operators instead?<h4> Comment by mdm, Score: 0, Id: 2610416, created_at: 2010-04-08 15:37:52+00:00 </h4>@Ether, just because I was searching for the existence operator and its the first page I found. PerlDoc was probably a better option in retrospect.<hr><h3>  Answer by Zain Rizvi, Id: 23483795, Score: 16, created_at: 2014-05-05 23:55:31+00:00 </h3><p>Use:</p>

<pre><code>if (-f $filePath)
{
  # code
}
</code></pre>

<p><code>-e</code> returns true even if the file is a directory. <code>-f</code> will only return true if it's an actual file</p>
<hr><h3>  Answer by Klaus Byskov Pedersen, Id: 2601051, Score: 14, created_at: 2010-04-08 15:11:27+00:00 </h3><p>You can use: <code>if(-e $base_path)</code></p>
<h4> Comment by justintime, Score: 8, Id: 2610224, created_at: 2010-04-08 15:16:40+00:00 </h4>You might also use <code>-f</code> to test for a normal file (as opposed to a directory or various other special types of file)<hr><h3>  Answer by user5240420, Id: 37951440, Score: 6, created_at: 2016-06-21 17:59:46+00:00 </h3><pre><code>if(-e $base_path)
{
    print &quot;Something&quot;;
}
</code></pre>
<p>would do the trick.</p>
<h4> Comment by jat, Score: 0, Id: 130540999, created_at: 2022-10-03 06:20:27+00:00 </h4>Without quotes I get compile errors.  if(-e &quot;$base_path&quot;) {     print &quot;Something&quot;; }<hr><h3>  Answer by Balaji Boggaram Ramanarayan, Id: 27025029, Score: 5, created_at: 2014-11-19 19:12:39+00:00 </h3><pre><code>#!/usr/bin/perl -w

$fileToLocate = '/whatever/path/for/file/you/are/searching/MyFile.txt';
if (-e $fileToLocate) {
    print "File is present";
}
</code></pre>
<hr><h3>  Answer by Nikhil Ranjan, Id: 31097674, Score: 2, created_at: 2015-06-28 08:38:09+00:00 </h3><p>Use the below code. Here <code>-f</code> checks if it's a file or not:</p>
<pre><code>print &quot;File $base_path is exists!\n&quot; if -f $base_path;
</code></pre>

 <h2> Title: How do I break out of a loop in Perl? </h2> <h4> Zain Rizvi, question_id: 303216 </h4>Score: 324, Tags: {perl,loops,break,strict} <br><p>I'm trying to use a <code>break</code> statement in a <code>for</code> loop, but since I'm also using strict subs in my Perl code, I'm getting an error saying:</p>

<blockquote>
  <p>Bareword "break" not allowed while
  "strict subs" in use at ./final.pl
  line 154.</p>
</blockquote>

<p>Is there a workaround for this (besides disabling strict subs)?</p>

<p>My code is formatted as follows:</p>

<pre><code>for my $entry (@array){
    if ($string eq "text"){
         break;
    }
}
</code></pre>
<h4> Paul Tomblin, Id: 148042 Score: 25: </h4>And if you didn&#39;t have &quot;strict subs&quot; on, you would have gotten a run-time error instead when it couldn&#39;t find a sub named &quot;break&quot;.<br>------------------------------------------------------------------ <br><h3> Zain Rizvi, Id: 303231, Score: 475: </h3><p>Oh, I found it.  You use <a href="http://perldoc.perl.org/functions/last.html" rel="nofollow noreferrer">last</a> instead of <a href="https://perldoc.perl.org/functions/break.html" rel="nofollow noreferrer">break</a></p>
<pre><code>for my $entry (@array){
    if ($string eq &quot;text&quot;){
         last;
    }
}
</code></pre>
<p>It's also described under <strong>Loop Control</strong> in &quot;perlsyn(1)&quot; (<code>man perlsyn</code> on UNIX-like).</p>
<h4> Thupten, Comment 52761712 Score: 34: </h4>for some reason, i am completely unable to remember this keyword &#39;last&#39;. always end up googling &#39;perl break loop&#39; :(<br><h4> HoldOffHunger, Comment 89749124 Score: 1: </h4>Also, works the same for <code>while</code>() loops.  <code>my @array = (&quot;_&quot;, &quot;apple&quot;, &quot;orange&quot;); my $thing; while ($thing = shift @array){ 	last if $thing =~ &#47;[A-Za-z]&#47;; } print($thing);	# &quot;apple&quot;</code><br><h4> osirisgothra, Comment 40005591 Score: 1: </h4>not to mention that &#39;break&#39; is an experimental keyword in &gt;5.010 right? so you might get an illegal outside given block error, not that you should use it. The only way that would even work is if you used a while loop inside a given block, and then break, which in theory would work the way you wanted IF (and only if) the given block only had the while loop in it, and assuming you were just feeding given some scalar variable... but why do all that work just to use a break, it is (very) bad form, not to mention (blah!)just saying, its &quot;possible&quot; just not a good idea &amp; not what you may think it is<br><h4> Razor Storm, Comment 3306681 Score: 0: </h4>Though this is merely a semantic difference and doesn&#39;t amount to much else other than textual consistency with the &quot;next&quot; command.<br>------------------------------------------------------------------ <br><h3> Kent Fredric, Id: 303261, Score: 178: </h3><p>Additional data (in case you have more questions):</p>

<pre><code>FOO: {
       for my $i ( @listone ){
          for my $j ( @listtwo ){
                 if ( cond( $i,$j ) ){

                    last FOO;  # ---&gt;
                                   # |
                 }                 # |
          }                        # |
       }                           # |
 } # &lt;-------------------------------
</code></pre>
<h4> ysth, Comment 148776 Score: 15: </h4>You do if you have other code just after the for my $i loop that you also want to skip.  The outer {} is a bare block, which is itself a funny kind of loop that can be last/redo/next&#39;d.<br><h4> cjm, Comment 148670 Score: 2: </h4>You don&#39;t actually need the braces after FOO:<br>------------------------------------------------------------------ <br><h3> Kamal Nayan, Id: 43872666, Score: 25: </h3><p>Simply <code>last</code> would work here:</p>

<pre><code>for my $entry (@array){
    if ($string eq "text"){
         last;
    }
}
</code></pre>

<p>If you have nested loops, then <code>last</code> will exit from the innermost loop. Use labels in this case:</p>

<pre><code>LBL_SCORE: {
    for my $entry1 (@array1) {
        for my $entry2 (@array2) {
            if ($entry1 eq $entry2) { # Or any condition
                last LBL_SCORE;
            }
        }
    }
 }
</code></pre>

<p>Given a <code>last</code> statement will make the compiler to come out from both the loops. The same can be done in any number of loops, and labels can be fixed anywhere.</p>
------------------------------------------------------------------ <br><h3> MortenB, Id: 32575568, Score: 5: </h3><p>On a large iteration I like using interrupts. Just press <kbd>Ctrl</kbd> + <kbd>C</kbd> to quit:</p>

<pre><code>my $exitflag = 0;
$SIG{INT} = sub { $exitflag=1 };

while(!$exitflag) {
    # Do your stuff
}
</code></pre>
<h4> MortenB, Comment 110029602 Score: 0: </h4>@PeterMortensen - this works fine in windows, the only thing to keep in mind for windows may be to turn on autoflush if you print to STDOUT &#39;$|=1;`<br>------------------------------------------------------------------ <br><h3> Timur Shtatland, Id: 63580584, Score: 3: </h3><p>For Perl one-liners with <em>implicit loops</em> (using <code>-n</code> or <code>-p</code> command line options), use <code>last</code> or <code>last LINE</code> to break out of the loop that iterates over input records. For example, these simple examples all print the first 2 lines of the input:</p>
<pre><code>echo 1 2 3 4 | xargs -n1 | perl -ne 'last if $. == 3; print;'
echo 1 2 3 4 | xargs -n1 | perl -ne 'last LINE if $. == 3; print;'
echo 1 2 3 4 | xargs -n1 | perl -pe 'last if $. == 3;'
echo 1 2 3 4 | xargs -n1 | perl -pe 'last LINE if $. == 3;'
</code></pre>
<p>All print:</p>
<pre><code>1
2
</code></pre>
<p>The perl one-liners use these command line flags:<br />
<code>-e</code> : tells Perl to look for code in-line, instead of in a file.<br />
<code>-n</code> : loop over the input one line at a time, assigning it to <code>$_</code> by default.<br />
<code>-p</code> : same as <code>-n</code>, also add <code>print</code> after each loop iteration over the input.</p>
<p><strong>SEE ALSO:</strong></p>
<p><a href="https://perldoc.perl.org/functions/last.html" rel="nofollow noreferrer"><code>last</code> docs</a><br />
<a href="https://stackoverflow.com/a/38192317/967621"><code>last</code>, <code>next</code>, <code>redo</code>, <code>continue</code> - <strong>an illustrated example</strong></a><br />
<a href="https://perldoc.perl.org/perlrun.html#Command-Switches" rel="nofollow noreferrer">perlrun: command line switches docs</a></p>
<hr />
<p><strong>More examples of <code>last</code> in Perl one-liners:</strong></p>
<p><a href="https://www.perlmonks.org/?node_id=1060344" rel="nofollow noreferrer">Break one liner command line script after first match</a><br />
<a href="https://stackoverflow.com/a/30649878/967621">Print the first N lines of a huge file</a></p>

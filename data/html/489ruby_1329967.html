 <h2> Title: Tell Ruby Program to Wait some amount of time </h2> <h4> user94154, question_id: 1329967 </h4>Score: 489, Tags: {ruby,sleep} <br><p>How do you tell a Ruby program to wait an arbitrary amount of time before moving on to the next line of code?</p>
------------------------------------------------------------------ <br><h3> rcoder, Id: 1329990, Score: 787: </h3><p>Like this:</p>

<pre><code>sleep(num_secs)
</code></pre>

<p>The <code>num_secs</code> value can be an integer or float.</p>

<p>Also, if you're writing this within a Rails app, or have included the ActiveSupport library in your project, you can construct longer intervals using the following convenience syntax:</p>

<pre><code>sleep(4.minutes)
# or, even longer...
sleep(2.hours); sleep(3.days) # etc., etc.
# or shorter
sleep(0.5) # half a second
</code></pre>
------------------------------------------------------------------ <br><h3> Clinton Dreisbach, Id: 1329979, Score: 141: </h3><p>Use <a href="http://apidock.com/ruby/Kernel/sleep" rel="noreferrer">sleep</a> like so:</p>

<pre><code>sleep 2
</code></pre>

<p>That'll sleep for 2 seconds.</p>

<p>Be careful to give an argument. If you just run <code>sleep</code>, the process will sleep forever. (This is useful when you want a thread to sleep until it's woken.)</p>
<h4> Joshua Pinter, Comment 28184844 Score: 4: </h4>@anthropomorphic It&#39;s referring to when another thread calls Thread#run.<br><h4> Michael Francis, Comment 27296625 Score: 3: </h4>Wait, will it sleep forever, or until it&#39;s &quot;woken&quot;? What does &quot;woken&quot; even mean?<br><h4> chesterbr, Comment 32470264 Score: 0: </h4>Actually, when another thread calls Thread#wakeup, I suppose.<br>------------------------------------------------------------------ <br><h3> Varun Garg, Id: 56446169, Score: 12: </h3><p>I find <code>until</code> very useful with sleep. example:</p>
<pre><code>&gt; time = Time.now
&gt; sleep 2.seconds until Time.now &gt; time + 10.seconds # breaks when true
&gt; # or
&gt; sleep 2 and puts 'still sleeping' until Time.now &gt; time + 10
&gt; # or
&gt; sleep 1.seconds until !req.loading # suggested by ohsully
</code></pre>
<h4> danielricecodes, Comment 109863123 Score: 4: </h4>This is the same thing as <code>sleep(10.seconds)</code><br><h4> ohsully, Comment 115911942 Score: 1: </h4>Suppose you wanted to block until a request returns: <code>sleep 1.seconds until !req.loading</code><br><h4> Varun Garg, Comment 109865200 Score: 0: </h4>Yeah, here it is the same because it uses the same input (time) as offered by sleep. I wanted to highlight how <code>until</code> can be used to sleep until any condition is achieved (also love the how natural the syntax feels)<br><h4> Joshua Pinter, Comment 115896486 Score: 0: </h4>This makes my head hurt. Can you provide a different example than this to showcase the value of using <code>until</code> here instead of just <code>sleep(10.seconds)</code>?<br><h4> MZB, Comment 116372632 Score: 0: </h4>This is not exactly the same thing as sleep(10). The kernel may wake the thread early. So if you <i>must</i> sleep for at least 10 seconds, you need a construct like this.  See <a href="https://apidock.com/ruby/Kernel/sleep" rel="nofollow noreferrer">apidock.com/ruby/Kernel/sleep</a><br><h4> Varun Garg, Comment 116383715 Score: 0: </h4>@MZB you are right. But in case you want to call <code>Thread#run</code> from another thread, you might just place that condition in until which will give more ownership to the sleeping thread. Might be totally wrong here<br>------------------------------------------------------------------ <br><h3> wajeeh, Id: 63525751, Score: 7: </h3><p>Like this</p>
<p><code>sleep(no_of_seconds)</code></p>
<p>Or you may pass other possible arguments like:</p>
<p><code>sleep(5.seconds)</code></p>
<p><code>sleep(5.minutes)</code></p>
<p><code>sleep(5.hours)</code></p>
<p><code>sleep(5.days)</code></p>
------------------------------------------------------------------ <br><h3> gsb, Id: 60021905, Score: 2: </h3><p>Implementation of seconds/minutes/hours, which are rails methods. Note that implicit returns aren't needed, but they look cleaner, so I prefer them. I'm not sure Rails even has .days or if it goes further, but these are the ones I need.</p>

<pre class="lang-rb prettyprint-override"><code>class Integer
   def seconds
      return self
   end
   def minutes
      return self * 60
   end
   def hours
      return self * 3600
   end
   def days
      return self * 86400
   end
end
</code></pre>

<p>After this, you can do:
<code>sleep 5.seconds</code> to sleep for 5 seconds. You can do <code>sleep 5.minutes</code> to sleep for 5 min. You can do <code>sleep 5.hours</code> to sleep for 5 hours. And finally, you can do <code>sleep 5.days</code> to sleep for 5 days... You can add any method that return the value of self * (amount of seconds in that timeframe). 
As an exercise, try implementing it for months!</p>
------------------------------------------------------------------ <br><h3> vijaya chowdary, Id: 45389744, Score: 0: </h3><p><code>sleep 6</code> will sleep for 6 seconds. For a longer duration, you can also use <code>sleep(6.minutes)</code> or <code>sleep(6.hours)</code>.</p>
<h4> StahlRat, Comment 87848829 Score: 13: </h4>I think the primary reason for downvotes is that @vijaya_chowdary basically reposted the voted correct answer 8 years later. I would consider it is strange at the least...<br><h4> Jochem Schulenklopper, Comment 79511157 Score: 4: </h4>Not sure about the downvotes on this, but it could be that <code>minutes()</code> and <code>hours()</code> are methods on numerics added by Ruby on Rails - so not standard available in Ruby - in the ActiveSupport::Duration class. They&#39;re quite convenient though.<br><h4> hayesk, Comment 91331117 Score: 1: </h4>I downvoted for exactly that. It&#39;s not standard ruby.<br>------------------------------------------------------------------ <br><h3> Asyraf, Id: 66326365, Score: -2: </h3><p>This is an example of using <code>sleep</code> with <code>sidekiq</code></p>
<pre class="lang-rb prettyprint-override"><code>require 'sidekiq'

class PlainOldRuby
  include Sidekiq::Worker

  def perform(how_hard=&quot;super hard&quot;, how_long=10)
    sleep how_long
    puts &quot;Workin' #{how_hard}&quot;
  end
end
</code></pre>
<p>sleep for 10 seconds and print out <code>&quot;Working super hard&quot;</code> .</p>
<h4> karatedog, Comment 119792316 Score: 8: </h4>This is writing (sin&#178;ùë•+cos&#178;ùë•) instead of 1.<br>
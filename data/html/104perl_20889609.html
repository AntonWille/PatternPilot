 <h2> Title: How should I use the &quot;my&quot; keyword in Perl? </h2> <h3> FistOfFury, question_id: 20889609 </h3>Score: 104, Tags: {perl,scope,declaration} <br><p>I keep seeing the <code>my</code> keyword in front of variable names in example Perl scripts online, but I have no idea what it means. I tried reading the manual pages and other sites online, but I'm having difficulty discerning what it is for, given the difference between how I see it used and the manual.</p>
<p>For example, it is used to get the length of the array in this post:
<a href="https://stackoverflow.com/questions/7406807/find-size-of-array-in-perl">Find size of an array in Perl</a></p>
<p>But the manual says:</p>
<blockquote>
<p>A <code>my</code> declares the listed variables to be local (lexically) to the
enclosing block, file, or eval. If more than one value is listed, the
list must be placed in parentheses.</p>
</blockquote>
<p>What does it do and how is it used?</p>
<h4> Comment 31353336 ikegami: </h4>Re &quot;its used to get the length of the array in this post&quot;, Not at all. <code>my</code> did not factor into it in the least. It&#39;s the scalar assignment operator (<code>=</code>) that enforced the scalar context on <code>@arr</code>.<br><h4> Comment 70805176 icenac: </h4>If it&#39;s not really &quot;yours&quot;, you should not use it.<br>------------------------------------------------------------------ <br><h3> Answer 20890822 ikegami: </h3><p><code>my</code> restricts the <a href="http://en.wikipedia.org/wiki/Scope_%28computer_science%29" rel="noreferrer">scope</a> of a variable. The scope of a variable is where it can be seen. Reducing a variable's scope to where the variable is needed is a fundamental aspect of good programming. It makes the code more readable and less error-prone, and results in a slew of derived benefits.</p>

<p>If you don't declare a variable using <code>my</code>, a global variable will be created instead. This is to be avoided. Using <code>use strict;</code> tells Perl you want to be prevented from implicitly creating global variables, which is why you should always use <code>use strict;</code> (and <code>use warnings;</code>) in your programs.</p>

<hr>

<p>Related reading: <a href="https://stackoverflow.com/a/8024241/589924">Why use <code>use strict;</code> and <code>use warnings;</code>?</a></p>
<h4> Comment 111996482 Electric Coffee: </h4>I just meant that if people came to Perl from JS, it would be an easy way to explain the same concept<br><h4> Comment 111996966 ikegami: </h4>@ElectricCoffee 1) A programmer that understands scoping doesn&#39;t need to have it explained to them again after switching languages. 2) Not sure that you actually did explain scoping, in terms a JS programmer would understand or otherwise. Maybe you were trying to explain <code>use strict;</code>? But that wasn&#39;t the question, and <code>use strict;</code> does more than that. Or maybe you meant to communicate that <code>my</code> limits the scope of vars kinda like <code>let</code> and <code>var</code> do, but that&#39;s pretty much the first sentence of the answer. 3) If you wish to answer a question differently, that&#39;s what Answers are for.<br><h4> Comment 111994836 Electric Coffee: </h4>For people coming here from JS: It&#39;s essentially like <code>var</code> and <code>let</code> in JavaScript. Without <code>&#39;use strict&#39;;</code> JS will let you declare new global variables without either keyword, which isn&#39;t considered the best of practices.<br><h4> Comment 111995416 ikegami: </h4>@Electric Coffee, In JS terms, the question would be &quot;What does <code>let</code> and <code>var</code> do and how should they be used?&quot; And yes, the answer would be roughly the same. (JS&#39;s <code>let</code> vars are a lot like Perl&#39;s <code>my</code> vars, except that <code>let</code> vars can&#39;t be captured.)<br>------------------------------------------------------------------ <br><h3> Answer 20889656 Igor Chubin: </h3><p>Quick summary: <code>my</code> creates a new variable, <code>local</code> temporarily amends the value of a variable</p>

<p>In the example below, $::a refers to $a in the 'global' namespace.</p>

<pre><code>$a = 3.14159;
{
  my $a = 3;
  print "In block, \$a = $a\n";
  print "In block, \$::a = $::a\n";
}
print "Outside block, \$a = $a\n";
print "Outside block, \$::a = $::a\n";

# This outputs
In block, $a = 3
In block, $::a = 3.14159
Outside block, $a = 3.14159
Outside block, $::a = 3.14159
</code></pre>

<p>ie, <code>local</code> temporarily changes the value of the variable, but only within the scope it exists in. </p>

<p>Source: <a href="http://www.perlmonks.org/?node_id=94007" rel="noreferrer">http://www.perlmonks.org/?node_id=94007</a></p>

<p><strong>Update</strong></p>

<p>About difference between <code>our</code> and <code>my</code> please see</p>

<ul>
<li><a href="https://stackoverflow.com/questions/845060/what-is-the-difference-between-my-and-our-in-perl">What is the difference between my and our in Perl?</a></li>
</ul>

<p>(Thanks to <em>ThisSuitIsBlackNot</em>).</p>
<h4> Comment 75064909 temporary_user_name: </h4>I think this answer needs some adjusting. You have a code example demonstrating the use of <code>my</code>, but then follow that up with a sentence talking about <code>local</code> as if you had just demonstrated <code>local</code>&#39;s use, despite that <code>local</code> is not demonstrated anywhere in this answer. I think you kind of misquoted the source on PerlMonks, which has two code examples. The sentence about <code>local</code> was describing the other one, not the one you transcribed here.<br><h4> Comment 115490623 Greenonline: </h4>Why even mention <code>local</code> when you don&#39;t use it in the code example?<br><h4> Comment 116190946 Greenonline: </h4>Well yes. As mentioned in <a href="https://stackoverflow.com/questions/20889609/how-should-i-use-the-my-keyword-in-perl/20889656?noredirect=1#comment75064909_20889656">this comment</a>, the code example that you give doesn&#39;t show the use of <code>local</code>. However, you then explain the scope of <code>local</code>, but it hasn&#39;t been demonstrated. The problem is that you&#39;ve copied the wrong code snippet from the perlmonks page. It&#39;s rather misleading.<br><h4> Comment 115499586 Igor Chubin: </h4>@Greenonline: With this logic, if you have no code example at all, you shouldn&#39;t mention anything?<br>------------------------------------------------------------------ <br><h3> Answer 20889668 cjm: </h3><p><a href="http://perldoc.perl.org/perlsub.html#Private-Variables-via-my%28%29" rel="noreferrer">Private Variables via my()</a> is the primary documentation for <code>my</code>.</p>

<p>In the array size example you mention, it's not used to find the size of the array.  It's used to create a new variable to hold the size of the array.</p>

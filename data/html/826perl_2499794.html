 <h2> Title: How to fix a locale setting warning from Perl </h2> <h4> xain, question_id: 2499794 </h4>Score: 826, Tags: {perl,locale} <br><p>When I run <code>perl</code>, I get the warning:</p>

<pre>perl: warning: Setting locale failed.
perl: warning: Please check that your locale settings:
    LANGUAGE = (unset),
    LC_ALL = (unset),
    LANG = "en_US.UTF-8"
are supported and installed on your system.
perl: warning: Falling back to the standard locale ("C").</pre>

<p>How do I fix it?</p>
<h4> Janus Troelsen, Id: 37185834 Score: 4: </h4>instead of installing the locale, you can also change the locale. On my Ubuntu box, this is done for one user by editing <code>~&#47;.pam_environment</code><br><h4> Lucas Soares, Id: 66392801 Score: 1: </h4>I got this on Cygwin\Babun. Only a reinstall of perl fixed it.<br><h4> brian d foy, Id: 2496605 Score: 0: </h4>What happened when you checked the locale settings like the error message told you?<br><h4> f1vefour, Id: 45476294 Score: 0: </h4>On my ODROID-C1 running Ubuntu the issue was indeed the ~/.pam_environment file. Some of the variables were es_US.UTF-8 instead of  en_US.UTF-8. Thank you.<br>------------------------------------------------------------------ <br><h3> Allen Bargi, Id: 7413863, Score: 604: </h3><p>Here is how to solve it on <a href="https://en.wikipedia.org/wiki/Mac_OS_X_Lion" rel="noreferrer">Mac OS X v10.7</a> (Lion) or Cygwin (Windows 10):</p>
<p>Add the following lines to your <em>bashrc</em> or <em>bash_profile</em> file on the host machine:</p>
<pre><code># Setting for the new UTF-8 terminal support in Lion
export LC_CTYPE=en_US.UTF-8
export LC_ALL=en_US.UTF-8
</code></pre>
<p>If you are using <a href="https://en.wikipedia.org/wiki/Z_shell" rel="noreferrer">Z shell</a> (zsh), edit file <em>zshrc</em>:</p>
<pre><code># Setting for the new UTF-8 terminal support in Lion
LC_CTYPE=en_US.UTF-8
LC_ALL=en_US.UTF-8
</code></pre>
<h4> Teemu Kurppa, Comment 13172295 Score: 8: </h4>Thanks, I&#39;ve search a solution for this problem for a long time, and I always thought it&#39;s a problem in my Ubuntu server configuration, and it seemed that there was no solution that helped (all that dkpg-reconfigure stuff(<br><h4> David, Comment 21438206 Score: 8: </h4>Because <code>LC_ALL</code> overwrites all other variables, I’d rather set <code>LANG=de_AT.UTF-8</code> and individual variables like <code>LC_MESSAGES=en_US.UTF-8</code>. If a variable is not set it falls back to <code>LANG</code>. You can also eg. <code>unset LC_CTYPE</code> to force it fall back to <code>LANG</code>.<br><h4> Enissay, Comment 26348655 Score: 8: </h4>Putting these lines in <code>~&#47;.bashrc</code> solved it for me... then must reload using <code>source ~&#47;.bashrc</code>... Thnks &lt;3<br><h4> Valerio Schiavoni, Comment 54986237 Score: 5: </h4>Thanks, this worked fine on ZSH and the oh-my-zsh plugin under Mac OS X El Capitan, at the bottom of ~/.zshrc :  LC_CTYPE=en_US.UTF-8 LC_ALL=en_US.UTF-8<br><h4> john-jones, Comment 23644511 Score: 4: </h4>Placing those lines in .bashrc didn&#39;t work, but bash_profile solved it! I had to create the file.<br><h4> Nuvanda, Comment 85183977 Score: 2: </h4>As bash_profile is only read by bash for login shells, so this solution can fail for a wide variety of reasons (not a login shell, not using bash, maybe its not run from a shell at all). It is better to change the settings in <code>&#47;etc&#47;default&#47;locale</code>, which can be done manually or using <code>update-locale</code>.<br><h4> Aaron Franke, Comment 132417839 Score: 0: </h4><code>-bash: warning: setlocale: LC_CTYPE: cannot change locale (en_US.UTF-8)</code><br><h4> Rafal, Comment 64996030 Score: 0: </h4>@GusDeCooL If you are connecting to server, it is possible that you do so as &#39;root&#39; user. You can confirm it by running &quot;echo $USER&quot;. If that is the case, you need to skip &#39;sudo&#39;, as you don&#39;t need it.<br><h4> Ganesh Krishnan, Comment 49000187 Score: 0: </h4>This fixed the problem for Ubuntu 14 as well. I think my remote machine picked up the locate from my desktop when I SSHed and set the wrong locale. Remote is US machine while my desktop is AU<br><h4> user658182, Comment 40094055 Score: 0: </h4>Where is the bash_profile script located? or where to I put it once I&#39;m in terminal on Mac Mavericks?  bashrc, .bashrc. bash_profile, or .bash_profile are not in my home directory. Or am I supposed to edit my remove linux server (running Cent)S)<br><h4> bcr, Comment 45785744 Score: 0: </h4>awesome, thanks for this. I encountered this problem inside and ubuntu vm running on mavericks, but because I was sshed in with an OSX terminal this was the fix.<br><h4> GusDeCooL, Comment 30112046 Score: 0: </h4>and i got this on my ubuntu: &quot;sudo: export: command not found &quot;<br>------------------------------------------------------------------ <br><h3> Greg Bacon, Id: 2510548, Score: 551: </h3><p>Your OS doesn't know about <code>en_US.UTF-8</code>.</p>
<p>You didn't mention a specific platform, but I can reproduce your problem:</p>
<pre>% uname -a
OSF1 hunter2 V5.1 2650 alpha
% perl -e exit
perl: warning: Setting locale failed.
perl: warning: Please check that your locale settings:
    LC_ALL = (unset),
    LANG = "en_US.UTF-8"
    are supported and installed on your system.
perl: warning: Falling back to the standard locale ("C").</pre>
<p>My guess is you used ssh to connect to this older host from a newer desktop machine. It's common for <code>/etc/ssh/sshd_config</code> to contain</p>
<pre><code>AcceptEnv LANG LC_*
</code></pre>
<p>which allows clients to propagate the values of those environment variables into new sessions.</p>
<p>The warning gives you a hint about how to squelch it if you don't require the full-up locale:</p>
<pre>% env LANG=C perl -e exit
%</pre>
<p>or with Bash:</p>
<pre>$ LANG=C perl -e exit
$ </pre>
<p>For a permanent fix, choose one of</p>
<ol>
<li>On the older host, set the <code>LANG</code> environment variable in your shell's initialization file.</li>
<li>Modify your environment on the client side, <em>e.g.</em>, rather than <code>ssh hunter2</code>, use the command <code>LANG=C ssh hunter2</code>.</li>
<li>If you have administrator rights, stop ssh from sending the environment variables by commenting out the <code>SendEnv LANG LC_*</code> line in the <em>local</em> <code>/etc/ssh/ssh_config</code> file. (Thanks to <a href="https://askubuntu.com/questions/144235/locale-variables-have-no-effect-in-remote-shell-perl-warning-setting-locale-f/144448#144448">this answer</a>. See <a href="https://bugzilla.mindrot.org/show_bug.cgi?id=1285#c2" rel="noreferrer">Bug 1285</a> for OpenSSH for more.)</li>
</ol>
<h4> madc, Comment 19837304 Score: 96: </h4>I had this issue for ages,... removing &quot;AcceptEnv LANG LC_*&quot; from sshd_config finally resolved it. Thanks for the hint!<br><h4> Simon A. Eugster, Comment 17826562 Score: 31: </h4>Thanks! I had this error message when connecting with git to my server. After adding de_CH.UTF-8 (was not supported there but used locally) with <code>dpkg-reconfigure locales</code> the message is gone.<br><h4> noamtm, Comment 34935850 Score: 29: </h4>@HermannIngjaldsson, at least on Ubuntu (12.10), there was no need to reboot the server (after removing &quot;AcceptEnv LANG LC_*&quot;). I just reloaded ssh config: <code>service ssh reload</code>, which takes a fraction of a second, and doesn&#39;t even cause the current ssh session to terminate.<br><h4> EffectiveMatrix, Comment 38396322 Score: 5: </h4>append &#39;export LC_ALL=C&#39; then &#39;source ~/.bashrc&#39; at client system solve the problem.<br><h4> broetchen, Comment 49458537 Score: 2: </h4>Another option for folks who use git and get this error when interacting with a remote is to comment out <code>SendEnv LANG LC_*</code> in <code>&#47;etc&#47;ssh&#47;ssh_config</code> on the client machine.<br><h4> fraxture, Comment 32712221 Score: 2: </h4>@Greg Bacon, Wouldn&#39;t there also be cases in which you would want to set the environment variables system wide, for example by creating an /etc/environment file? <a href="https://help.ubuntu.com/community/EnvironmentVariables#System-wide_environment_variables" rel="nofollow noreferrer">help.ubuntu.com/community/&hellip;</a><br><h4> quazgar, Comment 55885459 Score: 2: </h4>or try <b>fix 3.</b>: Add the locales which are typically set by ssh clients in <code>&#47;etc&#47;locale.gen</code>, then run <code>dpkg-reconfigure locales</code>.  If you know which locales are affected, this might be the least invasive measure.<br><h4> gevra, Comment 65088055 Score: 2: </h4>commenting out &quot;AcceptEnv LANG LC_*&quot; in sshd_config wiped my bash history on the host :( so think before doing that people!<br><h4> tectux, Comment 110116453 Score: 1: </h4>Instead of changing the global ssh config file you can also add <code>SetEnv LANG=C</code> in <code>~&#47;.ssh&#47;config</code> for the host that complains.<br><h4> Pistos, Comment 100624302 Score: 0: </h4>Fellow Gentoo users: I followed the advice of commenting out the <code>SendEnv</code> line in <code>&#47;etc&#47;ssh&#47;ssh_config</code>.  See also the (polarized) discussion at <a href="https://bugs.gentoo.org/367017" rel="nofollow noreferrer">bugs.gentoo.org/367017</a> .<br><h4> Hugo, Comment 72432814 Score: 0: </h4>Thank you from 2017! Commented sshd_config with no problems... Was very confused where pt-BR locale was coming from on that server!<br><h4> S&#233;bastien, Comment 122108473 Score: 0: </h4>I&#39;m confused about fix 1. (editing .bashrc on the host did not work in my case). How is this supposed to work, if the client locale env variables are still forwarded by the ssh client?<br><h4> Nils, Comment 130692875 Score: 0: </h4>You can also alias permanent solution number 2: <code>alias ssh=&#39;(){ LANG=C ssh $@ }&#39;</code> in your <code>.zshrc</code><br>------------------------------------------------------------------ <br><h3> Marc, Id: 9727654, Score: 261: </h3><p>If you are creating a rootfs using debootstrap you will need to generate the locales.  You can do this by running:</p>

<pre><code># (optional) enable missing locales
sudo nano /etc/locale.gen

# then regenerate
sudo locale-gen
</code></pre>

<p>This tip comes from, <a href="https://help.ubuntu.com/community/Xen" rel="noreferrer">https://help.ubuntu.com/community/Xen</a></p>
<h4> Sam Watkins, Comment 32621011 Score: 10: </h4>locale-gen does not take any arguments (in Debian stable at least). Instead, edit /etc/locale.gen to uncomment the locales you want, then run sudo locale-gen<br><h4> akhmed, Comment 55533267 Score: 7: </h4>On Debian you may need to do <code>$ echo en_US UTF-8 &gt;&gt; &#47;etc&#47;locale.gen</code> first.<br><h4> Pistos, Comment 66051072 Score: 3: </h4>On Gentoo (at least), <code>locale-gen</code> does not take arguments.  It reads from <code>&#47;etc&#47;locale.gen</code>.<br><h4> Franklin Yu, Comment 90293417 Score: 2: </h4>@akhmed You should only need to uncomment the line <code># en_US.UTF-8 UTF-8</code>.<br><h4> Peter Mortensen, Comment 115177364 Score: 0: </h4>What is &quot;rootfs&quot;? <a href="https://en.wikipedia.org/wiki/Tmpfs#Linux" rel="nofollow noreferrer">tmpfs</a>?<br><h4> mortenlund, Comment 127934153 Score: 0: </h4>editing /etc/locale.gen uncommenting da_DK.UTF-8 and run sudo locale.gen did - after quite some time - the job. Thanks !  Newbee!<br><h4> bb1950328, Comment 128656855 Score: 0: </h4>I think this is also the case when creating an image using <code>rpi-imager</code> and specifying the locale in settings<br><h4> Marc, Comment 79078724 Score: 0: </h4>some distributions don&#39;t use a configuration file and need the following,  <code>sudo locale-gen en_US.UTF-8</code><br>------------------------------------------------------------------ <br><h3> artemn, Id: 22455572, Score: 184: </h3><p>Use:</p>

<pre><code>export LANGUAGE=en_US.UTF-8
export LC_ALL=en_US.UTF-8
export LANG=en_US.UTF-8
export LC_CTYPE=en_US.UTF-8
</code></pre>

<p>It works for <a href="http://en.wikipedia.org/wiki/Debian" rel="noreferrer">Debian</a>. I don't know why - but locale-gen had not results.</p>

<p>Important! It's a temporary solution. It has to be run for each session.</p>
<h4> Anirudh Ramanathan, Comment 37189189 Score: 18: </h4>This one worked for me. I just put it into my <code>.bashrc</code> file.<br><h4> laurent, Comment 43404291 Score: 3: </h4>Worked for me too. I only had to set the two settings (LANGUAGE and LC_ALL) that appeared unset in the Perl warnings<br><h4> akhmed, Comment 55533296 Score: 2: </h4>On Debian, <code>local-gen</code> only processes locales that are uncommented in <code>&#47;etc&#47;local.gen</code>. You may need to do <code>echo en_US UTF-8 &gt;&gt; &#47;etc&#47;locale.gen</code> first.<br><h4> mixel, Comment 64496390 Score: 1: </h4>LC_<b>C</b>TYPE may be?<br><h4> ᴍᴇʜᴏᴠ, Comment 104574289 Score: 0: </h4>should be <code>LC_CTYPE</code><br>------------------------------------------------------------------ <br><h3> Paul Tomblin, Id: 2499826, Score: 172: </h3><p>This generally means you haven't properly set up locales on your Linux box.  </p>

<p>On Debian or Ubuntu, that means you need to do</p>

<pre>$ sudo locale-gen
$ sudo dpkg-reconfigure locales</pre>

<p>See also <a href="http://manpages.ubuntu.com/manpages/karmic/man8/locale-gen.8.html" rel="noreferrer">man locale-gen</a>.</p>
<h4> Somatik, Comment 16268218 Score: 40: </h4>does not fix the issue here<br><h4> alf, Comment 36799085 Score: 10: </h4>This worked for me in Ubuntu 14.04, although I had to add the missing locale first with <code>sudo locale-gen es_UY.UTF-8</code><br><h4> newUserNameHere, Comment 28019843 Score: 7: </h4>dpkg-reconfigure locales - fixed the issue for me, debian 7.1<br><h4> matteo, Comment 34925322 Score: 5: </h4>dpkg-reconfigure locales fails itself with the same perl locale error messages that one is trying to fix in the first place!!!!<br><h4> Zero3, Comment 56175939 Score: 2: </h4>@matteo Only the first time, before it fixes the error. Try again, and it should be fixed.<br><h4> Martin Popel, Comment 46310404 Score: 0: </h4>I had to use <code>LANG=C sudo dpkg-reconfigure locales</code><br><h4> Tobias Feil, Comment 96397109 Score: 0: </h4>Works perfectly when using Ubuntu through the Windows OpenSSH client.<br>------------------------------------------------------------------ <br><h3> Inder Kumar Rathore, Id: 20627476, Score: 99: </h3><h3>For  macOS &amp; Mac OS X users only</h3>
<p>I was getting the same warning while using <a href="http://en.wikipedia.org/wiki/Git_%28software%29" rel="noreferrer">Git</a></p>
<p>To resolve this warning <strong>Uncheck</strong> the <code>Set locale environment variable on startup</code> option and restart your terminal. Below screen shot represents my terminal settings.</p>
<p><a href="https://i.stack.imgur.com/y5nUH.png" rel="noreferrer"><img src="https://i.stack.imgur.com/y5nUH.png" alt="enter image description here" /></a></p>
<h4> Michael Morrison, Comment 35638899 Score: 4: </h4>I tried all the others but this one did it for me.  I use iTerm and it has the same character encoding option.<br><h4> joe, Comment 122208131 Score: 2: </h4>Yup. I use iTerm. Wiping problem Mac system settings fixed some Mac crashes, but caused this issue when running Perl on my long-stable CentOS server, connected via Mac / iTerm. Disabling the automatic locale set on connect fixed it. iTerm -&gt; Preferences -&gt;Profiles-&gt;Terminal-&gt;Environment-&gt;Set locale variables automatically. Uncheck this, and restart iTerm.<br><h4> Christian, Comment 48667219 Score: 2: </h4>Unfortunately this breaks ZSH (tabbing stopped working)<br><h4> Paulo Malvar, Comment 67259722 Score: 1: </h4>This totally does the trick for Mac OS. By the way, this starting happening to me right after upgraded to macOS Sierra. And this did fix this issue for me.<br><h4> Lucian Irimie, Comment 83430836 Score: 1: </h4>this fixed my problem. it started to happen to me, after updating to Mac OS X High Sierra from Sierra.<br>------------------------------------------------------------------ <br><h3> jfreak53, Id: 27724459, Score: 41: </h3><p>It is simple fix in Ubuntu. You have to generate the Locales from scratch, running the following commands from the command line:</p>

<pre><code>sudo locale-gen en_US en_US.UTF-8
sudo dpkg-reconfigure locales
</code></pre>

<p>This should create the locales and then re-configure them.</p>
<h4> Marcos Freitas, Comment 80744910 Score: 0: </h4>This worked fine to me even using <code>pt_BR pt_BR.UTF-8</code> - Thanks.<br>------------------------------------------------------------------ <br><h3> joscarsson, Id: 21363149, Score: 40: </h3><p>Adding the following to <code>/etc/environment</code> fixed the problem for me on Debian and Ubuntu (of course, modify to match the locale you want to use):</p>

<pre><code>LANGUAGE=en_US.UTF-8
LC_ALL=en_US.UTF-8
LANG=en_US.UTF-8
LC_CTYPE=en_US.UTF-8
</code></pre>
<h4> joscarsson, Comment 33154552 Score: 7: </h4>.. I got a warning saying setting locale in <code>&#47;etc&#47;environment</code> is deprecated and should instead be set in <code>&#47;etc&#47;default&#47;locale</code>. Both seems to work for now.<br><h4> ᴍᴇʜᴏᴠ, Comment 104574282 Score: 1: </h4>should be <code>LC_CTYPE</code><br>------------------------------------------------------------------ <br><h3> tkjef, Id: 25904859, Score: 26: </h3><p>On Debian, after much searching, this did the trick.</p>
<p>First:</p>
<pre><code>sudo apt-get purge locales
</code></pre>
<p>Then:</p>
<pre><code>sudo aptitude install locales
</code></pre>
<p>And the famous:</p>
<pre><code>sudo dpkg-reconfigure locales
</code></pre>
<p>This rids the system of locales, then re-installs locales and downgrades libc6 from 2.19 to 2.13 which is the issue. Then it configures locales again.</p>
<h4> tkjef, Comment 40980695 Score: 7: </h4>dpkg-reconfigure locales SHOULD be all that is needed. After you have tried that 100 times and looked around the internet and that&#39;s all you&#39;ve seen and the problem still won&#39;t resolve itself try the above. Then come back and upvote this. :)<br><h4> mknaf, Comment 40978232 Score: 5: </h4><code>dpkg-reconfigure locales</code> is all that is needed. <code>sudo</code> if you are a sudo type guy, or do it as root. Then select your locale according to what you have in your shell environment.<br><h4> tripleee, Comment 134286911 Score: 0: </h4>If your system is hosed to the point where purging and reinstalling a package solves something, you probably have other, more serious problems.<br>------------------------------------------------------------------ <br><h3> warvariuc, Id: 28723791, Score: 26: </h3><p>I am now using this:</p>

<pre><code>$ cat /etc/environment
...
LC_ALL=en_US.UTF-8
LANG=en_US.UTF-8
</code></pre>

<p>Then log out of SSH session and log in again.</p>

<p><strong>Old answer:</strong></p>

<p>Only this helped me:</p>

<pre><code>$ locale
locale: Cannot set LC_ALL to default locale: No such file or directory
LANG=en_US.UTF-8
LANGUAGE=
LC_CTYPE=en_US.UTF-8
LC_NUMERIC=ru_RU.UTF-8
LC_TIME=ru_RU.UTF-8
LC_COLLATE="en_US.UTF-8"
LC_MONETARY=ru_RU.UTF-8
LC_MESSAGES="en_US.UTF-8"
LC_PAPER=ru_RU.UTF-8
LC_NAME=ru_RU.UTF-8
LC_ADDRESS=ru_RU.UTF-8
LC_TELEPHONE=ru_RU.UTF-8
LC_MEASUREMENT=ru_RU.UTF-8
LC_IDENTIFICATION=ru_RU.UTF-8
LC_ALL=

$ sudo su

# export LANGUAGE=en_US.UTF-8
# export LANG=en_US.UTF-8
# export LC_ALL=en_US.UTF-8

# locale-gen en_US.UTF-8
Generating locales...
  en_US.UTF-8... up-to-date
Generation complete.

# dpkg-reconfigure locales
Generating locales...
  en_AG.UTF-8... done
  en_AU.UTF-8... done
  en_BW.UTF-8... done
  en_CA.UTF-8... done
  en_DK.UTF-8... done
  en_GB.UTF-8... done
  en_HK.UTF-8... done
  en_IE.UTF-8... done
  en_IN.UTF-8... done
  en_NG.UTF-8... done
  en_NZ.UTF-8... done
  en_PH.UTF-8... done
  en_SG.UTF-8... done
  en_US.UTF-8... up-to-date
  en_ZA.UTF-8... done
  en_ZM.UTF-8... done
  en_ZW.UTF-8... done
Generation complete.

# exit

$ locale
LANG=en_US.UTF-8
LANGUAGE=en_US.UTF-8
LC_CTYPE="en_US.UTF-8"
LC_NUMERIC="en_US.UTF-8"
LC_TIME="en_US.UTF-8"
LC_COLLATE="en_US.UTF-8"
LC_MONETARY="en_US.UTF-8"
LC_MESSAGES="en_US.UTF-8"
LC_PAPER="en_US.UTF-8"
LC_NAME="en_US.UTF-8"
LC_ADDRESS="en_US.UTF-8"
LC_TELEPHONE="en_US.UTF-8"
LC_MEASUREMENT="en_US.UTF-8"
LC_IDENTIFICATION="en_US.UTF-8"
LC_ALL=en_US.UTF-8
</code></pre>
<h4> Goke Obasa, Comment 63323138 Score: 0: </h4>This worked fine for me on Ubuntu 15.04, thanks a lot.<br>------------------------------------------------------------------ <br><h3> Alouani Younes, Id: 54488882, Score: 22: </h3><p>We will set locales that are not unset after reboot.</p>
<p>First open the Bash file and edit it:</p>
<pre><code>nano .bashrc
</code></pre>
<p>Add these lines to the file:</p>
<pre><code>export LC_ALL=&quot;en_US.UTF-8&quot;
export LANG=&quot;en_US.UTF-8&quot;
export LANGUAGE=&quot;en_US.UTF-8&quot;
</code></pre>
<p>Activate the change by reloading Bash:</p>
<pre><code>source ~/.bashrc
</code></pre>
<p>Test results:</p>
<pre><code>locale
</code></pre>
<h4> Liso, Comment 108679519 Score: 0: </h4>The only one that works for me, Raspbian and ubuntu server 16.04 :)<br><h4> tripleee, Comment 134286875 Score: 0: </h4>If you are looking for a copy/paste answer, this <i>might</i> work. What exactly works depends on which locales are actually installed. Anyway, this is a duplicate of older answers with essentially the same solution.<br>------------------------------------------------------------------ <br><h3> Lala, Id: 56966695, Score: 16: </h3><p>For Debian users, I have this problem after modifying my locale to change machine's language. This is what I did:</p>
<ol>
<li><p>Modify .bashrc:</p>
<pre class="lang-bash prettyprint-override"><code>export LANG=fr_FR.UTF-8
export LC_ALL=fr_FR.UTF-8
</code></pre>
</li>
<li><p>Uncomment line <code>fr_FR.UTF-8</code> in file <code>/etc/locale.gen</code> -&gt; <code>sudo locale-gen</code> to generate the missing package</p>
</li>
<li><p><code>sudo update-locale</code></p>
</li>
<li><p><code>sudo dpkg-reconfigure locales</code> to configure my locale to <code>fr_FR.UTF-8</code></p>
</li>
<li><p>Add extra lines to the <code>/etc/default/locale</code> file:</p>
<pre class="lang-none prettyprint-override"><code>LANGUAGE=en_US.UTF-8
LC_ALL=en_US.UTF-8
LANG=en_US.UTF-8
LC_TYPE=en_US.UTF-8
</code></pre>
</li>
<li><p>Reboot my computer and everything works fine</p>
</li>
</ol>
<h4> binaryanomaly, Comment 119072734 Score: 0: </h4>Sometimes 5. is the only thing that works. Still kinda puzzled by this behaviour.<br>------------------------------------------------------------------ <br><h3> Amjith, Id: 49797254, Score: 14: </h3><p>For Ubuntu use this,</p>
<pre><code>#export LANGUAGE=en_US.UTF-8
#export LC_ALL=en_US.UTF-8
#export LANG=en_US.UTF-8
#export LC_TYPE=en_US.UTF-8
</code></pre>
<p>It worked for me.</p>
<h4> Edenshaw, Comment 95233707 Score: 0: </h4>It also worked for me, by removing all content in file <code>&#47;etc&#47;default&#47;locale</code> and putting only the definition of the vars (removing the word export) and restarting the server<br><h4> dotbit, Comment 113699469 Score: 0: </h4>... and not for me. &quot;worked for you&quot; generally is not a good enough criterion. I suggest trying what I post below<br>------------------------------------------------------------------ <br><h3> Canberk Sinangil, Id: 72206792, Score: 13: </h3><p><strong>Debian GNU/Linux 11 (bullseye)</strong></p>
<p>I encountered this issue after creating a brand new VM instance in GCP.</p>
<p>Basically, I have just run the following</p>
<pre><code>$ sudo apt-get update
$ sudo apt-get upgrade
</code></pre>
<p>Here I have got the error</p>
<p><a href="https://i.stack.imgur.com/92aEv.png" rel="noreferrer"><img src="https://i.stack.imgur.com/92aEv.png" alt="error image" /></a></p>
<pre><code>perl: warning: Please check that your locale settings:
LANGUAGE = (unset),
LC_ALL = (unset),
LC_CTYPE = &quot;UTF-8&quot;,
LC_TERMINAL = &quot;iTerm2&quot;,
LANG = &quot;C&quot;
are supported and installed on your system.
</code></pre>
<p>Here is how I fixed it.</p>
<ul>
<li>Install the <code>locales</code> first.</li>
</ul>
<pre><code>$ sudo apt-get install locales
</code></pre>
<ul>
<li>Open the locale file (use your favorite editor).</li>
</ul>
<pre><code>$ sudo nano /etc/default/locale
</code></pre>
<ul>
<li>Add the following and save it.</li>
</ul>
<pre><code>LANGUAGE=en_US.UTF-8
LC_ALL=en_US.UTF-8
LANG=en_US.UTF-8
LC_CTYPE=en_US.UTF-8
</code></pre>
<ul>
<li>Run the following.</li>
</ul>
<pre><code>$ sudo localedef -i en_US -f UTF-8 en_US.UTF-8
</code></pre>
<ul>
<li><p>Restart your terminal.</p>
</li>
<li><p>Run the command to test and close it via <code>ctrl + d</code>.</p>
</li>
</ul>
<pre><code>$ perl
</code></pre>
<p>Note:
I created an instance to just test my solution in order to ensure. Please let me know if it doesn't work for you.</p>
<p><a href="https://i.stack.imgur.com/cycYN.png" rel="noreferrer"><img src="https://i.stack.imgur.com/cycYN.png" alt="terminal history" /></a></p>
<p>I hope it helps you.</p>
------------------------------------------------------------------ <br><h3> dsandrade, Id: 34301469, Score: 12: </h3><p>If you use <a href="https://en.wikipedia.org/wiki/OS_X_Yosemite" rel="noreferrer">Mac&nbsp;OS&nbsp;X v10.10</a> (Yosemite) or above to connect in your server Linux, you can try these steps.</p>

<ol>
<li><p>Keep your file /etc/ssh/sshd-config original</p></li>
<li><p>Put on your ~/.bash_profile</p>

<pre><code>export LANG="en_US"
export LC_ALL=$LANG.UTF-8
</code></pre></li>
<li><p>Run</p>

<pre><code>dpkg-reconfigure locales
</code></pre>

<p>And select "en_US.UTF-8"</p></li>
</ol>
------------------------------------------------------------------ <br><h3> David Morales, Id: 69857189, Score: 12: </h3><p><strong>For Ubuntu Server and Debian:</strong></p>
<p>No need to create exports in bashrc or deal with dpkg-reconfigure.</p>
<p>Just replace the contents of <code>/etc/default/locale</code> with:</p>
<pre><code>LC_ALL=en_US.UTF-8
LANG=en_US.UTF-8
</code></pre>
<h4> Sridhar Sarnobat, Comment 129859207 Score: 1: </h4>Even though this had no effect, through some kind of trail I can&#39;t retrace I found the solution for me (<a href="https://askubuntu.com/a/227513/126830">askubuntu.com/a/227513/126830</a>): <code>sudo locale-gen &quot;en_US.UTF-8&quot;</code>. So until further notice, thank you for posting this :)<br><h4> Mirko Pagliai, Comment 135270710 Score: 0: </h4>Works for me as suggested by @SridharSarnobat<br>------------------------------------------------------------------ <br><h3> Thomas Jensen, Id: 24245269, Score: 11: </h3><pre><code>sudo nano /etc/locale.gen
</code></pre>
<p>Uncomment the locales you want to use (e.g. <code>en_US.UTF-8 UTF-8</code>):</p>
<p>Then run:</p>
<pre><code>sudo /usr/sbin/locale-gen
</code></pre>
<p>Source: <em><a href="http://people.debian.org/%7Eschultmc/locales.html" rel="nofollow noreferrer">Configuring Locales</a></em></p>
<h4> Therealstubot, Comment 91587856 Score: 0: </h4>The company I work for in USA hosts a git server that has international customers. The GB crowd complained that their git clones over ssh would have problems due to locale differences. This applied on the server fixed this issue for them.<br>------------------------------------------------------------------ <br><h3> glarrain, Id: 22974232, Score: 10: </h3><p>You need to configure locale appropriately in <code>/etc/default/locale</code>, <strong>logout, login</strong>, and then run the regular commands</p>

<pre><code>root@host:~# echo -e 'LANG=en_US.UTF-8\nLC_ALL=en_US.UTF-8' &gt; /etc/default/locale
root@host:~# exit
local-user@local:~$ ssh root@host
root@host:~# locale-gen en_US.UTF-8
root@host:~# dpkg-reconfigure locales
</code></pre>
<h4> liberborn, Comment 55990455 Score: 4: </h4>these steps worked for me (Ubuntu server 14.04). the main point was to logout and login again.<br>------------------------------------------------------------------ <br><h3> bogdanvlviv, Id: 35611148, Score: 10: </h3><pre><code>perl: warning: Falling back to the standard locale ("C").
locale: Cannot set LC_ALL to default locale: No such file or directory
</code></pre>

<p><strong>Solution:</strong></p>

<p>Try this (<strong>uk_UA.UTF-8</strong> is my current locale. Write your locale, for example <strong>en_US.UTF-8</strong> !)</p>

<pre><code>sudo locale-gen uk_UA.UTF-8
</code></pre>

<p>and this.</p>

<pre><code>sudo dpkg-reconfigure locales
</code></pre>
<h4> madprops, Comment 66361369 Score: 0: </h4>Thank you this solved my problem, after doing this and reinstalling.<br>------------------------------------------------------------------ <br><h3> LandiLeite, Id: 48081955, Score: 10: </h3><p>For me, I fixed this error by editing the <em>.bashrc</em> file, adding exports. Add after the initial comments.</p>
<h3>Add language support.</h3>
<pre><code>export LANGUAGE=en_US.UTF-8
export LC_ALL=en_US.UTF-8
export LANG=en_US.UTF-8
export LC_TYPE=en_US.UTF-8
</code></pre>
<h4> Can H. Tartanoglu, Comment 118980810 Score: 0: </h4>Using LC_ALL shouldn&#39;t be necessary as it is meant for use during debugging. LC_ALL overrides all locale settings.<br>------------------------------------------------------------------ <br><h3> Blago Eres, Id: 46939017, Score: 9: </h3><p>For anyone connecting to <a href="https://en.wikipedia.org/wiki/DigitalOcean" rel="nofollow noreferrer">DigitalOcean</a> or some other Cloud hosting provider from the iTerm2.app on <a href="https://en.wikipedia.org/wiki/MacOS_High_Sierra" rel="nofollow noreferrer">macOS v10.13</a> (High Sierra) and getting this error on some commands:</p>
<pre><code>perl: warning: Setting locale failed.
perl: warning: Please check that your locale settings:
    LANGUAGE = (unset),
    LC_ALL = (unset),
    LC_CTYPE = &quot;UTF-8&quot;,
    LANG = &quot;en_US.UTF-8&quot;
  are supported and installed on your system.
perl: warning: Falling back to a fallback locale (&quot;en_US.UTF-8&quot;).
</code></pre>
<p>This fixed the problem for me:</p>
<p><a href="https://i.stack.imgur.com/Yvtj6.png" rel="nofollow noreferrer"><img src="https://i.stack.imgur.com/Yvtj6.png" alt="Enter image description here" /></a></p>
<h4> Brian Olsen, Comment 94198733 Score: 0: </h4>Yup was this setting in iterm2! Thanks!<br>------------------------------------------------------------------ <br><h3> Nuvanda, Id: 49089282, Score: 7: </h3><p>Adding the correct locale to <code>~/.bashrc</code>, <code>~/.bash_profile</code>, <code>/etc/environment</code> and the like will solve the problem, however it is not recommended, as it overrides the settings from <code>/etc/default/locale</code>, which   is confusing at best and may lead to the locales not being applied consistently at worst.</p>

<p>Instead, one should edit <code>/etc/default/locale</code> directly, which may look something like this:</p>

<pre><code>LANG=en_US.UTF-8
LANGUAGE=en_US:en
LC_CTYPE=en_US
</code></pre>

<p>The change will take effect the next time you log in. You can get the new locale in an existing shell by sourcing <code>/etc/default/locale</code> like this:</p>

<pre><code>$ . /etc/default/locale
</code></pre>
<h4> Ghanshyam Bagul, Comment 94777835 Score: 2: </h4>need to restart system after this step<br><h4> Dave Everitt, Comment 108215238 Score: 0: </h4>You can simply comment in the desired locale in &quot;/etc/locale.gen&quot; then run: <code>locale-gen</code><br><h4> tripleee, Comment 134286957 Score: 0: </h4>This is dubious advice. It&#39;s perfectly legitimate for the OS to have a default setting but for individual users to want to override that default. On multi-user servers, the OS might be set to use <code>en_US.utf-8</code>, but individual users from other continents might prefer or even require <code>pt_BR.utf-8</code>, <code>ja_JP.utf-8</code>, <code>fr_BF.utf-8</code>, etc.<br>------------------------------------------------------------------ <br><h3> lanoxx, Id: 50060181, Score: 7: </h3><p>If this problem occurs while you are connecting via <code>ssh</code> to a remote host then it is possible that the remote system is missing certain locales. I am not going to repeat how to install and configure locales as this has been well explained by other answers already.</p>
<p>As other answers have pointed out, ssh should be passing your local computer's locales to the remote host. For example, if you have Australian locales set (e.g., <code>en_AU.UFT-8</code>), and you are connecting to a newly setup Ubuntu Server which only comes with <code>en_US.UTF-8</code> then you will receive this warning.</p>
<p>To solve this problem you have several options:</p>
<ol>
<li><p>Install the required locales on the remote host such that they match locales configured on your client.</p>
</li>
<li><p>Change the SSH configuration to <em>not</em> pass your clients' environment variables. I would not recommend this.</p>
</li>
<li><p>Override the locale on your remote machine by exporting locale settings from file <em>.bashrc</em> and friends.</p>
</li>
</ol>
------------------------------------------------------------------ <br><h3> Parinda Rajapaksha, Id: 47176293, Score: 6: </h3><p>Add missing locales to file <em><a href="https://en.wikipedia.org/wiki/Bash_%28Unix_shell%29#Legacy-compatible_Bash_startup_example" rel="nofollow noreferrer">.bash_profile</a></em>:</p>
<pre><code>echo &quot;export LANGUAGE=en_US.UTF-8
export LANG=en_US.UTF-8
export LC_ALL=en_US.UTF-8&quot;&gt;&gt;~/.bash_profile
</code></pre>
<p>Then source your <em>.bash_profile</em> file:</p>
<pre><code>source ~/.bash_profile
</code></pre>
------------------------------------------------------------------ <br><h3> erik, Id: 60105176, Score: 5: </h3><h2>Source of the problem</h2>
<p>I experienced this, logging in from one machine to another via <code>ssh</code>. The remote machine didn’t have the locale files, that I had on my local machine. You can either disable the forwarding of the locale from your local machine to the remote machine (in the file <code>/etc/ssh/sshd_config</code> remove the line <code>AcceptEnv LANG LC_CTYPE …</code>) or install the locale (changing it is not necessary in this case).</p>
<h2>Installing</h2>
<p>On <a href="https://en.wikipedia.org/wiki/Fedora_%28operating_system%29" rel="nofollow noreferrer">Fedora</a>, <a href="https://en.wikipedia.org/wiki/Red_Hat_Linux" rel="nofollow noreferrer">Red Hat Linux</a>, and <a href="https://en.wikipedia.org/wiki/CentOS" rel="nofollow noreferrer">CentOS</a> I used</p>
<pre><code>sudo dnf install langpacks-de
</code></pre>
<p>for the German (de) language packs. I logged out, in, and it worked.</p>
<p>Search for other langpacks with</p>
<pre><code>dnf search langpacks-
</code></pre>
<h2>Changing/Activating</h2>
<p>To list available locales I used</p>
<pre><code>localectl list-locales
</code></pre>
<p>And to set a new one</p>
<pre><code>sudo localectl set-locale de_DE.utf8
</code></pre>
<h4> Houman, Comment 129792204 Score: 0: </h4>I&#39;m on Mac and don&#39;t see <code>AcceptEnv LANG LC_CTYPE</code> in <code>&#47;etc&#47;ssh&#47;sshd_config</code>. Any suggestions? Thx<br><h4> Houman, Comment 129792500 Score: 0: </h4>I found it under <code>&#47;etc&#47;ssh&#47;sshd_config.d&#47;100-macos.conf</code> but commenting it out and restarting, still didn&#39;t help.<br>------------------------------------------------------------------ <br><h3> user13353532, Id: 63387310, Score: 5: </h3><p>I have this issue whenever I run a Perl script, such as enum4linux, on the latest <a href="https://en.wikipedia.org/wiki/Kali_Linux" rel="noreferrer">Kali Linux</a> version.</p>
<pre><code>kali@kali:~$ lsb_release -a
No LSB modules are available.
Distributor ID:    Kali
Description:    Kali GNU/Linux Rolling
Release:    2020.3
Codename:    kali-rolling
kali@kali:~$
</code></pre>
<p>E.g.,</p>
<pre><code>kali@kali:~$ enum4linux
perl: warning: Setting locale failed.
perl: warning: Please check that your locale settings:
    LANGUAGE = (unset),
    LC_ALL = (unset),
    LC_ADDRESS = &quot;ms_MY.UTF-8&quot;,
    LC_NAME = &quot;ms_MY.UTF-8&quot;,
    LC_MONETARY = &quot;ms_MY.UTF-8&quot;,
    LC_PAPER = &quot;ms_MY.UTF-8&quot;,
    LC_IDENTIFICATION = &quot;ms_MY.UTF-8&quot;,
    LC_TELEPHONE = &quot;ms_MY.UTF-8&quot;,
    LC_MEASUREMENT = &quot;ms_MY.UTF-8&quot;,
    LC_TIME = &quot;ms_MY.UTF-8&quot;,
    LC_NUMERIC = &quot;ms_MY.UTF-8&quot;,
    LANG = &quot;en_US.UTF-8&quot;
    are supported and installed on your system.
perl: warning: Falling back to a fallback locale (&quot;en_US.UTF-8&quot;).
enum4linux v0.8.9 (http://labs.portcullis.co.uk/application/enum4linux/)
Copyright (C) 2011 Mark Lowe (mrl@portcullis-security.com)
</code></pre>
<p>Look at the warning message given.</p>
<pre><code>perl: warning: Falling back to a fallback locale (&quot;en_US.UTF-8&quot;).
</code></pre>
<p>Also, notice that <code>LC_ALL = (unset)</code></p>
<p>The solution is simple. All you have to do is to set it.</p>
<pre><code>export LC_ALL=en_US.UTF-8
</code></pre>
<p>E.g.,</p>
<pre><code>kali@kali:~$ export LC_ALL=en_US.UTF-8
kali@kali:~$
</code></pre>
<p>And problem solved</p>
<pre><code>kali@kali:~$ enum4linux
enum4linux v0.8.9 (http://labs.portcullis.co.uk/application/enum4linux/)
Copyright (C) 2011 Mark Lowe (mrl@portcullis-security.com)
</code></pre>
<p>For a permanent solution, you might want to add it to the <code>.bashrc</code> file.</p>
------------------------------------------------------------------ <br><h3> Alex Kosenkov, Id: 21815129, Score: 4: </h3><p>Following the accepted answer:</p>

<blockquote>
  <p>LANG=C ssh hunter2.</p>
</blockquote>

<p>LC_ALL=C ssh hunter2 </p>

<p>on the client side did the trick for me.</p>
<h4> Christian, Comment 48667290 Score: 0: </h4>Worked for me on OSX 10.10.3, while only &quot;LANG=C&quot; was not enough. Thanks Alex!<br>------------------------------------------------------------------ <br><h3> Adrian W, Id: 23374353, Score: 4: </h3><p>Another Git-related answer:</p>

<p>The source of the problem might be the Git <em>server</em>. If all else fails, try doing <code>dpkg-reconfigure locales</code> (or whatever is appropriate for your distribution) on the <strong>server</strong>.</p>
------------------------------------------------------------------ <br><h3> Rip3rs, Id: 41320586, Score: 4: </h3><p>With zsh ohmyzsh I added this to the <code>.zshrc</code>:</p>

<pre><code> # You may need to manually set your language environment
 LANGUAGE=en_US.UTF-8
 LANG=en_US.UTF-8
 LC_CTYPE=en_US.UTF-8
 LC_ALL=en_US.UTF-8
</code></pre>

<p>By removing the line <code>export LANG=en_US.UTF-8</code></p>

<p>Reopened a new tab and SSHed in, worked for me :)</p>
<h4> Peter Mortensen, Comment 115177455 Score: 0: </h4>What is <i>&quot;zsh ohmyzsh&quot;</i>?<br><h4> Rip3rs, Comment 115191523 Score: 0: </h4>ZSH is a different type of terminal, from the standard one. Oh. My ZSH is meant to improve that same terminal. from website: <code>Oh My Zsh is a delightful, open source, community-driven framework for managing your Zsh configuration. It comes bundled with thousands of helpful functions, helpers, plugins, themes, and a few things that make you shout...</code> <a href="https://ohmyz.sh/" rel="nofollow noreferrer">ohmyz.sh</a><br>------------------------------------------------------------------ <br><h3> Surender, Id: 63717870, Score: 4: </h3><p>Export the variable</p>
<pre><code>$ export LANGUAGE=en_US.UTF-8
$ export LC_ALL=en_US.UTF-8
$ export LANG=en_US.UTF-8
$ export LC_CTYPE=en_US.UTF-8
</code></pre>
<p>Next run</p>
<pre><code>$ sudo locale-gen
$ sudo dpkg-reconfigure locales 
</code></pre>
<p>When you run <code>dpkg-reconfigure locales</code> it asks you to choose the locales, choose en_US.UTF-8 . If you run this by selecting all locales, it will take some time to configure.</p>
------------------------------------------------------------------ <br><h3> Rodislav Moldovan, Id: 26820916, Score: 3: </h3><p>In my case, this was the output:</p>

<pre><code>LANGUAGE = (unset),
LC_ALL = (unset),
LC_PAPER = "ro_RO.UTF-8",
LC_ADDRESS = "ro_RO.UTF-8",
....
</code></pre>

<p>The solution was:</p>

<pre><code>sudo locale-gen ro_RO.UTF-8
</code></pre>
<h4> PatS, Comment 129462912 Score: 0: </h4>I also see <code>LANGUAGE = (unset)</code> but don&#39;t have the <code>locale-gen</code> command<br>------------------------------------------------------------------ <br><h3> zires, Id: 31378584, Score: 3: </h3><p>Add <code>LC_ALL="en_GB.utf8"</code> to <code>/etc/environment</code> and reboot. That's all.</p>
------------------------------------------------------------------ <br><h3> Craig Ringer, Id: 39855113, Score: 3: </h3><p>If you don't care about the locale issue, <a href="http://perldoc.perl.org/perllocale.html" rel="nofollow">you can set <code>PERL_BADLANG=0</code></a>. Of course, this could result in incorrect localisation.</p>
------------------------------------------------------------------ <br><h3> Matthias Hryniszak, Id: 43903014, Score: 3: </h3><p>All the previous answers are wrong. The message is clear - missing locale. The solution is to add the appropriate locale. You do that by editing the /etc/locale.gen file, remove the # sign in front of the locale being reported as missing and then issuing the command:</p>

<pre><code>$ sudo locale-gen
</code></pre>

<p>This will actually generate the locales specified in /etc/locale.gen and therefore the message will not be shown.</p>
<h4> Dave Everitt, Comment 108215163 Score: 0: </h4>This is simply <i>the</i> answer and worked on ancient Debian (6) for me. All the rest are over-complicated and a bit off-track.<br>------------------------------------------------------------------ <br><h3> java newbees, Id: 45530225, Score: 3: </h3><p>In my case, with <a href="https://en.wikipedia.org/wiki/Debian_version_history#Debian_8_(Jessie)" rel="nofollow noreferrer">Debian 8.6</a> (Jessie), I had to change settings in:</p>
<pre><code>/etc/ssh/ssh_config` for `#AcceptEnv LANG LC_*
</code></pre>
<p>and</p>
<p><code>sshd_config</code> for <code>#SendEnv LANG LC_*</code></p>
<p>Then restart the <code>ssh</code> service.</p>
<p>At last, I did:</p>
<p><code>locale-gen en_US.UTF-8</code> and <code>dpkg-reconfigure locales</code></p>
------------------------------------------------------------------ <br><h3> Stuart Cardall, Id: 47540351, Score: 3: </h3><p>In <a href="https://en.wikipedia.org/wiki/Arch_Linux" rel="nofollow noreferrer">Arch Linux</a> using a UK keyboard and locale, I had the following error:</p>
<pre><code>perl: warning: Setting locale failed.
perl: warning: Please check that your locale settings:
LANGUAGE = (unset),
LC_ALL = (unset),
LANG = &quot;en_US.utf8&quot;
</code></pre>
<ul>
<li><p>Exporting my locales in <code>/etc/profile</code> didn't fix it.</p>
</li>
<li><p>I did however fix this by editing <code>/etc/locale.gen</code>, also enabling the <code>en_US.utf8</code> locale that <code>perl</code> expected to find, and running <code>local-gen</code>.</p>
</li>
</ul>
<p>(I use <a href="https://sourceforge.net/projects/pacmanager/" rel="nofollow noreferrer">pac-manager</a> which uses a whole bunch of <code>perl</code> modules from <a href="https://en.wikipedia.org/wiki/Arch_Linux#Arch_User_Repository_(AUR)" rel="nofollow noreferrer">AUR</a>, so reinstalling <code>perl</code> in my particular case would be a nuisance.)</p>
------------------------------------------------------------------ <br><h3> dotbit, Id: 64298799, Score: 3: </h3><pre class="lang-none prettyprint-override"><code>perl -e exit
sudo localedef -i en_US -f UTF-8 en_DE.UTF-8
#                                   DE = German
# Use your country code en lieu of  DE

# The second &quot;perl&quot; should then not complain any more
perl -e exit

localectl list-locales # Just make sure it is OK
</code></pre>
<h4> dotbit, Comment 113703751 Score: 0: </h4>be aware that after this you might run into: &quot;kwin_xkbcommon: XKB: couldn&#39;t find a Compose file for locale &quot;en_DE.UTF-8&quot; on KDE , tbh. Yet perl is quite happy with it.<br><h4> PatS, Comment 129463089 Score: 0: </h4>Thank you for this post.  What is strange (to me) is that simply setting the environment variables in my .bashrc (before running any perl commands involved in my login) <b>did not work</b>.  This solution did, so thanks a bunch<br>------------------------------------------------------------------ <br><h3> mindrones, Id: 25567903, Score: 2: </h3><p>As always, the devil is in the detail...</p>

<p>On <a href="http://en.wikipedia.org/wiki/Mac_OS_X_Lion" rel="nofollow">Mac&nbsp;OS&nbsp;X&nbsp;v10.7.5</a> (Lion), to fix some <a href="http://en.wikipedia.org/wiki/Django_%28web_framework%29" rel="nofollow">Django</a> error, in my <code>~/.bash_profile</code> I've set:</p>

<pre><code>export LANG=en_EN.UTF-8
export LC_COLLATE=$LANG
export LC_CTYPE=$LANG
export LC_MESSAGES=$LANG
export LC_MONETARY=$LANG
export LC_NUMERIC=$LANG
export LC_TIME=$LANG
export LC_ALL=$LANG
</code></pre>

<p>And in turn for a long time I got that warning when using Perl.</p>

<p>My bad! As I've realized much later, my system is <code>en_US.UTF-8</code>!
I fixed it simply by changing from</p>

<pre><code>export LANG=en_EN.UTF-8
</code></pre>

<p>to</p>

<pre><code>export LANG=en_US.UTF-8
</code></pre>
------------------------------------------------------------------ <br><h3> Ax_, Id: 72085419, Score: 2: </h3><p>I had multiple users using different shells so in my case this solved:</p>
<ul>
<li>Check which shell<br />
<code>echo $0</code></li>
<li>if bash<br />
<code>echo &quot;# Setting locale\nLC_CTYPE=en_US.UTF-8\nLC_ALL=en_US.UTF-8&quot; &gt;&gt; .bashrc</code></li>
<li>if zsh<br />
<code>echo &quot;# Setting locale\nLC_CTYPE=en_US.UTF-8\nLC_ALL=en_US.UTF-8&quot; &gt;&gt; .zshrc</code></li>
</ul>
------------------------------------------------------------------ <br><h3> Gerard de Visser, Id: 75471457, Score: 2: </h3><p>If you are using iTerm2 on MacOS this issue can be solved by unchecking this setting: iTerm2 &gt; Settings &gt; Profiles &gt; Terminal &gt; Set locale variables automatically:</p>
<p><a href="https://i.stack.imgur.com/xqHOm.png" rel="nofollow noreferrer"><img src="https://i.stack.imgur.com/xqHOm.png" alt="enter image description here" /></a></p>
------------------------------------------------------------------ <br><h3> garaboncias, Id: 32251492, Score: 1: </h3><p><code>ssh</code> overwrites LC locale variables by default. See <code>/etc/ssh/sshd_config</code>:</p>

<pre><code>AcceptEnv LANG LC_*
</code></pre>

<p>So maybe you need to set these variables in your local shell.</p>
------------------------------------------------------------------ <br><h3> Aleksandar Pavić, Id: 40184833, Score: 1: </h3><p>For me, on <a href="https://en.wikipedia.org/wiki/Ubuntu_version_history#Ubuntu_16.04_LTS_.28Xenial_Xerus.29" rel="nofollow noreferrer">Ubuntu&nbsp;16.04</a> (Xenial Xerus) the following worked:</p>

<pre><code>root@host:~#locale-gen en_GB.UTF-8
root@host:~#localectl set-locale LANG=en_GB.UTF-8,LC_ALL=en_GB.UTF-8
</code></pre>

<p>Then reboot...</p>
------------------------------------------------------------------ <br><h3> Bharath Kumar, Id: 59386139, Score: 1: </h3><p>Setting the <strong>LC_TYPE</strong> environment variable to the default locale language <strong>&quot;C&quot;</strong> will help to suppress this warning.</p>
<p>Run <code>export LC_CTYPE=&quot;C&quot;</code> and try to run the <code>perl</code> command.</p>
<p>P.S: You need to set this variable in one of file <em>/etc/environment</em> or file <em>/etc/default/locale</em> for a permanent solution.</p>
<h4> gaurav kumar, Comment 117917468 Score: 0: </h4>for csh shell, run the command : setenv LC_CTYPE &quot;C&quot;. We can also add the same in ~/.cshrc file and then run the command &quot;source ~/.cshrc&quot; to re-load the variables.<br>------------------------------------------------------------------ <br><h3> Real, Id: 70089328, Score: 1: </h3><p>I had <code>LC_COLLATE=C</code> set on my machine on <code>/etc/locale.conf</code>. I simply deleted that line, so that only <code>LANG=en_US.UTF-8</code> (or equivalent for you) is set, and get no more problems.</p>
------------------------------------------------------------------ <br><h3> EpicVoyage, Id: 23173771, Score: 0: </h3><p>If you are running a chroot in CentOS, try manually copying <code>/usr/lib/locale</code> to the chroot environment for the account that is having this issue.</p>
<h4> kontur, Comment 95121812 Score: 2: </h4>Where to should these be copied?<br><h4> EpicVoyage, Comment 95154078 Score: 0: </h4>Copy it into the chroot environment of the account that you are having trouble with. In my case (with Plesk) this was to <code>&#47;var&#47;www&#47;vhosts&#47;[domain]&#47;usr&#47;lib&#47;</code>, but you will have to determine this path for your server/account.<br>------------------------------------------------------------------ <br><h3> rGunti, Id: 69234222, Score: 0: </h3><p>In case someone has a server with <strong><a href="https://www.strato.de/" rel="nofollow noreferrer">Strato</a></strong> and tries to figure this out, check <code>/etc/profile</code>. I was regenerating locales and setting variables for too long before I found out that there are two lines at the end of this file which overwrote my locale settings all the time.</p>
------------------------------------------------------------------ <br><h3> Khoi Ngo, Id: 71760650, Score: 0: </h3><p>Tried those ways on Mac M1 Monterey, but no one works.
My quick way to disable that message:
Open Terminal -&gt; Preferences -&gt; Advanced tab -&gt; uncheck to <strong>Set locale environment variables on startup</strong></p>
------------------------------------------------------------------ <br><h3> VladVons, Id: 33252120, Score: -4: </h3><p>Try to reinstall:</p>

<pre><code>localess apt-get install --reinstall locales
</code></pre>

<p>Read more in <em><a href="http://linux-ubuntu.info/en/how-to-change-the-default-locale/" rel="nofollow">How to change the default locale</a></em></p>

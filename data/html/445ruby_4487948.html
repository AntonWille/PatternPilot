 <h2> Title: How can I specify a local gem in my Gemfile? </h2> <h4> picardo, question_id: 4487948 </h4>Score: 445, Tags: {ruby-on-rails,ruby,ruby-on-rails-3,rubygems,bundler} <br><p>I'd like Bundler to load a local gem. Is there an option for that? Or do I have to move the gem folder into the .bundle directory?</p>
------------------------------------------------------------------ <br><h3> Jimmy, Id: 4488110, Score: 664: </h3><p>I believe you can do this:</p>

<pre><code>gem "foo", path: "/path/to/foo"
</code></pre>
<h4> mahemoff, Comment 37323568 Score: 14: </h4>A hard-coded path is fine for a quick hack session, but bloudermilk&#39;s local gem solution is more effective for projects under version control. It lets you keep checking in both projects - gem and project using the gem - such that others can don&#39;t have to check out the gem source or share the same paths.<br><h4> Jason R, Comment 66181912 Score: 10: </h4>Something to watch out for might be Spring.  If you are using a local path for your gem you could notice cached versions of your local gem like I did in rails console.  If it doesn&#39;t seem like your local gem changes are being picked up  try <code>spring stop</code> to see if it is indeed the issue.<br><h4> Cyzanfar, Comment 67709321 Score: 7: </h4>Way better way of doing it this here: <a href="https://rossta.net/blog/how-to-specify-local-ruby-gems-in-your-gemfile.html" rel="nofollow noreferrer">rossta.net/blog/&hellip;</a><br><h4> Andy Baird, Comment 68644884 Score: 6: </h4>This is a perfectly fine way of doing it if you are testing local development of a gem on a larger project. In this case, this is the &quot;better&quot; way to do it then having to push to a repository to test local changes.<br><h4> Dan, Comment 49032373 Score: 4: </h4>You can make this slightly cleaner by using a .gitignored symlink to your local gem in your project directory -- that way you can use source control on both projects separately and others can do the same without having an identical directory structure.<br><h4> Jason R, Comment 66182392 Score: 1: </h4>Adding the local gem path to config/spring.rb seems to help pickup your local gem changes after restarting rails console/server.<br><h4> Joshua Pinter, Comment 96438641 Score: 1: </h4><b>NOTE:</b> You cannot specify the <code>branch</code> to use when using <code>path</code>, so make sure the correct branch is checked out in the local file system when doing this.<br>------------------------------------------------------------------ <br><h3> bloudermilk, Id: 14167368, Score: 281: </h3><p>In addition to specifying the path (as Jimmy mentioned) you can also force Bundler to use a local gem <em>for your environment only</em> by using the following configuration option:</p>
<pre><code>$ bundle config set local.GEM_NAME /path/to/local/git/repository
</code></pre>
<p>This is extremely helpful if you're developing two gems or a gem and a rails app side-by-side.</p>
<p>Note though, that this only works when you're already using git for your dependency, for example:</p>
<pre><code># In Gemfile
gem 'rack', :github =&gt; 'rack/rack', :branch =&gt; 'master'

# In your terminal
$ bundle config set local.rack ~/Work/git/rack
</code></pre>
<p>As seen on <a href="https://bundler.io/guides/git.html#local" rel="noreferrer">the docs</a>.</p>
<h4> alxndr, Comment 42897047 Score: 47: </h4>To disable the local override: <code>bundle config --delete local.GEM_NAME</code><br><h4> Leo, Comment 62587535 Score: 4: </h4>If you would like to use a different branch in development from production, you also have to set <code>bundle config disable_local_branch_check true</code> or Bundler will complain about the branch. Be careful with this though, as the checks are supposed to stop incorrect commits getting into <code>Gemfile.lock</code>. Docs here: <a href="http://bundler.io/v1.12/git.html" rel="nofollow noreferrer">bundler.io/v1.12/git.html</a><br><h4> davetapley, Comment 38272868 Score: 3: </h4>Note this won&#39;t work with a <b>gemspec</b>, per discussion <a href="https://github.com/bundler/bundler/issues/2911" rel="nofollow noreferrer">here</a>.<br><h4> Automatico, Comment 32910671 Score: 1: </h4>I am having issues with this because I am using <code>BUNDLE_PATH</code> (building a package for distribution). When doing what you suggested, or Jimmy&#39;s answer, it only does a <code>using</code>, and not actually installing to my <code>BUNDLE_PATH</code> folder. I was not able to figure this out, any help?<br><h4> Benjineer, Comment 104111635 Score: 0: </h4>Note that the path provided in the <code>bundle</code> command should be the root directory of the other gem&#39;s source code<br><h4> Epigene, Comment 57806775 Score: 0: </h4>I had to remove version directive from the gem line to get this to work.<br>------------------------------------------------------------------ <br><h3> Rimian, Id: 16210452, Score: 41: </h3><p>You can also reference a local gem with git if you happen to be working on it.</p>

<pre><code>gem 'foo',
  :git =&gt; '/Path/to/local/git/repo',
  :branch =&gt; 'my-feature-branch'
</code></pre>

<p>Then, if it changes I run</p>

<pre><code>bundle exec gem uninstall foo
bundle update foo
</code></pre>

<p>But I am not sure everyone needs to run these two steps.</p>
<h4> Ramses, Comment 81154348 Score: 5: </h4>this is great, but is not that convenient if you&#39;re actively developing the gem... because you&#39;ll need to commit every change &amp; <code>bundle uninstall &lt;gem&gt; &amp;&amp; bundle install </code>, for every change you want reflected on your app<br>------------------------------------------------------------------ <br><h3> gotqn, Id: 23590976, Score: 19: </h3><p>In order to use local gem repository in a Rails project, follow the steps below:</p>

<ol>
<li><p>Check if your gem folder is a git repository (the command is executed in the gem folder)</p>

<pre><code>git rev-parse --is-inside-work-tree
</code></pre></li>
<li><p>Getting repository path (the command is executed in the gem folder)</p>

<pre><code>git rev-parse --show-toplevel
</code></pre></li>
<li><p>Setting up a local override for the rails application</p>

<pre><code>bundle config local.GEM_NAME /path/to/local/git/repository
</code></pre>

<p>where <code>GEM_NAME</code> is the name of your gem and <code>/path/to/local/git/repository</code> is the output of the command in point <code>2</code></p></li>
<li><p>In your application <code>Gemfile</code> add the following line:</p>

<pre><code>gem 'GEM_NAME', :github =&gt; 'GEM_NAME/GEM_NAME', :branch =&gt; 'master'
</code></pre></li>
<li><p>Running <code>bundle install</code> should give something like this:</p>

<pre><code>Using GEM_NAME (0.0.1) from git://github.com/GEM_NAME/GEM_NAME.git (at /path/to/local/git/repository) 
</code></pre>

<p>where <code>GEM_NAME</code> is the name of your gem and <code>/path/to/local/git/repository</code> from point <code>2</code></p></li>
<li><p>Finally, run <code>bundle list</code>, not <code>gem list</code> and you should see something like this:</p>

<pre><code>GEM_NAME (0.0.1 5a68b88)
</code></pre>

<p>where <code>GEM_NAME</code> is the name of your gem</p></li>
</ol>

<hr>

<p>A few important cases I am observing using:</p>

<pre><code>Rails 4.0.2  
ruby 2.0.0p247 (2013-06-27 revision 41674) [x86_64-linux] 
Ubuntu 13.10  
RubyMine 6.0.3
</code></pre>

<ul>
<li>It seems <code>RubyMine</code> is not showing local gems as an external library. More information about the bug can be found  <a href="http://youtrack.jetbrains.com/issue/RUBY-14542" rel="noreferrer">here</a> and <a href="http://youtrack.jetbrains.com/issue/RUBY-15026" rel="noreferrer">here</a></li>
<li>When I am changing something in the local gem, in order to be loaded in the rails application I should <code>stop/start</code> the rails server</li>
<li><p>If I am changing the <code>version</code> of the gem, <code>stopping/starting</code> the Rails server gives me an error. In order to fix it, I am specifying the gem version in the rails application <code>Gemfile</code> like this:</p>

<pre><code>gem 'GEM_NAME', '0.0.2', :github =&gt; 'GEM_NAME/GEM_NAME', :branch =&gt; 'master'
</code></pre></li>
</ul>
------------------------------------------------------------------ <br><h3> Nesha Zoric, Id: 49197127, Score: 3: </h3><p>You can reference gems with source:</p>
<p><code>source: 'https://source.com', git repository (:github =&gt; 'git/url')</code>
and with local path</p>
<p><code>:path =&gt; '.../path/gem_name'</code>.</p>
<p>You can learn more about [Gemfiles and how to use them]
(<a href="https://kolosek.com/rails-bundle-install-and-gemfile" rel="nofollow noreferrer">https://kolosek.com/rails-bundle-install-and-gemfile</a>) in this article.</p>
------------------------------------------------------------------ <br><h3> C.J., Id: 30926883, Score: -3: </h3><p>If you want the branch too:</p>

<pre><code>gem 'foo', path: "point/to/your/path", branch: "branch-name"
</code></pre>
<h4> KenB, Comment 99590767 Score: 0: </h4>This doesn&#39;t work, generates an error:  <code>Only gems with a git source can specify a branch.</code><br>
 <h2> Title: How do I sleep for a millisecond in Perl? </h2> <h4> ˈoʊ sɪks, question_id: 896904, created_at: 2009-05-22 08:38:21+00:00 </h4>Score: 86, Tags: {perl,sleep} <br><p>How do I sleep for shorter than a second in Perl?</p>
<h4> Comment by ˈoʊ sɪks, Score: 22, Id: 972271, created_at: 2009-07-20 13:52:24+00:00 </h4>It is because I believe this title is actually more helpful. Let me try to argument this. What B.D.F. did was duplicate the question in the title which adds no expressivity. When I was searching the web for the answer I actually looked for a millisecond sleep and not for a &quot;shorter than a second&quot; sleep. I say this version has a better chance of being hit through different google searches than B.D.F&#39;s one. Please correct me if I&#39;m wrong.<hr><h3> ✔️ Answer by Chris Lutz, Id: 896928, Score: 121, created_at: 2009-05-22 08:44:19+00:00 </h3><p>From the Perldoc page on <a href="http://perldoc.perl.org/functions/sleep.html" rel="noreferrer">sleep</a>:</p>

<blockquote>
  <p>For delays of finer granularity than one second, the <a href="http://perldoc.perl.org/Time/HiRes.html" rel="noreferrer">Time::HiRes</a> module (from CPAN, and starting from Perl 5.8 part of the standard distribution) provides usleep().</p>
</blockquote>

<p>Actually, it provides <code>usleep()</code> (which sleeps in microseconds) and <code>nanosleep()</code> (which sleeps in nanoseconds). You may want <code>usleep()</code>, which should let you deal with easier numbers. 1 millisecond sleep (using each):</p>

<pre><code>use strict;
use warnings;

use Time::HiRes qw(usleep nanosleep);

# 1 millisecond == 1000 microseconds
usleep(1000);
# 1 microsecond == 1000 nanoseconds
nanosleep(1000000);
</code></pre>

<p>If you don't want to (or can't) load a module to do this, you may also be able to use the built-in <a href="http://perldoc.perl.org/functions/select.html" rel="noreferrer"><code>select()</code></a> function:</p>

<pre><code># Sleep for 250 milliseconds
select(undef, undef, undef, 0.25);
</code></pre>
<h4> Comment by Chris Lutz, Score: 14, Id: 704394, created_at: 2009-05-22 09:00:43+00:00 </h4>The page on Time::HiRes says something like &quot;if you need nanosleep(), you should reconsider whether or not Perl is the best tool for your job.&quot;<h4> Comment by Piskvor left the building, Score: 8, Id: 704376, created_at: 2009-05-22 08:56:30+00:00 </h4>Caveat: although you could nanosleep(1), many OSes have some minimum granularity; e.g. I believe it&#39;s 1 ms in Windows XP, so you&#39;d still sleep for a whole 1000000 ns there.<h4> Comment by Peter N Lewis, Score: 7, Id: 6759903, created_at: 2011-05-04 03:32:00+00:00 </h4>There is also Time::HiRes::sleep( 0.3 ) which will sleep for .3 of a second.<hr><h3>  Answer by Greg, Id: 896923, Score: 39, created_at: 2009-05-22 08:43:28+00:00 </h3><p>Time::HiRes:</p>

<pre><code>  use Time::HiRes;
  Time::HiRes::sleep(0.1); #.1 seconds
  Time::HiRes::usleep(1); # 1 microsecond.
</code></pre>

<p><a href="http://perldoc.perl.org/Time/HiRes.html" rel="noreferrer">http://perldoc.perl.org/Time/HiRes.html</a></p>
<hr><h3>  Answer by brian d foy, Id: 897401, Score: 13, created_at: 2009-05-22 11:21:45+00:00 </h3><p>From <a href="http://faq.perl.org/perlfaq8.html#How_can_I_sleep_or_a" rel="noreferrer">perlfaq8</a>:</p>

<hr>

<p><strong>How can I sleep() or alarm() for under a second?</strong></p>

<p>If you want finer granularity than the 1 second that the sleep() function provides, the easiest way is to use the select() function as documented in select in perlfunc. Try the Time::HiRes and the BSD::Itimer modules (available from CPAN, and starting from Perl 5.8 Time::HiRes is part of the standard distribution).</p>
<hr><h3>  Answer by TML, Id: 896926, Score: 7, created_at: 2009-05-22 08:44:02+00:00 </h3><p>Use <a href="http://perldoc.perl.org/Time/HiRes.html" rel="noreferrer">Time::HiRes</a>.</p>
<hr><h3>  Answer by JesperE, Id: 896927, Score: 5, created_at: 2009-05-22 08:44:05+00:00 </h3><p>A quick googling on "perl high resolution timers" gave a reference to <a href="http://search.cpan.org/dist/Time-HiRes/HiRes.pm" rel="noreferrer">Time::HiRes</a>. Maybe that it what you want.</p>
<hr><h3>  Answer by Tim Tian, Id: 42427840, Score: 2, created_at: 2017-02-23 23:03:01+00:00 </h3><pre><code>system "sleep 0.1";
</code></pre>

<p>does the trick.</p>
<h4> Comment by Jimmy Koerting, Score: 1, Id: 114834541, created_at: 2020-11-22 11:49:20+00:00 </h4>not really perl, but helpfull if you don&#39;t want to install Time::HiRes but need some sleeps smaller than 1 second but <b>don&#39;t forget</b>, that spawning a shell for this takes time itself, so you can&#39;t count on accuracy!<h4> Comment by PiotrK, Score: 0, Id: 91783212, created_at: 2018-09-20 07:43:47+00:00 </h4>It actually worked for me (not elegant, but for debug purposes it seems to work).<h4> Comment by Otheus, Score: 0, Id: 136786764, created_at: 2023-12-02 10:10:07+00:00 </h4>works on linux and many systems with modern GNU <code>sleep</code> utillity installed, but will fail on BSD, MacOS, busybox-Linux, etc.  (Actually, it may work on BSD/MacOS depending on which sleep is part of the distribution)<hr><h3>  Answer by Otheus, Id: 77589923, Score: 0, created_at: 2023-12-02 10:14:07+00:00 </h3><p>For 1-liner on the CLI (for systems that don't have GNU's <code>sleep</code>:</p>
<pre><code>perl -MTime::HiRes=usleep -e 'usleep(1000000);';
</code></pre>
<p>will sleep 1s. You can verify this by prefixing <code>time</code> to the command. So to convert from microseconds to milliseconds, multiply your expected milliseconds by 1000.</p>
<pre><code>~ otheus$ time perl -MTime::HiRes=usleep -e 'usleep(1000000);';

real  0m1.032s
user  0m0.011s
sys   0m0.010s
~ otheus$ time perl -MTime::HiRes=usleep -e 'usleep(500000);';

real  0m0.547s
user  0m0.010s
sys   0m0.026s
</code></pre>

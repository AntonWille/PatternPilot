 <h2> Title: Multi-Line Comments in Ruby? </h2> <h3> Mohit Jain, question_id: 2989762 </h3>Score: 858, Tags: {ruby,comments,multiline,block-comments} <br><p>How can I comment multiple lines in Ruby?</p>
<h4> Comment 51207840 Nick: </h4>It&#39;s rather unfortunate that multiline comments in ruby look very much like a block of code. And given the high points awarded to this question (and the accepted answer) the people working on the ruby syntax should clearly think a bit about it.<br>------------------------------------------------------------------ <br><h3> Answer 2991254 Konstantin Haase: </h3><pre class="lang-ruby prettyprint-override"><code>#!/usr/bin/env ruby

=begin
Every body mentioned this way
to have multiline comments.

The =begin and =end must be at the beginning of the line or
it will be a syntax error.
=end

puts &quot;Hello world!&quot;

&lt;&lt;-DOC
Also, you could create a docstring.
which...
DOC

puts &quot;Hello world!&quot;

&quot;..is kinda ugly and creates
a String instance, but I know one guy
with a Smalltalk background, who
does this.&quot;

puts &quot;Hello world!&quot;

##
# most
# people
# do
# this


__END__

But all forgot there is another option.
Only at the end of a file, of course.
</code></pre>
<ul>
<li>This is how it looks (via screenshot) - otherwise it's hard to interpret how the above comments will look. <strong>Click to Zoom-in</strong>:</li>
</ul>
<p><a href="https://i.stack.imgur.com/AnchE.png" rel="noreferrer"><img src="https://i.stack.imgur.com/AnchE.png" alt="Comments in a text-editor" /></a></p>
<h4> Comment 20699032 bergie3000: </h4>Don&#39;t forget that <code>=begin</code> and <code>=end</code> cannot be preceded by any whitespace.<br><h4> Comment 18345596 ZoFreX: </h4>It&#39;s interesting that this answer makes some flaws in the syntax highlighter obvious.<br><h4> Comment 4722062 the Tin Man: </h4>I really prefer using <code>#</code> over them all, mostly because it visually separates the commented lines better than <code>=begin</code>/<code>=end</code> or using the here-to method. And, nice job.<br><h4> Comment 31601809 Albert Catal&#224;: </h4>And It is not possible to use =begin =end within a method<br><h4> Comment 39146401 the Tin Man: </h4>It&#39;s important to note that in the above example code, only the first <code>=begin...=end</code> and last block using <code>#</code> are picked up by rdoc when generating documentation.<br><h4> Comment 14637858 David J.: </h4>For me, in Ruby 1.9.3p194, using the heredoc style as shown above gives as <code>warning: possibly useless use of a literal in void context</code>.<br><h4> Comment 120878850 user1142217: </h4>@AlbertCatal&#224;: <i>And It is not possible to use =begin =end within a method</i> I tested, and it seems to work within a method. However, you can&#39;t indent it. What did you have in mind when you said &quot;not possible?&quot; Do you mean that it doesn&#39;t work with rdoc or something?<br><h4> Comment 36038127 user2536065: </h4>I would prefer to use #, but most of the time I use =begin ... =end because I&#39;m too lazy to type all those # or learn how to do block comments in vim<br><h4> Comment 31922702 Eric: </h4>If you&#39;re reading Ruby code in an editor that highlights rdoc comments correctly, they stand out, and your comments are less cluttered with a &quot;#&quot; starting every line. What&#39;s not to like?  OTOH, a scan through the std library shows two hits, and a small smattering amongst my gems. OTOH, almost all Perl code uses POD. Maybe because the tools for generating HTML and man pages from Perl POD comments are so much further along than Ruby&#39;s.<br><h4> Comment 91576574 Cyril Duchon-Doris: </h4>the Heredoc format <code>&lt;&lt;-DOC</code> will interpolate so you can&#39;t use <code>#{}</code> variables inside easily. and if you try to use <code>&lt;&lt;-&#39;DOC&#39;</code> (which basically tells heredoc not to perform interpolation), it will most likely screw your syntax highlighting.<br><h4> Comment 98963369 CÅ“ur: </h4><code>&lt;&lt;-DOC</code> will also create a String instance. So best to stick to <code>#</code> or <code>=begin</code>.<br><h4> Comment 124236121 Sampson Crowley: </h4>@BenCrowell that is correct AlbertCatala is wrong. begin end block comments can be used <i>anywhere</i>. the <i>only</i> restriction is that they cannot contain <i>any</i> superceding whitespace on <code>=begin</code> or <code>=end</code> so they are very ugly unless at the root of a file<br>------------------------------------------------------------------ <br><h3> Answer 2989773 Adam Lear: </h3><pre><code>=begin
My 
multiline
comment
here
=end
</code></pre>
<h4> Comment 14642087 Rose Perrone: </h4>I&#39;ve found that if I include a tab before =begin or =end, the comments don&#39;t work. The =begin and =end each need to be written at the beginning of each line.<br><h4> Comment 14637327 David J.: </h4>Sure, you <i>could</i> do this. It works. This is incredibly rare. I find it ugly. Maybe I&#39;m stuck in my ways?<br><h4> Comment 68464105 Paul Draper: </h4>@DavidJames, what would you do instead? Type a <code>#</code> and space before every single line? It&#39;s a lot of keystrokes especially if I start adding line breaks.<br><h4> Comment 67958197 fIwJlxSzApHEZIl: </h4>you&#39;re not alone @DavidJames. I&#39;ve personally opted to have them all commented out by my editor. CMD+/ or ALT+/ is the convention for most.<br>------------------------------------------------------------------ <br><h3> Answer 3000121 Rein Henrichs: </h3><p>Despite the existence of <code>=begin</code> and <code>=end</code>, the normal and a more correct way to comment is to use <code>#</code>'s on each line. If you read the source of any ruby library, you will see that this is the way multi-line comments are done in almost all cases.</p>
<h4> Comment 14637213 David J.: </h4>Sure, there are many &quot;valid&quot; ways to write comments. Let&#39;s be practical here. If you actually write Ruby and read what others write, you should be using <code>#</code> comments. (I am mystified why this had two downvotes. I guess the Stack Overflow community has to get it wrong sometimes!)<br><h4> Comment 4722089 the Tin Man: </h4>You might get arguments about the &quot;more correct&quot; part of your statement as they&#39;re both valid. I prefer using <code>#</code> because it&#39;s more obvious. When commenting out code it&#39;s important to make it obvious that&#39;s what happened. If you&#39;re viewing the code without the benefit of code coloring in an editor using <code>=begin&#47;=end</code> can make it tough to figure out why code is being ignored.<br><h4> Comment 14637264 David J.: </h4><code>3 == three</code> where <code>def three; 1 + 1 + 1 end</code>. Therefore both are valid. Who cares? Use <code>3</code>!<br><h4> Comment 60772462 Shayne: </h4>This isn&#39;t actually an answer to his question, hence the downvotes.<br><h4> Comment 39145064 Parthian Shot: </h4>@theTinMan While true, generally the only time you&#39;d lack syntax highlighting (in my experience) is when you&#39;re using <code>vi</code> on a production server. In which case, you probably shouldn&#39;t be doing your development there, anyway.<br><h4> Comment 39145159 Parthian Shot: </h4>@DavidJames Your example is ridiculous because it&#39;s more verbose. Putting a hash on every line is more verbose for longer comments. And if anyone thinks the phrase &quot;/dev/urandom was used here for the nonblocking cryptographically-sound PRNG. Do not touch this code- it is magic&quot; is my attempt at writing ruby, I would contend their confusion arises more from ignorance on their part than lack of clarity on mine. Which isn&#39;t to say your point is always invalid- it&#39;s just only a good one when commenting out code. But if your comment is just... comment... it should be clear either way.<br><h4> Comment 39146199 the Tin Man: </h4>@ParthianShot, even on my production hosts I have my standard ~/.vim defined. And some of my production hosts <i>are</i> for development by the users.<br><h4> Comment 39146665 Parthian Shot: </h4>@theTinMan I am experiencing a mixture of confused, hungry and tired. One of those emotions is a response to your comment. The default highlighting in vim usually works well. When don&#39;t you have highlighting? <b>EDIT:</b> It was confused. Took me a bit but I got it sussed.<br><h4> Comment 39148680 the Tin Man: </h4>You don&#39;t get default highlighting with a stripped vim on a ssh session with a terminal mismatch, or where vim doesn&#39;t understand the file type, especially on our hosts which are way out of date. My first task on any machine I help manage is to update vim from source to the latest full version just because I can&#39;t stand stripped vim but some machines I use I don&#39;t manage.<br>------------------------------------------------------------------ <br><h3> Answer 2989774 miku: </h3><pre><code>#!/usr/bin/env ruby

=begin
Between =begin and =end, any number
of lines may be written. All of these
lines are ignored by the Ruby interpreter.
=end

puts "Hello world!"
</code></pre>
<h4> Comment 45701991 skagedal: </h4>@ParthianShot -  It is not a thing - =begin and =end are ignored if not at the beginning of a line. Nesting does not seem to be possible.<br><h4> Comment 39145271 Parthian Shot: </h4>+1 because I had no idea nesting was a thing in Ruby multiline comments.<br><h4> Comment 64505484 Chinoto Vokro: </h4>Nesting a comment inside a comment would result in either a single comment or a syntax error from trying to end a comment where there is no comment to end. <code>&#47;*I am a\n#nested\ncomment, which really serves no purpose*&#47;</code> <code>&#47;*I am bound &#47;*to*&#47; FAIL!*&#47;</code> It could make sense if you have single line comments and code inside of a multiline comment, such as a function with documentation that you don&#39;t want people to use, but you also don&#39;t want to remove it from the file.<br>------------------------------------------------------------------ <br><h3> Answer 25147162 the Tin Man: </h3><p>Using either:</p>

<pre>
=begin
This
is
a
comment
block
=end
</pre>

<p>or</p>

<pre>
# This
# is
# a
# comment
# block
</pre>

<p>are the only two currently supported by rdoc, which is a good reason to use only these I think.</p>
<h4> Comment 98963573 CÅ“ur: </h4>Another good reason to stick to <code>=begin</code> or <code>#</code> is that both <code>&lt;&lt;-DOC</code> and <code>&quot;</code> syntaxes will generate useless string literals at execution.<br>------------------------------------------------------------------ <br><h3> Answer 52061019 anandharshan: </h3><pre><code>=begin
comment line 1
comment line 2
=end
</code></pre>
<p>make sure <code>=begin</code> and <code>=end</code> is the first thing on that line (no spaces)</p>
------------------------------------------------------------------ <br><h3> Answer 25329895 Prabhakar: </h3><p>Here is an example :</p>

<pre><code>=begin 
print "Give me a number:"
number = gets.chomp.to_f

total = number * 10
puts  "The total value is : #{total}"

=end
</code></pre>

<p>Everything you place in between <code>=begin</code> and <code>=end</code> will be treated as a comment regardless of how many lines of code it contains between.</p>

<p><strong>Note:</strong> Make sure there is no space between <code>=</code> and <code>begin</code>:</p>

<ul>
<li>Correct: <code>=begin</code></li>
<li>Wrong: <code>= begin</code></li>
</ul>
------------------------------------------------------------------ <br><h3> Answer 23190214 La-comadreja: </h3><pre><code>=begin
(some code here)
=end
</code></pre>

<p>and</p>

<pre><code># This code
# on multiple lines
# is commented out
</code></pre>

<p>are both correct.  The advantage of the first type of comment is editability&mdash;it's easier to uncomment because fewer characters are deleted.  The advantage of the second type of comment is readability&mdash;reading the code line by line, it's much easier to tell that a particular line has been commented out.  Your call but think about who's coming after you and how easy it is for them to read and maintain.</p>
<h4> Comment 39174612 La-comadreja: </h4>Neither do &quot;/*&quot; and &quot;*/&quot; in Java, C and C++.  As with the Ruby syntax, large blocks of code might be commented out between those two characters, and everyone who knows the basics of the language knows what they mean.<br><h4> Comment 73820679 Camille Goudeseune: </h4>Syntax coloring (in vim, for example) shows that the first type is a comment.  In that case, the first type has no disadvantages.<br><h4> Comment 39155001 David J.: </h4>IMO, <code>=begin</code> and <code>=end</code> do not visually convey that what is in-between is a comment... Clojure, for example, uses <code>(comment :whatever)</code> which at leads says what it means: <a href="http://stackoverflow.com/questions/1191628/block-comments-in-clojure" title="block comments in clojure">stackoverflow.com/questions/1191628/block-comments-in-clojur&zwnj;&#8203;e</a><br>------------------------------------------------------------------ <br><h3> Answer 50900812 user2553863: </h3><p>In case someone is looking for an alternate way to comment multiple lines, for instance:</p>
<pre><code>&lt;%
=begin
%&gt;
  ... multiple HTML lines to comment out
  &lt;%= image_tag(&quot;image.jpg&quot;) %&gt;
&lt;%
=end
%&gt;
</code></pre>
<p>can be replaced with:</p>
<pre><code>&lt;% if false # The following section is commented out because... %&gt;
  ... multiple HTML lines to comment out
  &lt;%= image_tag(&quot;image.jpg&quot;) %&gt;
&lt;% end # if false %&gt;
</code></pre>
<p>This is not strictly commenting, because there is an if sentence, and therefore there is a very small use of the CPU, so I wouldn't use this kind of resource inside code that runs frequently.</p>
<p>However sometimes I find it more appealing.</p>
<p>Does anyone know if there is a difference in main memory usage with this practice?</p>
<h4> Comment 113349892 Robert: </h4>The multi line comment with begin and end, like your first code snippet, actually works.<br><h4> Comment 136373336 user2553863: </h4>@Robert, you are right! Maybe it failed with an older Ruby version... IDK anymore. I&#39;ll update the answer. Thanks!<br>------------------------------------------------------------------ <br><h3> Answer 61435597 psychoslave: </h3><pre class="lang-ruby prettyprint-override"><code>  def idle
    &lt;&lt;~aid
    This is some description of what idle does.

    It does nothing actually, it's just here to show an example of multiline
    documentation. Thus said, this is something that is more common in the
    python community. That's an important point as it's good to also fit the
    expectation of your community of work. Now, if you agree with your team to
    go with a solution like this one for documenting your own base code, that's
    fine: just discuss about it with them first.

    Depending on your editor configuration, it won't be colored like a comment,
    like those starting with a "#". But as any keyword can be used for wrapping
    an heredoc, it is easy to spot anyway. One could even come with separated
    words for different puposes, so selective extraction for different types of
    documentation generation would be more practical. Depending on your editor,
    you possibly could configure it to use the same syntax highlight used for
    monoline comment when the keyword is one like aid or whatever you like.

    Also note that the squiggly-heredoc, using "~", allow to position
    the closing term with a level of indentation. That avoids to break the visual reading flow, unlike this far too long line.
    aid
  end
</code></pre>

<p>Note that at the moment of the post, the stackoverflow engine doesn't render syntax coloration correctly. Testing how it renders in your editor of choice is let as an exercise. ;)</p>

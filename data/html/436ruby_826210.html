 <h2> Title: How do I get the name of a Ruby class? </h2> <h4> andi, question_id: 826210, created_at: 2009-05-05 18:13:35+00:00 </h4>Score: 436, Tags: {ruby-on-rails,ruby,rails-activerecord} <br><p>How can I get the class name from an ActiveRecord object?</p>

<p>I have:</p>

<pre><code>result = User.find(1)
</code></pre>

<p>I tried:</p>

<pre><code>result.class
# =&gt; User(id: integer, name: string ...)
result.to_s
# =&gt; #&lt;User:0x3d07cdc&gt;"
</code></pre>

<p>I need only the class name, in a string (<code>User</code> in this case). Is there a method for that? </p>

<p>I know this is pretty basic, but I searched both Rails' and Ruby's docs, and I couldn't find it.</p>
<h4> Comment by Andrew Grimm, Score: 1, Id: 8362689, created_at: 2011-08-09 23:53:06+00:00 </h4>@Oliver N.: With normal Ruby objects, <code>Object#class.inspect</code> gives the same as <code>Object#class.name</code>, whereas this isn&#39;t the case with ActiveRecord objects.<hr><h3> ✔️ Answer by flicken, Id: 826227, Score: 817, created_at: 2009-05-05 18:15:23+00:00 </h3><p>You want to call <a href="https://www.ruby-doc.org/core/classes/Module.html#M001699" rel="noreferrer">.name</a> on the object's class:</p>

<pre><code>result.class.name
</code></pre>
<h4> Comment by pseidemann, Score: 98, Id: 9713719, created_at: 2011-10-30 20:48:37+00:00 </h4>@Abe: even cleaner (ActiveSupport): <code>result.class.name.demodulize</code><h4> Comment by Daniel Rikowski, Score: 29, Id: 9249395, created_at: 2011-10-01 10:40:30+00:00 </h4>@Abe: <code>result.class.name.split(&#39;::&#39;).last</code><h4> Comment by Abe Petrillo, Score: 6, Id: 8769609, created_at: 2011-09-02 11:35:02+00:00 </h4>When I do this I get the Module names before it, so &quot;Module::SubModule::Class&quot;, is there a way of getting just &quot;Class&quot;<h4> Comment by Dan Polites, Score: 3, Id: 18445102, created_at: 2012-11-20 20:17:56+00:00 </h4>For the newcomers out there, you can also obtain the class name as a string by using the class like this: <code>User.name</code>. <code>User.to_s</code> also seems to work.<h4> Comment by Per Lundberg, Score: 1, Id: 64062135, created_at: 2016-07-12 08:24:49+00:00 </h4>The demodulize method comes from here: <a href="http://apidock.com/rails/ActiveSupport/Inflector/demodulize" rel="nofollow noreferrer">apidock.com/rails/ActiveSupport/Inflector/demodulize</a>  (You need to load the ActiveSupport string inflections to be able to use if, if you are not a Rails project.)<h4> Comment by Cyril Duchon-Doris, Score: 0, Id: 80415708, created_at: 2017-10-13 16:49:50+00:00 </h4>How do you do when the class hides its name ? I wanted to get the full namespace + class of a proxy object, but its name was overriden with <code>[Proxy] Foo</code> ? EDIT : It&#39;s possible to show the name by triggering an error on the class and the real class name will be printed in the debug, but well..<hr><h3>  Answer by Darren Hicks, Id: 24832287, Score: 139, created_at: 2014-07-18 19:21:09+00:00 </h3><p>Here's the correct answer, extracted from comments by Daniel Rikowski and pseidemann.  I'm tired of having to weed through comments to find the right answer...</p>

<p>If you use Rails (ActiveSupport):</p>

<pre><code>result.class.name.demodulize
</code></pre>

<p>If you use POR (plain-ol-Ruby):</p>

<pre><code>result.class.name.split('::').last
</code></pre>
<h4> Comment by Dennis, Score: 4, Id: 112467480, created_at: 2020-08-26 15:59:32+00:00 </h4>An answer that is comparing a solution to others and claims to better, should also explain why.<h4> Comment by pseidemann, Score: 0, Id: 129651472, created_at: 2022-08-19 12:14:22+00:00 </h4>well, technically, my comment answered more than what was originally asked ;)<hr><h3>  Answer by tal, Id: 826853, Score: 38, created_at: 2009-05-05 20:47:45+00:00 </h3><p>Both <code>result.class.to_s</code> and <code>result.class.name</code> work.</p>
<h4> Comment by kch, Score: 43, Id: 635657, created_at: 2009-05-05 20:54:48+00:00 </h4>But conceptually, #name returns the name, #to_s returns a string representation, which just happens to be identical to the name. I&#39;d stick to using #name, just out of anal-retentiveness.<hr><h3>  Answer by jayhendren, Id: 49804985, Score: 14, created_at: 2018-04-12 20:01:45+00:00 </h3><p>If you want to get a class name from inside a class method, <code>class.name</code> or <code>self.class.name</code> won't work.  These will just output <code>Class</code>, since the class of a class is <code>Class</code>.  Instead, you can just use <code>name</code>:</p>

<pre><code>module Foo
  class Bar
    def self.say_name
      puts "I'm a #{name}!"
    end
  end
end

Foo::Bar.say_name
</code></pre>

<p>output:</p>

<pre><code>I'm a Foo::Bar!
</code></pre>
<h4> Comment by Aaron Wallentine, Score: 0, Id: 137437602, created_at: 2024-02-08 03:13:15+00:00 </h4>Wow, thanks, that feels counterintuitive, but checks out.  It&#39;s strange because it feels  easy and common to override <code>name</code>, especially in an ActiveRecord model; many models will have a <code>name</code> attribute. If that were the case, how would we get the class name?<hr><h3>  Answer by software_writer, Id: 73680628, Score: 3, created_at: 2022-09-11 15:50:59+00:00 </h3><p>In Ruby, you'd use the <code>object.class.name</code> method as follows.</p>
<pre class="lang-rb prettyprint-override"><code>module Bank
  class Account
  end
end

irb(main):005:0&gt; account = Bank::Account.new
=&gt; #&lt;Bank::Account:0x0000000106115b00&gt;
irb(main):006:0&gt; account.class.name
=&gt; &quot;Bank::Account&quot;
irb(main):008:0&gt; account.class.name.split(&quot;::&quot;).last
=&gt; &quot;Account&quot;
</code></pre>
<p>In Rails, as others mentioned, you can use the <a href="https://api.rubyonrails.org/classes/String.html#method-i-demodulize" rel="nofollow noreferrer"><code>demodulize</code></a> method on a string, which is added by Active Support. It removes the module part from the constant expression in the string.</p>
<pre class="lang-bash prettyprint-override"><code>irb(main):014:0&gt; account.class.name.demodulize
=&gt; &quot;Account&quot;
</code></pre>
<p>Internally, this method calls the <a href="https://api.rubyonrails.org/classes/ActiveSupport/Inflector.html#method-i-demodulize" rel="nofollow noreferrer"><code>demodulize</code></a> class method on the <code>ActiveSupport::Inflector</code> class, passing itself as the argument.</p>
<pre class="lang-rb prettyprint-override"><code># File activesupport/lib/active_support/core_ext/string/inflections.rb, line 166
def demodulize
  ActiveSupport::Inflector.demodulize(self)
end
</code></pre>
<p>The <code>Inflector.demodulize</code> function does the same thing.</p>
<pre class="lang-rb prettyprint-override"><code>demodulize('ActiveSupport::Inflector::Inflections') # =&gt; &quot;Inflections&quot;
demodulize('Inflections')                           # =&gt; &quot;Inflections&quot;
demodulize('::Inflections')                         # =&gt; &quot;Inflections&quot;
demodulize('')                                      # =&gt; &quot;&quot;
</code></pre>
<p>However, its internal implementation is different than the simple version above.</p>
<pre class="lang-rb prettyprint-override"><code># File activesupport/lib/active_support/inflector/methods.rb, line 228
def demodulize(path)
  path = path.to_s
  if i = path.rindex(&quot;::&quot;)
    path[(i + 2)..-1]
  else
    path
  end
end
</code></pre>
<p>After converting the path argument to a string, it gets the index of the last occurrence of <code>::</code> using Ruby's <a href="https://ruby-doc.org/core-3.1.1/String.html#method-i-rindex" rel="nofollow noreferrer"><code>rindex</code></a> function. If it exists, then it returns the remaining substring. Otherwise, it returns the original string. The <code>array[n..-1]</code> expression returns the substring from <code>n</code> to the last character in the string.</p>
<p>Now I haven't done any benchmark studies to find why Rails uses this alternative approach using <code>rindex</code> (please comment if you know why), but as a code readability enthusiast, I like the first one using the <code>split</code> and <code>last</code> functions.</p>
<p><em>Source: <a href="https://www.akshaykhot.com/how-to-get-objects-class-name-in-ruby-rails/" rel="nofollow noreferrer">How to Get an Object's Class Name in Rails</a></em></p>
<hr><h3>  Answer by Chivorn Kouch, Id: 47668307, Score: 2, created_at: 2017-12-06 06:39:13+00:00 </h3><p>In my case when I use something like <code>result.class.name</code> I got something like <code>Module1::class_name</code>. But if we only want <code>class_name</code>, use </p>

<p><code>result.class.table_name.singularize</code></p>

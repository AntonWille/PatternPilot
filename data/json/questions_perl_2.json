[{"tags":["javascript","html","perl"],"owner":{"account_id":93796,"reputation":25330,"user_id":256439,"user_type":"registered","accept_rate":99,"profile_image":"https:\/\/www.gravatar.com\/avatar\/c4b17df9c9b2f33a96eb84f92054f708?s=256&d=identicon&r=PG","display_name":"Sandra Schlichting","link":"https:\/\/stackoverflow.com\/users\/256439\/sandra-schlichting"},"is_answered":true,"view_count":201772,"accepted_answer_id":5733859.0,"answer_count":5,"score":76,"last_activity_date":1547671746,"creation_date":1303318116,"question_id":5733808,"body_markdown":"I have a form that looks like this\r\n\r\n    &lt;form action=&quot;receiver.pl&quot; method=&quot;post&quot;&gt;\r\n      &lt;input name=&quot;signed&quot; type=&quot;checkbox&quot;&gt;\r\n      &lt;input value=&quot;Save&quot; type=&quot;submit&quot;&gt;\r\n    &lt;\/form&gt;\r\n\r\nand I would like to stay on the same page, when Submit is clicked, but still have `receiver.pl` executed.\r\n\r\nHow should that be done?\r\n","link":"https:\/\/stackoverflow.com\/questions\/5733808\/submit-form-and-stay-on-same-page","title":"Submit form and stay on same page?","body":"<p>I have a form that looks like this<\/p>\n\n<pre><code>&lt;form action=\"receiver.pl\" method=\"post\"&gt;\n  &lt;input name=\"signed\" type=\"checkbox\"&gt;\n  &lt;input value=\"Save\" type=\"submit\"&gt;\n&lt;\/form&gt;\n<\/code><\/pre>\n\n<p>and I would like to stay on the same page, when Submit is clicked, but still have <code>receiver.pl<\/code> executed.<\/p>\n\n<p>How should that be done?<\/p>\n","last_edit_date":null,"protected_date":null,"closed_date":null,"closed_reason":null,"community_owned_date":null},{"tags":["perl","scoping"],"owner":{"account_id":2311,"reputation":54014,"user_id":3208,"user_type":"registered","accept_rate":86,"profile_image":"https:\/\/www.gravatar.com\/avatar\/8092a4ad249c669a8e833fe49f4b4052?s=256&d=identicon&r=PG","display_name":"Brian G","link":"https:\/\/stackoverflow.com\/users\/3208\/brian-g"},"is_answered":true,"view_count":48614,"accepted_answer_id":129714.0,"answer_count":16,"score":76,"last_activity_date":1668065876,"creation_date":1222287179,"question_id":129607,"body_markdown":"I am seeing both of them used in this script I am trying to debug and the literature is just not clear. Can someone demystify this for me?","link":"https:\/\/stackoverflow.com\/questions\/129607\/what-is-the-difference-between-my-and-local-in-perl","title":"What is the difference between my and local in Perl?","body":"<p>I am seeing both of them used in this script I am trying to debug and the literature is just not clear. Can someone demystify this for me?<\/p>\n","last_edit_date":1326451793.0,"protected_date":null,"closed_date":null,"closed_reason":null,"community_owned_date":null},{"tags":["perl","version","module","cpan"],"owner":{"account_id":2733,"reputation":14113,"user_id":3839,"user_type":"registered","accept_rate":70,"profile_image":"https:\/\/www.gravatar.com\/avatar\/d36d13c416d215a90fdd4a00a8808414?s=256&d=identicon&r=PG","display_name":"Matthew Watson","link":"https:\/\/stackoverflow.com\/users\/3839\/matthew-watson"},"is_answered":true,"view_count":60881,"accepted_answer_id":260796.0,"answer_count":6,"score":75,"last_activity_date":1677787189,"creation_date":1225764206,"question_id":260593,"body_markdown":"I&#39;m tasked with replicating a production environment to create many test\/sit environments.\r\n\r\nOne of the things I need to do is build up Perl, with all the modules which have been installed (including internal and external modules) over the years. I could just use CPAN.pm autobundle, but this will result in the test environment having much newer versions of the external modules that production has.\r\n\r\n\r\nWhat is the easiest\/best way to get and install (a lot of) version specific Perl modules.\r\n\r\n","link":"https:\/\/stackoverflow.com\/questions\/260593\/how-can-i-install-a-specific-version-of-a-set-of-perl-modules","title":"How can I install a specific version of a set of Perl modules?","body":"<p>I'm tasked with replicating a production environment to create many test\/sit environments.<\/p>\n\n<p>One of the things I need to do is build up Perl, with all the modules which have been installed (including internal and external modules) over the years. I could just use CPAN.pm autobundle, but this will result in the test environment having much newer versions of the external modules that production has.<\/p>\n\n<p>What is the easiest\/best way to get and install (a lot of) version specific Perl modules.<\/p>\n","last_edit_date":1458661863.0,"protected_date":null,"closed_date":null,"closed_reason":null,"community_owned_date":null},{"tags":["perl"],"owner":{"account_id":254533,"reputation":1449,"user_id":534009,"user_type":"registered","accept_rate":36,"profile_image":"https:\/\/www.gravatar.com\/avatar\/5ba490a9b8444192935e90a42b1e37ab?s=256&d=identicon&r=PG","display_name":"user534009","link":"https:\/\/stackoverflow.com\/users\/534009\/user534009"},"is_answered":true,"view_count":340604,"accepted_answer_id":4505407.0,"answer_count":5,"score":75,"last_activity_date":1454932969,"creation_date":1292979952,"question_id":4505381,"body_markdown":"I have a simple Perl script to read a file line by line. Code is below. I want to display two lines and break the loop. But it doesn&#39;t work. Where is the bug?\r\n\r\n\r\n    $file=&#39;SnPmaster.txt&#39;;\r\n    open(INFO, $file) or die(&quot;Could not open  file.&quot;);\r\n    \r\n    $count = 0;\t\r\n    foreach $line (&lt;INFO&gt;)\t{\t\r\n    \tprint $line;\t\r\n    \tif ($++counter == 2){\r\n    \t  last;\r\n    \t}\r\n    }\r\n    close(INFO);","link":"https:\/\/stackoverflow.com\/questions\/4505381\/perl-read-line-by-line","title":"Perl read line by line","body":"<p>I have a simple Perl script to read a file line by line. Code is below. I want to display two lines and break the loop. But it doesn't work. Where is the bug?<\/p>\n\n<pre><code>$file='SnPmaster.txt';\nopen(INFO, $file) or die(\"Could not open  file.\");\n\n$count = 0; \nforeach $line (&lt;INFO&gt;)  {   \n    print $line;    \n    if ($++counter == 2){\n      last;\n    }\n}\nclose(INFO);\n<\/code><\/pre>\n","last_edit_date":1349988801.0,"protected_date":null,"closed_date":null,"closed_reason":null,"community_owned_date":null},{"tags":["perl","cpan"],"owner":{"account_id":40578,"reputation":10064,"user_id":117587,"user_type":"registered","accept_rate":78,"profile_image":"https:\/\/www.gravatar.com\/avatar\/b868d100bfcc500ca0e4a94116a4b36c?s=256&d=identicon&r=PG","display_name":"Sean McMillan","link":"https:\/\/stackoverflow.com\/users\/117587\/sean-mcmillan"},"is_answered":true,"view_count":15263,"accepted_answer_id":5862539.0,"answer_count":5,"score":75,"last_activity_date":1546182822,"creation_date":1304363136,"question_id":5861292,"body_markdown":"There are multiple installers for cpan modules available; I know of at least CPAN.pm (comes with perl,) CPANPLUS, and cpanminus.\r\n\r\nWhat is the difference between the three?\r\n\r\nWhat situations call for using one over the other?\r\n\r\nAre there other module installers I should know about?","link":"https:\/\/stackoverflow.com\/questions\/5861292\/which-cpan-installer-is-the-right-one-cpan-pm-cpanplus-cpanminus","title":"Which cpan installer is the right one? (CPAN.pm\/CPANPLUS\/cpanminus)","body":"<p>There are multiple installers for cpan modules available; I know of at least CPAN.pm (comes with perl,) CPANPLUS, and cpanminus.<\/p>\n\n<p>What is the difference between the three?<\/p>\n\n<p>What situations call for using one over the other?<\/p>\n\n<p>Are there other module installers I should know about?<\/p>\n","last_edit_date":1304365850.0,"protected_date":null,"closed_date":null,"closed_reason":null,"community_owned_date":null},{"tags":["windows","perl","ack"],"owner":{"account_id":16078,"reputation":8102,"user_id":34644,"user_type":"registered","accept_rate":78,"profile_image":"https:\/\/www.gravatar.com\/avatar\/ae4bed5d9ddedbf6a0952e5186f853d5?s=256&d=identicon&r=PG","display_name":"rajesh pillai","link":"https:\/\/stackoverflow.com\/users\/34644\/rajesh-pillai"},"is_answered":true,"view_count":18954,"accepted_answer_id":1023723.0,"answer_count":9,"score":74,"last_activity_date":1532586230,"creation_date":1245583749,"question_id":1023710,"body_markdown":"I have never used Perl, but I am really impressed by the [ack](http:\/\/www.betterthangrep.com), which I would like to use for source code searching, etc.\r\n\r\nCan anyone guide me of how to make use of this excellent library on Windows?\r\n","link":"https:\/\/stackoverflow.com\/questions\/1023710\/how-can-i-install-and-use-ack-library-on-windows","title":"How can I install and use ack library on Windows?","body":"<p>I have never used Perl, but I am really impressed by the <a href=\"http:\/\/www.betterthangrep.com\" rel=\"noreferrer\">ack<\/a>, which I would like to use for source code searching, etc.<\/p>\n\n<p>Can anyone guide me of how to make use of this excellent library on Windows?<\/p>\n","last_edit_date":1277049689.0,"protected_date":null,"closed_date":null,"closed_reason":null,"community_owned_date":null},{"tags":["perl","stack-trace","callstack"],"owner":{"account_id":8420,"reputation":7089,"user_id":15161,"user_type":"registered","accept_rate":96,"profile_image":"https:\/\/i.stack.imgur.com\/ux55V.jpg?s=256&g=1","display_name":"slashmais","link":"https:\/\/stackoverflow.com\/users\/15161\/slashmais"},"is_answered":true,"view_count":41758,"accepted_answer_id":229030.0,"answer_count":8,"score":74,"last_activity_date":1579280572,"creation_date":1224752025,"question_id":229009,"body_markdown":"Is there a way I can access (for printout) a list of sub + module to arbitrary depth of sub-calls  preceding a current position in a Perl script?\r\n\r\nI need to make changes to some Perl modules (.pm&#39;s). The workflow is initiated from a web-page thru a cgi-script, passing input through several modules\/objects ending in the module where I need to use the data. Somewhere along the line the data got changed and I need to find out where.\r\n","link":"https:\/\/stackoverflow.com\/questions\/229009\/how-can-i-get-a-call-stack-listing-in-perl","title":"How can I get a call stack listing in Perl?","body":"<p>Is there a way I can access (for printout) a list of sub + module to arbitrary depth of sub-calls  preceding a current position in a Perl script?<\/p>\n\n<p>I need to make changes to some Perl modules (.pm's). The workflow is initiated from a web-page thru a cgi-script, passing input through several modules\/objects ending in the module where I need to use the data. Somewhere along the line the data got changed and I need to find out where.<\/p>\n","last_edit_date":1406638256.0,"protected_date":null,"closed_date":null,"closed_reason":null,"community_owned_date":null},{"tags":["perl"],"owner":{"account_id":57880,"reputation":48659,"user_id":173397,"user_type":"registered","accept_rate":78,"profile_image":"https:\/\/i.stack.imgur.com\/pqKT8.jpg?s=256&g=1","display_name":"pm100","link":"https:\/\/stackoverflow.com\/users\/173397\/pm100"},"is_answered":true,"view_count":138523,"accepted_answer_id":1731356.0,"answer_count":5,"score":74,"last_activity_date":1701965230,"creation_date":1258140369,"question_id":1731333,"body_markdown":"How do I tell what type of value is in a Perl variable?\r\n\r\n`$x` might be a scalar, a ref to an array or a ref to a hash (or maybe other things).","link":"https:\/\/stackoverflow.com\/questions\/1731333\/how-do-i-tell-what-type-of-value-is-in-a-perl-variable","title":"How do I tell what type of value is in a Perl variable?","body":"<p>How do I tell what type of value is in a Perl variable?<\/p>\n\n<p><code>$x<\/code> might be a scalar, a ref to an array or a ref to a hash (or maybe other things).<\/p>\n","last_edit_date":1258144320.0,"protected_date":null,"closed_date":null,"closed_reason":null,"community_owned_date":null},{"tags":["windows","perl","cpan","perl-module","strawberry-perl"],"owner":{"account_id":780343,"reputation":741,"user_id":837972,"user_type":"unregistered","profile_image":"https:\/\/www.gravatar.com\/avatar\/36ad5745934fd43c2cb4ad79653a7ac6?s=256&d=identicon&r=PG","display_name":"ronssd","link":"https:\/\/stackoverflow.com\/users\/837972\/ronssd"},"is_answered":true,"view_count":100120,"accepted_answer_id":null,"answer_count":4,"score":74,"last_activity_date":1646156328,"creation_date":1310334484,"question_id":6643939,"body_markdown":"Until now I used [ActiveState][1]&#39;s [ActivePerl][2], and used the ppm for installing modules.\r\n\r\nLast week I moved to [Strawberry Perl][3], but I don&#39;t know how I should install modules using Strawberry Perl. What is some information on how module installation is done using Strawberry Perl or is there some link on how to install new modules?\r\n\r\n  [1]: https:\/\/en.wikipedia.org\/wiki\/ActiveState\r\n  [2]: https:\/\/en.wikipedia.org\/wiki\/ActivePerl\r\n  [3]: https:\/\/en.wikipedia.org\/wiki\/Strawberry_Perl\r\n","link":"https:\/\/stackoverflow.com\/questions\/6643939\/installing-modules-using-strawberry-perl","title":"Installing modules using Strawberry Perl","body":"<p>Until now I used <a href=\"https:\/\/en.wikipedia.org\/wiki\/ActiveState\" rel=\"noreferrer\">ActiveState<\/a>'s <a href=\"https:\/\/en.wikipedia.org\/wiki\/ActivePerl\" rel=\"noreferrer\">ActivePerl<\/a>, and used the ppm for installing modules.<\/p>\n\n<p>Last week I moved to <a href=\"https:\/\/en.wikipedia.org\/wiki\/Strawberry_Perl\" rel=\"noreferrer\">Strawberry Perl<\/a>, but I don't know how I should install modules using Strawberry Perl. What is some information on how module installation is done using Strawberry Perl or is there some link on how to install new modules?<\/p>\n","last_edit_date":1443775833.0,"protected_date":1635880722.0,"closed_date":null,"closed_reason":null,"community_owned_date":null},{"tags":["regex","perl"],"owner":{"account_id":147,"reputation":3604,"user_id":181,"user_type":"registered","accept_rate":80,"profile_image":"https:\/\/www.gravatar.com\/avatar\/690df524b8dd8e5d5cbf268e5bdd531f?s=256&d=identicon&r=PG","display_name":"Bill","link":"https:\/\/stackoverflow.com\/users\/181\/bill"},"is_answered":true,"view_count":73033,"accepted_answer_id":644724.0,"answer_count":9,"score":73,"last_activity_date":1649839164,"creation_date":1236980354,"question_id":644714,"body_markdown":"A friend asked me this and I was stumped: Is there a way to craft a regular expression that matches a sequence of the same character? E.g.,  match on &#39;aaa&#39;, &#39;bbb&#39;, but not &#39;abc&#39;?\r\n\r\n    m|\\w{2,3}| \r\n\r\nWouldn&#39;t do the trick as it would match &#39;abc&#39;.\r\n\r\n    m|a{2,3}| \r\n\r\nWouldn&#39;t do the trick as it wouldn&#39;t match &#39;bbb&#39;, &#39;ccc&#39;, etc.\r\n\r\n","link":"https:\/\/stackoverflow.com\/questions\/644714\/what-regex-can-match-sequences-of-the-same-character","title":"What regex can match sequences of the same character?","body":"<p>A friend asked me this and I was stumped: Is there a way to craft a regular expression that matches a sequence of the same character? E.g.,  match on 'aaa', 'bbb', but not 'abc'?<\/p>\n\n<pre><code>m|\\w{2,3}| \n<\/code><\/pre>\n\n<p>Wouldn't do the trick as it would match 'abc'.<\/p>\n\n<pre><code>m|a{2,3}| \n<\/code><\/pre>\n\n<p>Wouldn't do the trick as it wouldn't match 'bbb', 'ccc', etc.<\/p>\n","last_edit_date":1419350840.0,"protected_date":null,"closed_date":null,"closed_reason":null,"community_owned_date":null},{"tags":["regex","perl","arrays"],"owner":{"account_id":41590,"reputation":2803,"user_id":120939,"user_type":"registered","accept_rate":84,"profile_image":"https:\/\/www.gravatar.com\/avatar\/c31c53293fdf27a76d3b7f36a9e5e3b2?s=256&d=identicon&r=PG&f=y&so-version=2","display_name":"cskwrd","link":"https:\/\/stackoverflow.com\/users\/120939\/cskwrd"},"is_answered":true,"view_count":83205,"accepted_answer_id":2304626.0,"answer_count":7,"score":73,"last_activity_date":1604328382,"creation_date":1266720967,"question_id":2304577,"body_markdown":"Is it possible to store all matches for a regular expression into an array?\r\n\r\nI know I can use `($1,...,$n) = m\/expr\/g;`, but it seems as though that can only be used if you know the number of matches you are looking for. I have tried `my @array = m\/expr\/g;`, but that doesn&#39;t seem to work.\r\n\r\n","link":"https:\/\/stackoverflow.com\/questions\/2304577\/how-can-i-store-regex-captures-in-an-array-in-perl","title":"How can I store regex captures in an array in Perl?","body":"<p>Is it possible to store all matches for a regular expression into an array?<\/p>\n\n<p>I know I can use <code>($1,...,$n) = m\/expr\/g;<\/code>, but it seems as though that can only be used if you know the number of matches you are looking for. I have tried <code>my @array = m\/expr\/g;<\/code>, but that doesn't seem to work.<\/p>\n","last_edit_date":1579310188.0,"protected_date":null,"closed_date":null,"closed_reason":null,"community_owned_date":null},{"tags":["perl","file-io"],"owner":{"account_id":4304,"reputation":8656,"user_id":6406,"user_type":"registered","accept_rate":83,"profile_image":"https:\/\/www.gravatar.com\/avatar\/17aea005905564dbd400858fef09cf06?s=256&d=identicon&r=PG","display_name":"cowgod","link":"https:\/\/stackoverflow.com\/users\/6406\/cowgod"},"is_answered":true,"view_count":156538,"accepted_answer_id":509666.0,"answer_count":10,"score":72,"last_activity_date":1682534574,"creation_date":1233706563,"question_id":509576,"body_markdown":"Suppose I have a filehandle `$fh`.  I can check its existence with `-e $fh` or its file size with `-s $fh` or [a slew of additional information about the file][1].  How can I get its last modified time stamp?\r\n\r\n[1]:http:\/\/perldoc.perl.org\/functions\/-X.html (Perl -X operands)","link":"https:\/\/stackoverflow.com\/questions\/509576\/how-do-i-get-a-files-last-modified-time-in-perl","title":"How do I get a file&#39;s last modified time in Perl?","body":"<p>Suppose I have a filehandle <code>$fh<\/code>.  I can check its existence with <code>-e $fh<\/code> or its file size with <code>-s $fh<\/code> or <a href=\"http:\/\/perldoc.perl.org\/functions\/-X.html\" rel=\"noreferrer\" title=\"Perl -X operands\">a slew of additional information about the file<\/a>.  How can I get its last modified time stamp?<\/p>\n","last_edit_date":null,"protected_date":null,"closed_date":null,"closed_reason":null,"community_owned_date":null},{"tags":["perl","directory"],"owner":{"account_id":23096,"reputation":7969,"user_id":57627,"user_type":"registered","accept_rate":36,"profile_image":"https:\/\/www.gravatar.com\/avatar\/ff9e1e3ce7bd46fefe247340174ad94b?s=256&d=identicon&r=PG","display_name":"Paradius","link":"https:\/\/stackoverflow.com\/users\/57627\/paradius"},"is_answered":true,"view_count":160948,"accepted_answer_id":1047612.0,"answer_count":6,"score":72,"last_activity_date":1407136748,"creation_date":1245958421,"question_id":1045792,"body_markdown":"Is there a function in Perl that lists all the files and directories in a directory?\r\nI remember that Java has the `File.list()` to do this? Is there a comparable method in Perl?","link":"https:\/\/stackoverflow.com\/questions\/1045792\/how-can-i-list-all-of-the-files-in-a-directory-with-perl","title":"How can I list all of the files in a directory with Perl?","body":"<p>Is there a function in Perl that lists all the files and directories in a directory?\nI remember that Java has the <code>File.list()<\/code> to do this? Is there a comparable method in Perl?<\/p>\n","last_edit_date":1389192590.0,"protected_date":null,"closed_date":1419006181.0,"closed_reason":"Duplicate","community_owned_date":null},{"tags":["regex","perl","shell","unix","grep"],"owner":{"account_id":216107,"reputation":32799,"user_id":471136,"user_type":"registered","accept_rate":77,"profile_image":"https:\/\/www.gravatar.com\/avatar\/70505981ff01b23b2d6da7ccb3c67785?s=256&d=identicon&r=PG","display_name":"pathikrit","link":"https:\/\/stackoverflow.com\/users\/471136\/pathikrit"},"is_answered":true,"view_count":59958,"accepted_answer_id":12831475.0,"answer_count":6,"score":72,"last_activity_date":1543259349,"creation_date":1349923491,"question_id":12831417,"body_markdown":"Is there any grep option that let&#39;s me control total number of matches but stops at first match on each file?\r\n\r\nExample:\r\n\r\n\r\nIf I do this `grep -ri --include &#39;*.coffee&#39; &#39;re&#39; .` I get this:\r\n\r\n    .\/app.coffee:express = require &#39;express&#39;\r\n    .\/app.coffee:passport = require &#39;passport&#39;\r\n    .\/app.coffee:BrowserIDStrategy = require(&#39;passport-browserid&#39;).Strategy\r\n    .\/app.coffee:app = express()\r\n    .\/config.coffee:    session_secret: &#39;nyan cat&#39;\r\n\r\nAnd if I do `grep -ri -m2 --include &#39;*.coffee&#39; &#39;re&#39; .`, I get this:\r\n\r\n    .\/app.coffee:config = require &#39;.\/config&#39;\r\n    .\/app.coffee:passport = require &#39;passport&#39;\r\n\r\nBut, what I really want is this output:\r\n\r\n    .\/app.coffee:express = require &#39;express&#39;\r\n    .\/config.coffee:    session_secret: &#39;nyan cat&#39;\r\n\r\nDoing `-m1` does not work as I get this for `grep -ri -m1 --include &#39;*.coffee&#39; &#39;re&#39; .`\r\n\r\n    .\/app.coffee:express = require &#39;express&#39;\r\n\r\nTried not using grep e.g. this `find . -name &#39;*.coffee&#39; -exec awk &#39;\/re\/ {print;exit}&#39; {} \\;` produced:\r\n   \r\n    config = require &#39;.\/config&#39;\r\n        session_secret: &#39;nyan cat&#39;\r\n\r\n**UPDATE: As noted below the GNU grep `-m` option treats counts per file whereas `-m` for BSD grep treats it as global match count**","link":"https:\/\/stackoverflow.com\/questions\/12831417\/how-to-match-once-per-file-in-grep","title":"How to match once per file in grep?","body":"<p>Is there any grep option that let's me control total number of matches but stops at first match on each file?<\/p>\n\n<p>Example:<\/p>\n\n<p>If I do this <code>grep -ri --include '*.coffee' 're' .<\/code> I get this:<\/p>\n\n<pre><code>.\/app.coffee:express = require 'express'\n.\/app.coffee:passport = require 'passport'\n.\/app.coffee:BrowserIDStrategy = require('passport-browserid').Strategy\n.\/app.coffee:app = express()\n.\/config.coffee:    session_secret: 'nyan cat'\n<\/code><\/pre>\n\n<p>And if I do <code>grep -ri -m2 --include '*.coffee' 're' .<\/code>, I get this:<\/p>\n\n<pre><code>.\/app.coffee:config = require '.\/config'\n.\/app.coffee:passport = require 'passport'\n<\/code><\/pre>\n\n<p>But, what I really want is this output:<\/p>\n\n<pre><code>.\/app.coffee:express = require 'express'\n.\/config.coffee:    session_secret: 'nyan cat'\n<\/code><\/pre>\n\n<p>Doing <code>-m1<\/code> does not work as I get this for <code>grep -ri -m1 --include '*.coffee' 're' .<\/code><\/p>\n\n<pre><code>.\/app.coffee:express = require 'express'\n<\/code><\/pre>\n\n<p>Tried not using grep e.g. this <code>find . -name '*.coffee' -exec awk '\/re\/ {print;exit}' {} \\;<\/code> produced:<\/p>\n\n<pre><code>config = require '.\/config'\n    session_secret: 'nyan cat'\n<\/code><\/pre>\n\n<p><strong>UPDATE: As noted below the GNU grep <code>-m<\/code> option treats counts per file whereas <code>-m<\/code> for BSD grep treats it as global match count<\/strong><\/p>\n","last_edit_date":1412101923.0,"protected_date":null,"closed_date":null,"closed_reason":null,"community_owned_date":null},{"tags":["regex","perl"],"owner":{"account_id":36511,"reputation":7591,"user_id":104172,"user_type":"registered","profile_image":"https:\/\/www.gravatar.com\/avatar\/e241b7602e850eed414308b6fab095a1?s=256&d=identicon&r=PG","display_name":"Beano","link":"https:\/\/stackoverflow.com\/users\/104172\/beano"},"is_answered":true,"view_count":61713,"accepted_answer_id":890734.0,"answer_count":9,"score":71,"last_activity_date":1671650570,"creation_date":1242860953,"question_id":890686,"body_markdown":"Having read a number of questions\/answers over the past few weeks, I have seen the use of `\\d` in perl regular expressions commented on as incorrect. As in the later versions of perl `\\d` is not the same as `[0-9]`, as `\\d` will represent any Unicode character that has the digit attribute, and that `[0-9]` represents the characters &#39;0&#39;, &#39;1&#39;, &#39;2&#39;, ..., &#39;9&#39;.\r\n\r\nI appreciate that in some contexts `[0-9]` will be the correct thing to use, and in others `\\d` will be. I was wondering which people feel is the correct default to use?\r\n\r\nPersonally I find the `\\d` notation very succinct and expressive, whereas in comparison `[0-9]` is somewhat cumbersome. But I have little experience of doing multi-language code, or rather code for languages that do not fit into the ASCII character range, and therefore may be being naive.\r\n\r\nI notice\r\n\r\n    $find \/System\/Library\/Perl\/5.8.8\/ -name \\*pm | xargs grep &#39;\\\\d&#39; | wc -l\r\n      298\r\n    $find \/System\/Library\/Perl\/5.8.8\/ -name \\*pm | xargs grep &#39;\\[0-9\\]&#39; | wc -l\r\n      26","link":"https:\/\/stackoverflow.com\/questions\/890686\/should-i-use-d-or-0-9-to-match-digits-in-a-perl-regex","title":"Should I use \\d or [0-9] to match digits in a Perl regex?","body":"<p>Having read a number of questions\/answers over the past few weeks, I have seen the use of <code>\\d<\/code> in perl regular expressions commented on as incorrect. As in the later versions of perl <code>\\d<\/code> is not the same as <code>[0-9]<\/code>, as <code>\\d<\/code> will represent any Unicode character that has the digit attribute, and that <code>[0-9]<\/code> represents the characters '0', '1', '2', ..., '9'.<\/p>\n\n<p>I appreciate that in some contexts <code>[0-9]<\/code> will be the correct thing to use, and in others <code>\\d<\/code> will be. I was wondering which people feel is the correct default to use?<\/p>\n\n<p>Personally I find the <code>\\d<\/code> notation very succinct and expressive, whereas in comparison <code>[0-9]<\/code> is somewhat cumbersome. But I have little experience of doing multi-language code, or rather code for languages that do not fit into the ASCII character range, and therefore may be being naive.<\/p>\n\n<p>I notice<\/p>\n\n<pre><code>$find \/System\/Library\/Perl\/5.8.8\/ -name \\*pm | xargs grep '\\\\d' | wc -l\n  298\n$find \/System\/Library\/Perl\/5.8.8\/ -name \\*pm | xargs grep '\\[0-9\\]' | wc -l\n  26\n<\/code><\/pre>\n","last_edit_date":1371811671.0,"protected_date":null,"closed_date":null,"closed_reason":null,"community_owned_date":null},{"tags":["perl","bcrypt"],"owner":{"account_id":1566519,"reputation":3386,"user_id":1455182,"user_type":"registered","accept_rate":96,"profile_image":"https:\/\/www.gravatar.com\/avatar\/eb54fe28625d379b27e4bbc9bf20826e?s=256&d=identicon&r=PG","display_name":"BluGeni","link":"https:\/\/stackoverflow.com\/users\/1455182\/blugeni"},"is_answered":true,"view_count":312138,"accepted_answer_id":18084693.0,"answer_count":6,"score":69,"last_activity_date":1696673051,"creation_date":1375803576,"question_id":18084595,"body_markdown":"I have this script that encrypts a password but I don&#39;t know how to reverse it and decrypt it. This may be a very simple answer but I don&#39;t understand how to do it.\r\n\r\n    #!\/usr\/bin\/perl\r\n    use Crypt::Eksblowfish::Bcrypt;\r\n    use Crypt::Random;\r\n     \r\n    $password = &#39;bigtest&#39;;\r\n    $encrypted = encrypt_password($password);\r\n    print &quot;$password is encrypted as $encrypted\\n&quot;;\r\n     \r\n    print &quot;Yes the password is $password\\n&quot; if check_password($password, $encrypted);\r\n    print &quot;No the password is not smalltest\\n&quot; if !check_password(&#39;smalltest&#39;, $encrypted);\r\n     \r\n    # Encrypt a password \r\n    sub encrypt_password {\r\n        my $password = shift;\r\n     \r\n        # Generate a salt if one is not passed\r\n        my $salt = shift || salt(); \r\n     \r\n        # Set the cost to 8 and append a NUL\r\n        my $settings = &#39;$2a$08$&#39;.$salt;\r\n     \r\n        # Encrypt it\r\n        return Crypt::Eksblowfish::Bcrypt::bcrypt($password, $settings);\r\n    }\r\n     \r\n    # Check if the passwords match\r\n    sub check_password {\r\n        my ($plain_password, $hashed_password) = @_;\r\n     \r\n        # Regex to extract the salt\r\n        if ($hashed_password =~ m!^\\$2a\\$\\d{2}\\$([A-Za-z0-9+\\\\.]{22})!) {\r\n            return encrypt_password($plain_password, $1) eq $hashed_password;\r\n        } else {\r\n            return 0;\r\n        }\r\n    }\r\n     \r\n    # Return a random salt\r\n    sub salt {\r\n        return Crypt::Eksblowfish::Bcrypt::en_base64(Crypt::Random::makerandom_octet(Length=&gt;16));\r\n    }","link":"https:\/\/stackoverflow.com\/questions\/18084595\/how-to-decrypt-hash-stored-by-bcrypt","title":"How to decrypt hash stored by bcrypt","body":"<p>I have this script that encrypts a password but I don't know how to reverse it and decrypt it. This may be a very simple answer but I don't understand how to do it.<\/p>\n\n<pre><code>#!\/usr\/bin\/perl\nuse Crypt::Eksblowfish::Bcrypt;\nuse Crypt::Random;\n\n$password = 'bigtest';\n$encrypted = encrypt_password($password);\nprint \"$password is encrypted as $encrypted\\n\";\n\nprint \"Yes the password is $password\\n\" if check_password($password, $encrypted);\nprint \"No the password is not smalltest\\n\" if !check_password('smalltest', $encrypted);\n\n# Encrypt a password \nsub encrypt_password {\n    my $password = shift;\n\n    # Generate a salt if one is not passed\n    my $salt = shift || salt(); \n\n    # Set the cost to 8 and append a NUL\n    my $settings = '$2a$08$'.$salt;\n\n    # Encrypt it\n    return Crypt::Eksblowfish::Bcrypt::bcrypt($password, $settings);\n}\n\n# Check if the passwords match\nsub check_password {\n    my ($plain_password, $hashed_password) = @_;\n\n    # Regex to extract the salt\n    if ($hashed_password =~ m!^\\$2a\\$\\d{2}\\$([A-Za-z0-9+\\\\.]{22})!) {\n        return encrypt_password($plain_password, $1) eq $hashed_password;\n    } else {\n        return 0;\n    }\n}\n\n# Return a random salt\nsub salt {\n    return Crypt::Eksblowfish::Bcrypt::en_base64(Crypt::Random::makerandom_octet(Length=&gt;16));\n}\n<\/code><\/pre>\n","last_edit_date":1375804848.0,"protected_date":null,"closed_date":null,"closed_reason":null,"community_owned_date":null},{"tags":["perl","module","relative-path"],"owner":{"account_id":7219,"reputation":9414,"user_id":12448,"user_type":"registered","accept_rate":82,"profile_image":"https:\/\/www.gravatar.com\/avatar\/88c6023527fbe5a832d1092d7d032a95?s=256&d=identicon&r=PG","display_name":"Frew Schmidt","link":"https:\/\/stackoverflow.com\/users\/12448\/frew-schmidt"},"is_answered":true,"view_count":81714,"accepted_answer_id":185121.0,"answer_count":8,"score":69,"last_activity_date":1642884128,"creation_date":1223503734,"question_id":185114,"body_markdown":"I have a module in the parent directory of my script and I would like to &#39;use&#39; it.\r\n\r\nIf I do\r\n\r\n    use &#39;..\/Foo.pm&#39;;\r\n\r\nI get syntax errors.\r\n\r\nI tried to do:\r\n\r\n    push @INC, &#39;..&#39;;\r\n    use EPMS;\r\n\r\nand .. apparently doesn&#39;t show up in @INC\r\n\r\nI&#39;m going crazy!  What&#39;s wrong here?\r\n","link":"https:\/\/stackoverflow.com\/questions\/185114\/how-do-i-use-a-perl-module-in-a-directory-not-in-inc","title":"How do I &quot;use&quot; a Perl module in a directory not in @INC?","body":"<p>I have a module in the parent directory of my script and I would like to 'use' it.<\/p>\n\n<p>If I do<\/p>\n\n<pre><code>use '..\/Foo.pm';\n<\/code><\/pre>\n\n<p>I get syntax errors.<\/p>\n\n<p>I tried to do:<\/p>\n\n<pre><code>push @INC, '..';\nuse EPMS;\n<\/code><\/pre>\n\n<p>and .. apparently doesn't show up in @INC<\/p>\n\n<p>I'm going crazy!  What's wrong here?<\/p>\n","last_edit_date":1537325641.0,"protected_date":null,"closed_date":null,"closed_reason":null,"community_owned_date":null},{"tags":["perl","module","installation","cpan"],"owner":{"account_id":24660,"reputation":3054,"user_id":2639206,"user_type":"registered","accept_rate":73,"profile_image":"https:\/\/www.gravatar.com\/avatar\/252af2b008c2cebd77c0ef7ed7041636?s=256&d=identicon&r=PG","display_name":"Ram","link":"https:\/\/stackoverflow.com\/users\/2639206\/ram"},"is_answered":true,"view_count":135004,"accepted_answer_id":540831.0,"answer_count":5,"score":69,"last_activity_date":1521433243,"creation_date":1234431714,"question_id":540640,"body_markdown":"I&#39;m using a hosted Linux machine so I don&#39;t have permissions to write\r\ninto the `\/usr\/lib` directory.\r\n\r\nWhen I try to install a CPAN module by doing the usual:\r\n\r\n    perl Makefile.PL\r\n    make test\r\n    make install\r\n\r\nThat module is extracted to a `blib\/lib\/` folder. I have kept `use\r\nblib\/lib\/ModuleName` but it still the compiler says module can not be\r\nfound. I have tried copying the .pm file into local directory and kept\r\n`require ModuleName` but still it gives me some error.\r\n\r\nHow can I install a module into some other directory and use it?","link":"https:\/\/stackoverflow.com\/questions\/540640\/how-can-i-install-a-cpan-module-into-a-local-directory","title":"How can I install a CPAN module into a local directory?","body":"<p>I'm using a hosted Linux machine so I don't have permissions to write\ninto the <code>\/usr\/lib<\/code> directory.<\/p>\n\n<p>When I try to install a CPAN module by doing the usual:<\/p>\n\n<pre><code>perl Makefile.PL\nmake test\nmake install\n<\/code><\/pre>\n\n<p>That module is extracted to a <code>blib\/lib\/<\/code> folder. I have kept <code>use\nblib\/lib\/ModuleName<\/code> but it still the compiler says module can not be\nfound. I have tried copying the .pm file into local directory and kept\n<code>require ModuleName<\/code> but still it gives me some error.<\/p>\n\n<p>How can I install a module into some other directory and use it?<\/p>\n","last_edit_date":1498935567.0,"protected_date":null,"closed_date":null,"closed_reason":null,"community_owned_date":null},{"tags":["perl"],"owner":{"account_id":93796,"reputation":25330,"user_id":256439,"user_type":"registered","accept_rate":99,"profile_image":"https:\/\/www.gravatar.com\/avatar\/c4b17df9c9b2f33a96eb84f92054f708?s=256&d=identicon&r=PG","display_name":"Sandra Schlichting","link":"https:\/\/stackoverflow.com\/users\/256439\/sandra-schlichting"},"is_answered":true,"view_count":60454,"accepted_answer_id":6537013.0,"answer_count":5,"score":69,"last_activity_date":1309446832,"creation_date":1309436238,"question_id":6534573,"body_markdown":"What is the difference between\r\n\r\n    if (defined $hash{$key}) { }\r\n\r\nand\r\n\r\n    if (exists $hash{$key}) { }\r\n\r\nWhen do I know which to use?\r\n","link":"https:\/\/stackoverflow.com\/questions\/6534573\/whats-the-difference-between-exists-and-defined","title":"What&#39;s the difference between exists and defined?","body":"<p>What is the difference between<\/p>\n\n<pre><code>if (defined $hash{$key}) { }\n<\/code><\/pre>\n\n<p>and<\/p>\n\n<pre><code>if (exists $hash{$key}) { }\n<\/code><\/pre>\n\n<p>When do I know which to use?<\/p>\n","last_edit_date":1309439012.0,"protected_date":null,"closed_date":null,"closed_reason":null,"community_owned_date":null},{"tags":["perl","hash","language-features","hash-reference"],"owner":{"account_id":73460,"reputation":19278,"user_id":211528,"user_type":"registered","accept_rate":43,"profile_image":"https:\/\/www.gravatar.com\/avatar\/995d9752ee2f0f1330774124b782a481?s=256&d=identicon&r=PG","display_name":"user855","link":"https:\/\/stackoverflow.com\/users\/211528\/user855"},"is_answered":true,"view_count":60216,"accepted_answer_id":1817614.0,"answer_count":4,"score":69,"last_activity_date":1457197410,"creation_date":1259542966,"question_id":1817394,"body_markdown":"I would like to properly understand hashes in Perl. I&#39;ve had to use Perl intermittently for quite some time and mostly whenever I need to do it, it&#39;s mostly related to text processing.\r\n\r\nAnd everytime, I have to deal with hashes, it gets messed up. I find the syntax very cryptic for hashes\r\n\r\nA good explanation of hashes and hash references, their differences, when they are required etc. would be much appreciated.\r\n\r\n","link":"https:\/\/stackoverflow.com\/questions\/1817394\/whats-the-difference-between-a-hash-and-hash-reference-in-perl","title":"What&#39;s the difference between a hash and hash reference in Perl?","body":"<p>I would like to properly understand hashes in Perl. I've had to use Perl intermittently for quite some time and mostly whenever I need to do it, it's mostly related to text processing.<\/p>\n\n<p>And everytime, I have to deal with hashes, it gets messed up. I find the syntax very cryptic for hashes<\/p>\n\n<p>A good explanation of hashes and hash references, their differences, when they are required etc. would be much appreciated.<\/p>\n","last_edit_date":1274824523.0,"protected_date":null,"closed_date":null,"closed_reason":null,"community_owned_date":null},{"tags":["string","perl","operators","repeat"],"owner":{"account_id":746,"reputation":50461,"user_id":974,"user_type":"registered","accept_rate":82,"profile_image":"https:\/\/www.gravatar.com\/avatar\/3d7e0433078e5d9b54fb90edf7bd10a3?s=256&d=identicon&r=PG","display_name":"izb","link":"https:\/\/stackoverflow.com\/users\/974\/izb"},"is_answered":true,"view_count":76455,"accepted_answer_id":277489.0,"answer_count":6,"score":68,"last_activity_date":1692860548,"creation_date":1226311284,"question_id":277485,"body_markdown":"In Python, if I do this:\r\n\r\n    print &quot;4&quot; * 4\r\n\r\nI get\r\n\r\n```lang-none\r\n&gt; &quot;4444&quot;\r\n```\r\n\r\nIn Perl, I&#39;d get\r\n\r\n```lang-none\r\n&gt; 16\r\n```\r\n\r\nIs there an easy way to do the former in Perl?\r\n\r\n","link":"https:\/\/stackoverflow.com\/questions\/277485\/how-can-i-repeat-a-string-n-times-in-perl","title":"How can I repeat a string N times in Perl?","body":"<p>In Python, if I do this:<\/p>\n<pre><code>print &quot;4&quot; * 4\n<\/code><\/pre>\n<p>I get<\/p>\n<pre class=\"lang-none prettyprint-override\"><code>&gt; &quot;4444&quot;\n<\/code><\/pre>\n<p>In Perl, I'd get<\/p>\n<pre class=\"lang-none prettyprint-override\"><code>&gt; 16\n<\/code><\/pre>\n<p>Is there an easy way to do the former in Perl?<\/p>\n","last_edit_date":1692821308.0,"protected_date":null,"closed_date":null,"closed_reason":null,"community_owned_date":null},{"tags":["c#","java","python","ruby","perl"],"owner":{"account_id":6941,"reputation":6222,"user_id":11827,"user_type":"registered","accept_rate":47,"profile_image":"https:\/\/www.gravatar.com\/avatar\/19821078d3ecf265b2af009548e98ef3?s=256&d=identicon&r=PG","display_name":"szabgab","link":"https:\/\/stackoverflow.com\/users\/11827\/szabgab"},"is_answered":true,"view_count":32517,"accepted_answer_id":84943.0,"answer_count":35,"score":67,"last_activity_date":1317131642,"creation_date":1221664595,"question_id":84340,"body_markdown":"I wonder why would a C++, C#, Java developer want to learn a dynamic language?\r\n\r\nAssuming the company won&#39;t switch its main development language from C++\/C#\/Java to a dynamic one what use is there for a dynamic language?\r\n\r\nWhat helper tasks can be done by the dynamic languages faster or better after only a few days of learning than with the static language that you have been using for several years?\r\n\r\n&lt;h2&gt;Update&lt;\/h2&gt;\r\nAfter seeing the first few responses it is clear that there are two issues.\r\nMy main interest would be something that is justifiable to the employer as an expense.\r\nThat is, I am looking for justifications for the employer to finance the learning of a dynamic language. Aside from the obvious that the employee will have broader view, the\r\nemployers are usually looking for some &quot;real&quot; benefit.\r\n\r\n","link":"https:\/\/stackoverflow.com\/questions\/84340\/why-learn-perl-python-ruby-if-the-company-is-using-c-c-or-java-as-the-appl","title":"Why learn Perl, Python, Ruby if the company is using C++, C# or Java as the application language?","body":"<p>I wonder why would a C++, C#, Java developer want to learn a dynamic language?<\/p>\n\n<p>Assuming the company won't switch its main development language from C++\/C#\/Java to a dynamic one what use is there for a dynamic language?<\/p>\n\n<p>What helper tasks can be done by the dynamic languages faster or better after only a few days of learning than with the static language that you have been using for several years?<\/p>\n\n<h2>Update<\/h2>\n\n<p>After seeing the first few responses it is clear that there are two issues.\nMy main interest would be something that is justifiable to the employer as an expense.\nThat is, I am looking for justifications for the employer to finance the learning of a dynamic language. Aside from the obvious that the employee will have broader view, the\nemployers are usually looking for some \"real\" benefit.<\/p>\n","last_edit_date":1274343356.0,"protected_date":null,"closed_date":1377866391.0,"closed_reason":"Needs more focus","community_owned_date":1221664595.0},{"tags":["perl","unit-testing","testing"],"owner":{"account_id":23628,"reputation":2921,"user_id":59332,"user_type":"registered","accept_rate":85,"profile_image":"https:\/\/www.gravatar.com\/avatar\/40997d5bd0ad6cb887fc4e200e9a3eed?s=256&d=identicon&r=PG","display_name":"mandel","link":"https:\/\/stackoverflow.com\/users\/59332\/mandel"},"is_answered":true,"view_count":31353,"accepted_answer_id":502945.0,"answer_count":5,"score":67,"last_activity_date":1576737277,"creation_date":1233566121,"question_id":502644,"body_markdown":"I have been doing some OO Perl programming and I was wondering: which is the best way to perform unit tests?\r\n\r\nSo far I have been using the [Test::Simple][1] module to perform tests, but it feels \r\ninsufficient for what I want. \r\n\r\nCan you point me to some nice modules for that?\r\n\r\n\r\n  [1]: https:\/\/metacpan.org\/pod\/Test::Simple","link":"https:\/\/stackoverflow.com\/questions\/502644\/how-can-i-do-unit-testing-in-perl","title":"How can I do unit testing in Perl?","body":"<p>I have been doing some OO Perl programming and I was wondering: which is the best way to perform unit tests?<\/p>\n\n<p>So far I have been using the <a href=\"https:\/\/metacpan.org\/pod\/Test::Simple\" rel=\"noreferrer\">Test::Simple<\/a> module to perform tests, but it feels \ninsufficient for what I want. <\/p>\n\n<p>Can you point me to some nice modules for that?<\/p>\n","last_edit_date":1396507827.0,"protected_date":null,"closed_date":1576686401.0,"closed_reason":"Not suitable for this site","community_owned_date":null},{"tags":["perl","module","version","cpan"],"owner":{"account_id":9399,"reputation":17367,"user_id":17339,"user_type":"registered","accept_rate":87,"profile_image":"https:\/\/www.gravatar.com\/avatar\/d1ed8a9e71adc2b356cfc4e020e0dd0f?s=256&d=identicon&r=PG","display_name":"Drew Stephens","link":"https:\/\/stackoverflow.com\/users\/17339\/drew-stephens"},"is_answered":true,"view_count":68638,"accepted_answer_id":136218.0,"answer_count":12,"score":66,"last_activity_date":1511196769,"creation_date":1222373784,"question_id":135755,"body_markdown":"How do you find the version of an installed Perl module?\r\n\r\nThis is in an answer down at the bottom, but I figure it important enough to live up here.  With these suggestions, I create a function in my `.bashrc`\r\n\r\n    function perlmodver {\r\n        perl -M$1 -e &#39;print &quot;Version &quot; . $ARGV[0]-&gt;VERSION . &quot; of &quot; . $ARGV[0] . \\\r\n        &quot; is installed.\\n&quot;&#39; $1\r\n    }\r\n","link":"https:\/\/stackoverflow.com\/questions\/135755\/how-can-i-find-the-version-of-an-installed-perl-module","title":"How can I find the version of an installed Perl module?","body":"<p>How do you find the version of an installed Perl module?<\/p>\n\n<p>This is in an answer down at the bottom, but I figure it important enough to live up here.  With these suggestions, I create a function in my <code>.bashrc<\/code><\/p>\n\n<pre><code>function perlmodver {\n    perl -M$1 -e 'print \"Version \" . $ARGV[0]-&gt;VERSION . \" of \" . $ARGV[0] . \\\n    \" is installed.\\n\"' $1\n}\n<\/code><\/pre>\n","last_edit_date":1248020776.0,"protected_date":null,"closed_date":null,"closed_reason":null,"community_owned_date":null},{"tags":["perl"],"owner":{"account_id":13385,"reputation":5792,"user_id":26848,"user_type":"registered","accept_rate":79,"profile_image":"https:\/\/www.gravatar.com\/avatar\/18d6620b6459d6d77e52f8099f9c9cde?s=256&d=identicon&r=PG","display_name":"Marcus","link":"https:\/\/stackoverflow.com\/users\/26848\/marcus"},"is_answered":true,"view_count":49431,"accepted_answer_id":1915709.0,"answer_count":13,"score":66,"last_activity_date":1694513168,"creation_date":1260979249,"question_id":1915616,"body_markdown":"I keep the name of the subroutine I want to call at runtime in a variable called $action.  Then I use this to call that sub at the right time:\r\n\r\n    &amp;{\\&amp;{$action}}();\r\n\r\nWorks fine.  The only thing I don&#39;t like is that it&#39;s ugly and every time I do it, I feel beholden to add a comment for the next developer:\r\n\r\n    # call the sub by the name of $action\r\n\r\nAnyone know a prettier way of doing this?\r\n\r\n-----------------\r\nUPDATE: The idea here was to avoid having to maintain a dispatch table every time I added a new callable sub, since I am the sole developer, I&#39;m not worried about other programmers following or not following the &#39;rules&#39;.  Sacrificing a bit of security for my convenience.  Instead my dispatch module would check $action to make sure that 1) it is the name of a defined subroutine and not malicious code to run with eval, and 2) that it wouldn&#39;t run any sub prefaced by an underscore, which would be marked as internal-only subs by this naming convention.\r\n\r\nAny thoughts on this approach?  Whitelisting subroutines in the dispatch table is something I will forget all the time, and my clients would rather me err on the side of &quot;it works&quot; than &quot;it&#39;s wicked secure&quot;.  (very limited time to develop apps)\r\n\r\n-----------------\r\n\r\nFINAL UPDATE: I think I&#39;ve decided on a dispatch table after all.  Although I&#39;d be curious if anyone who reads this question has ever tried to do away with one and how they did it, I have to bow to the collective wisdom here.  Thanks to all, many great responses.","link":"https:\/\/stackoverflow.com\/questions\/1915616\/how-can-i-elegantly-call-a-perl-subroutine-whose-name-is-held-in-a-variable","title":"How can I elegantly call a Perl subroutine whose name is held in a variable?","body":"<p>I keep the name of the subroutine I want to call at runtime in a variable called $action.  Then I use this to call that sub at the right time:<\/p>\n\n<pre><code>&amp;{\\&amp;{$action}}();\n<\/code><\/pre>\n\n<p>Works fine.  The only thing I don't like is that it's ugly and every time I do it, I feel beholden to add a comment for the next developer:<\/p>\n\n<pre><code># call the sub by the name of $action\n<\/code><\/pre>\n\n<p>Anyone know a prettier way of doing this?<\/p>\n\n<hr>\n\n<p>UPDATE: The idea here was to avoid having to maintain a dispatch table every time I added a new callable sub, since I am the sole developer, I'm not worried about other programmers following or not following the 'rules'.  Sacrificing a bit of security for my convenience.  Instead my dispatch module would check $action to make sure that 1) it is the name of a defined subroutine and not malicious code to run with eval, and 2) that it wouldn't run any sub prefaced by an underscore, which would be marked as internal-only subs by this naming convention.<\/p>\n\n<p>Any thoughts on this approach?  Whitelisting subroutines in the dispatch table is something I will forget all the time, and my clients would rather me err on the side of \"it works\" than \"it's wicked secure\".  (very limited time to develop apps)<\/p>\n\n<hr>\n\n<p>FINAL UPDATE: I think I've decided on a dispatch table after all.  Although I'd be curious if anyone who reads this question has ever tried to do away with one and how they did it, I have to bow to the collective wisdom here.  Thanks to all, many great responses.<\/p>\n","last_edit_date":1261050930.0,"protected_date":null,"closed_date":null,"closed_reason":null,"community_owned_date":null},{"tags":["perl","file-io","directory"],"owner":{"account_id":75246,"reputation":9159,"user_id":215912,"user_type":"registered","accept_rate":98,"profile_image":"https:\/\/www.gravatar.com\/avatar\/a0141034154d7850632d6030f2f4295c?s=256&d=identicon&r=PG","display_name":"Nano HE","link":"https:\/\/stackoverflow.com\/users\/215912\/nano-he"},"is_answered":true,"view_count":148255,"accepted_answer_id":4486966.0,"answer_count":1,"score":66,"last_activity_date":1292989353,"creation_date":1292820550,"question_id":4486951,"body_markdown":"To see if a file exists before using it, we can use:\r\n\r\n    if (-e &quot;filename.cgi&quot;)\r\n    {\r\n     #proceed with your code\r\n    } \r\n\r\nBut how to indentify a directory exists or not?","link":"https:\/\/stackoverflow.com\/questions\/4486951\/how-to-see-if-a-directory-exists-or-not-in-perl","title":"How to see if a directory exists or not in Perl?","body":"<p>To see if a file exists before using it, we can use:<\/p>\n\n<pre><code>if (-e \"filename.cgi\")\n{\n #proceed with your code\n} \n<\/code><\/pre>\n\n<p>But how to indentify a directory exists or not?<\/p>\n","last_edit_date":null,"protected_date":null,"closed_date":null,"closed_reason":null,"community_owned_date":null},{"tags":["perl","integer-division"],"owner":{"account_id":317,"reputation":27431,"user_id":396,"user_type":"registered","accept_rate":69,"profile_image":"https:\/\/www.gravatar.com\/avatar\/3497d52dba17d86666a7bc82a2243c07?s=256&d=identicon&r=PG","display_name":"Bryan Denny","link":"https:\/\/stackoverflow.com\/users\/396\/bryan-denny"},"is_answered":true,"view_count":125520,"accepted_answer_id":539805.0,"answer_count":7,"score":65,"last_activity_date":1645057448,"creation_date":1234406660,"question_id":539797,"body_markdown":"What is a good way to **always** do integer division in Perl?\r\n\r\nFor example, I want:\r\n\r\n    real \/ int = int\r\n    \r\n    int \/ real = int\r\n    \r\n    int \/ int = int","link":"https:\/\/stackoverflow.com\/questions\/539797\/how-should-i-do-integer-division-in-perl","title":"How should I do integer division in Perl?","body":"<p>What is a good way to <strong>always<\/strong> do integer division in Perl?<\/p>\n\n<p>For example, I want:<\/p>\n\n<pre><code>real \/ int = int\n\nint \/ real = int\n\nint \/ int = int\n<\/code><\/pre>\n","last_edit_date":1234407290.0,"protected_date":null,"closed_date":null,"closed_reason":null,"community_owned_date":null},{"tags":["perl","path","module","config"],"owner":{"account_id":53433,"reputation":1892,"user_id":159695,"user_type":"registered","accept_rate":95,"profile_image":"https:\/\/www.gravatar.com\/avatar\/9a066ca6db23fefc102c9ebe4382c577?s=256&d=identicon&r=PG","display_name":"Galaxy","link":"https:\/\/stackoverflow.com\/users\/159695\/galaxy"},"is_answered":true,"view_count":98783,"accepted_answer_id":32342090.0,"answer_count":10,"score":64,"last_activity_date":1697712638,"creation_date":1255401564,"question_id":1557959,"body_markdown":"How do get the path of a installed Perl module by name,\r\ne.g. `Time::HiRes`?\r\n\r\nI want this just because I have to run my perl script on different nodes of a SGE Grid Engine system. Sometimes, even run as other username.\r\n\r\nI can use CPAN.pm to install packages for myself, but it is not so easy to install for other users without chmod 666 on folders.","link":"https:\/\/stackoverflow.com\/questions\/1557959\/how-can-i-find-out-where-a-perl-module-is-installed","title":"How can I find out where a Perl module is installed?","body":"<p>How do get the path of a installed Perl module by name,\ne.g. <code>Time::HiRes<\/code>?<\/p>\n\n<p>I want this just because I have to run my perl script on different nodes of a SGE Grid Engine system. Sometimes, even run as other username.<\/p>\n\n<p>I can use CPAN.pm to install packages for myself, but it is not so easy to install for other users without chmod 666 on folders.<\/p>\n","last_edit_date":1255418860.0,"protected_date":null,"closed_date":null,"closed_reason":null,"community_owned_date":null},{"tags":["perl","unix","shell","path","absolute-path"],"owner":{"account_id":99411,"reputation":13923,"user_id":268543,"user_type":"registered","accept_rate":92,"profile_image":"https:\/\/www.gravatar.com\/avatar\/025762577a3034ced194ec672bfc6d18?s=256&d=identicon&r=PG&f=y&so-version=2","display_name":"josh","link":"https:\/\/stackoverflow.com\/users\/268543\/josh"},"is_answered":true,"view_count":55103,"accepted_answer_id":4045350.0,"answer_count":7,"score":64,"last_activity_date":1588669698,"creation_date":1288284969,"question_id":4045253,"body_markdown":"I&#39;m not sure if these paths are duplicates. Given the relative path, how do I determine absolute path using a shell script?\r\n\r\nExample:\r\n\r\n    relative path: \/x\/y\/..\/..\/a\/b\/z\/..\/c\/d\r\n\r\n    absolute path: \/a\/b\/c\/d","link":"https:\/\/stackoverflow.com\/questions\/4045253\/converting-relative-path-into-absolute-path","title":"Converting relative path into absolute path?","body":"<p>I'm not sure if these paths are duplicates. Given the relative path, how do I determine absolute path using a shell script?<\/p>\n\n<p>Example:<\/p>\n\n<pre><code>relative path: \/x\/y\/..\/..\/a\/b\/z\/..\/c\/d\n\nabsolute path: \/a\/b\/c\/d\n<\/code><\/pre>\n","last_edit_date":1401908915.0,"protected_date":null,"closed_date":null,"closed_reason":null,"community_owned_date":null},{"tags":["perl","glob","readdir"],"owner":{"account_id":13332,"reputation":19528,"user_id":26702,"user_type":"registered","accept_rate":100,"profile_image":"https:\/\/i.stack.imgur.com\/Eciao.jpg?s=256&g=1","display_name":"Telemachus","link":"https:\/\/stackoverflow.com\/users\/26702\/telemachus"},"is_answered":true,"view_count":13083,"accepted_answer_id":1506886.0,"answer_count":10,"score":64,"last_activity_date":1463478674,"creation_date":1254435312,"question_id":1506801,"body_markdown":"This question is a spin-off from [this one][1]. Some history: when I first learned Perl, I pretty much always used `glob` rather than `opendir` + `readdir` because I found it easier. Then later various posts and readings suggested that `glob` was bad, and so now I pretty much always use `readdir`.\r\n\r\nAfter thinking over [this recent question][2] I realized that my reasons for one or the other choice may be bunk. So, I&#39;m going to lay out some pros and cons, and I&#39;m hoping that more experienced Perl folks can chime in and clarify. The question in a nutshell is are there compelling reasons to prefer `glob` to `readdir` or `readdir` to `glob` (in some or all cases)?\r\n\r\n### `glob` pros:\r\n\r\n 1. No dotfiles (unless you ask for them)\r\n 2. Order of items is guaranteed\r\n 3. No need to prepend the directory name onto items manually\r\n 4. Better name (c&#39;mon - `glob` versus `readdir` is no contest if we&#39;re judging by names alone)\r\n 5. (From [ysth&#39;s answer](#1507507); cf. `glob` cons 4 below) Can return non-existent filenames:\r\n\r\n        @deck = glob &quot;{A,K,Q,J,10,9,8,7,6,5,4,3,2}{\\x{2660},\\x{2665},\\x{2666},\\x{2663}}&quot;;\r\n\r\n\r\n### `glob` cons:\r\n\r\n 1. Older versions are just plain broken (but &#39;older&#39; means pre 5.6, I think, and frankly if you&#39;re using pre 5.6 Perl, you have bigger problems)\r\n 2. Calls `stat` each time (i.e., useless use of `stat` in most cases).\r\n 3. Problems with spaces in directory names (is this still true?)\r\n 4. (From [brian&#39;s answer](#1506886)) Can return filenames that don&#39;t exist:\r\n\r\n        $ perl -le &#39;print glob &quot;{ab}{cd}&quot;&#39;\r\n\r\n### `readdir` pros:\r\n\r\n 1. (From [brian&#39;s answer](#1506886)) `opendir` returns a filehandle which you can pass around in your program (and reuse), but `glob` simply returns a list\r\n 2. (From [brian&#39;s answer](#1506886)) `readdir` is a proper iterator and provides functions to `rewinddir`, `seekdir`, `telldir`\r\n 3. Faster? (Pure guess based on some of `glob`&#39;s features from above. I&#39;m not really worried about this level of optimization anyhow, but it&#39;s a theoretical pro.)\r\n 4. Less prone to edge-case bugs than `glob`?\r\n 5. Reads everything (dotfiles too) by default (this is also a con)\r\n 6. May convince you not to name a file `0` (a con also - see [Brad&#39;s answer](#2365358))\r\n 7. Anyone? Bueller? Bueller?\r\n\r\n### `readdir` cons:\r\n\r\n 1. If you don&#39;t remember to prepend the directory name, you **will** get bit when you try to do filetests or copy items or edit items or...\r\n 2. If you don&#39;t remember to `grep` out the `.` and `..` items, you **will** get bit when you count items, or try to walk recursively down the file tree or...\r\n 3. Did I mention prepending the directory name? (A sidenote, but my very first post to the Perl Beginners mail list was the classic, &quot;Why does this code involving filetests not work some of the time?&quot; problem related to this gotcha. Apparently, I&#39;m still bitter.)\r\n 4. Items are returned in no particular order. This means you will often have to remember to sort them in some manner. (This could be a pro if it means more speed, and if it means that you actually *think* about how and if you need to sort items.) **Edit**: Horrifically small sample, but on a Mac `readdir` returns items in alphabetical order, case insensitive. On a Debian box and an OpenBSD server, the order is utterly random. I tested the Mac with Apple&#39;s built-in Perl (5.8.8) and my own compiled 5.10.1. The Debian box is 5.10.0, as is the OpenBSD machine. I wonder if this is a filesystem issue, rather than Perl? \r\n 5. Reads everything (dotfiles too) by default (this is also a pro)\r\n 6. Doesn&#39;t necessarily deal well with a file named `0` (see pros also - see [Brad&#39;s answer](#2365358))\r\n\r\n \r\n\r\n\r\n  [1]: https:\/\/stackoverflow.com\/questions\/1499672\/how-do-i-open-an-array-of-files-in-perl\r\n  [2]: https:\/\/stackoverflow.com\/questions\/1499672\/how-do-i-open-an-array-of-files-in-perl","link":"https:\/\/stackoverflow.com\/questions\/1506801\/what-reasons-are-there-to-prefer-glob-over-readdir-or-vice-versa-in-perl","title":"What reasons are there to prefer glob over readdir (or vice-versa) in Perl?","body":"<p>This question is a spin-off from <a href=\"https:\/\/stackoverflow.com\/questions\/1499672\/how-do-i-open-an-array-of-files-in-perl\">this one<\/a>. Some history: when I first learned Perl, I pretty much always used <code>glob<\/code> rather than <code>opendir<\/code> + <code>readdir<\/code> because I found it easier. Then later various posts and readings suggested that <code>glob<\/code> was bad, and so now I pretty much always use <code>readdir<\/code>.<\/p>\n\n<p>After thinking over <a href=\"https:\/\/stackoverflow.com\/questions\/1499672\/how-do-i-open-an-array-of-files-in-perl\">this recent question<\/a> I realized that my reasons for one or the other choice may be bunk. So, I'm going to lay out some pros and cons, and I'm hoping that more experienced Perl folks can chime in and clarify. The question in a nutshell is are there compelling reasons to prefer <code>glob<\/code> to <code>readdir<\/code> or <code>readdir<\/code> to <code>glob<\/code> (in some or all cases)?<\/p>\n\n<h3><code>glob<\/code> pros:<\/h3>\n\n<ol>\n<li>No dotfiles (unless you ask for them)<\/li>\n<li>Order of items is guaranteed<\/li>\n<li>No need to prepend the directory name onto items manually<\/li>\n<li>Better name (c'mon - <code>glob<\/code> versus <code>readdir<\/code> is no contest if we're judging by names alone)<\/li>\n<li><p>(From ysth's answer; cf. <code>glob<\/code> cons 4 below) Can return non-existent filenames:<\/p>\n\n<pre><code>@deck = glob \"{A,K,Q,J,10,9,8,7,6,5,4,3,2}{\\x{2660},\\x{2665},\\x{2666},\\x{2663}}\";\n<\/code><\/pre><\/li>\n<\/ol>\n\n<h3><code>glob<\/code> cons:<\/h3>\n\n<ol>\n<li>Older versions are just plain broken (but 'older' means pre 5.6, I think, and frankly if you're using pre 5.6 Perl, you have bigger problems)<\/li>\n<li>Calls <code>stat<\/code> each time (i.e., useless use of <code>stat<\/code> in most cases).<\/li>\n<li>Problems with spaces in directory names (is this still true?)<\/li>\n<li><p>(From brian's answer) Can return filenames that don't exist:<\/p>\n\n<pre><code>$ perl -le 'print glob \"{ab}{cd}\"'\n<\/code><\/pre><\/li>\n<\/ol>\n\n<h3><code>readdir<\/code> pros:<\/h3>\n\n<ol>\n<li>(From brian's answer) <code>opendir<\/code> returns a filehandle which you can pass around in your program (and reuse), but <code>glob<\/code> simply returns a list<\/li>\n<li>(From brian's answer) <code>readdir<\/code> is a proper iterator and provides functions to <code>rewinddir<\/code>, <code>seekdir<\/code>, <code>telldir<\/code><\/li>\n<li>Faster? (Pure guess based on some of <code>glob<\/code>'s features from above. I'm not really worried about this level of optimization anyhow, but it's a theoretical pro.)<\/li>\n<li>Less prone to edge-case bugs than <code>glob<\/code>?<\/li>\n<li>Reads everything (dotfiles too) by default (this is also a con)<\/li>\n<li>May convince you not to name a file <code>0<\/code> (a con also - see Brad's answer)<\/li>\n<li>Anyone? Bueller? Bueller?<\/li>\n<\/ol>\n\n<h3><code>readdir<\/code> cons:<\/h3>\n\n<ol>\n<li>If you don't remember to prepend the directory name, you <strong>will<\/strong> get bit when you try to do filetests or copy items or edit items or...<\/li>\n<li>If you don't remember to <code>grep<\/code> out the <code>.<\/code> and <code>..<\/code> items, you <strong>will<\/strong> get bit when you count items, or try to walk recursively down the file tree or...<\/li>\n<li>Did I mention prepending the directory name? (A sidenote, but my very first post to the Perl Beginners mail list was the classic, \"Why does this code involving filetests not work some of the time?\" problem related to this gotcha. Apparently, I'm still bitter.)<\/li>\n<li>Items are returned in no particular order. This means you will often have to remember to sort them in some manner. (This could be a pro if it means more speed, and if it means that you actually <em>think<\/em> about how and if you need to sort items.) <strong>Edit<\/strong>: Horrifically small sample, but on a Mac <code>readdir<\/code> returns items in alphabetical order, case insensitive. On a Debian box and an OpenBSD server, the order is utterly random. I tested the Mac with Apple's built-in Perl (5.8.8) and my own compiled 5.10.1. The Debian box is 5.10.0, as is the OpenBSD machine. I wonder if this is a filesystem issue, rather than Perl? <\/li>\n<li>Reads everything (dotfiles too) by default (this is also a pro)<\/li>\n<li>Doesn't necessarily deal well with a file named <code>0<\/code> (see pros also - see Brad's answer)<\/li>\n<\/ol>\n","last_edit_date":1495540400.0,"protected_date":null,"closed_date":null,"closed_reason":null,"community_owned_date":1267562371.0},{"tags":["perl","integer","boolean"],"owner":{"account_id":7249,"reputation":15520,"user_id":12523,"user_type":"registered","accept_rate":90,"profile_image":"https:\/\/www.gravatar.com\/avatar\/9574c4e4811ef2a5f4d994b75715e518?s=256&d=identicon&r=PG&f=y&so-version=2","display_name":"jkramer","link":"https:\/\/stackoverflow.com\/users\/12523\/jkramer"},"is_answered":true,"view_count":22047,"accepted_answer_id":129986.0,"answer_count":14,"score":63,"last_activity_date":1500323370,"creation_date":1222290046,"question_id":129945,"body_markdown":"Can someone explain what exactly the string &quot;0 but true&quot; means in Perl? As far as I understand, it equals zero in an integer comparison, but evaluates to true when used as a boolean. Is this correct? Is this a normal behavior of the language or is this a special string treated as a special case in the interpreter?","link":"https:\/\/stackoverflow.com\/questions\/129945\/what-does-0-but-true-mean-in-perl","title":"What does &quot;0 but true&quot; mean in Perl?","body":"<p>Can someone explain what exactly the string \"0 but true\" means in Perl? As far as I understand, it equals zero in an integer comparison, but evaluates to true when used as a boolean. Is this correct? Is this a normal behavior of the language or is this a special string treated as a special case in the interpreter?<\/p>\n","last_edit_date":1312921114.0,"protected_date":null,"closed_date":null,"closed_reason":null,"community_owned_date":null},{"tags":["perl","hash"],"owner":{"account_id":477210,"reputation":2208,"user_id":888574,"user_type":"registered","accept_rate":0,"profile_image":"https:\/\/i.stack.imgur.com\/TpAjt.png?s=256&g=1","display_name":"Kiran K Telukunta","link":"https:\/\/stackoverflow.com\/users\/888574\/kiran-k-telukunta"},"is_answered":true,"view_count":98186,"accepted_answer_id":null,"answer_count":4,"score":63,"last_activity_date":1630567680,"creation_date":1330180611,"question_id":9444915,"body_markdown":"I use the following code to check if the hash is empty. Is there a better method and is this safe to use?\r\n\r\n    if (!keys %hash) { print &quot;Empty&quot;;} ","link":"https:\/\/stackoverflow.com\/questions\/9444915\/how-to-check-if-a-hash-is-empty-in-perl","title":"how to check if a hash is empty in perl","body":"<p>I use the following code to check if the hash is empty. Is there a better method and is this safe to use?<\/p>\n\n<pre><code>if (!keys %hash) { print \"Empty\";} \n<\/code><\/pre>\n","last_edit_date":1451921179.0,"protected_date":null,"closed_date":null,"closed_reason":null,"community_owned_date":null},{"tags":["perl","hash","key","lookup"],"owner":{"user_type":"does_not_exist","display_name":"user105574"},"is_answered":true,"view_count":144281,"accepted_answer_id":1003666.0,"answer_count":5,"score":63,"last_activity_date":1488908656,"creation_date":1245182379,"question_id":1003632,"body_markdown":"I have a Perl script that is counting the number of occurrences of various strings in a text file. I want to be able to check if a certain string is not yet a key in the hash. Is there a better way of doing this altogether?\r\n\r\nHere is what I am doing:\r\n\r\n    foreach $line (@lines){\r\n        if(($line =~ m|my regex|) )\r\n        {\r\n            $string = $1;\r\n            if ($string is not a key in %strings) # &quot;strings&quot; is an associative array\r\n            {\r\n                $strings{$string} = 1;\r\n            }\r\n            else\r\n            {\r\n                $n = ($strings{$string});\r\n                $strings{$string} = $n +1;\r\n            }\r\n        }\r\n    }\r\n","link":"https:\/\/stackoverflow.com\/questions\/1003632\/how-can-i-see-if-a-perl-hash-already-has-a-certain-key","title":"How can I see if a Perl hash already has a certain key?","body":"<p>I have a Perl script that is counting the number of occurrences of various strings in a text file. I want to be able to check if a certain string is not yet a key in the hash. Is there a better way of doing this altogether?<\/p>\n\n<p>Here is what I am doing:<\/p>\n\n<pre><code>foreach $line (@lines){\n    if(($line =~ m|my regex|) )\n    {\n        $string = $1;\n        if ($string is not a key in %strings) # \"strings\" is an associative array\n        {\n            $strings{$string} = 1;\n        }\n        else\n        {\n            $n = ($strings{$string});\n            $strings{$string} = $n +1;\n        }\n    }\n}\n<\/code><\/pre>\n","last_edit_date":1432040092.0,"protected_date":null,"closed_date":null,"closed_reason":null,"community_owned_date":null},{"tags":["perl","cross-platform"],"owner":{"account_id":4323,"reputation":26590,"user_id":6444,"user_type":"registered","accept_rate":78,"profile_image":"https:\/\/www.gravatar.com\/avatar\/1510549f9353c9859b7b3c81872df09c?s=256&d=identicon&r=PG","display_name":"mxcl","link":"https:\/\/stackoverflow.com\/users\/6444\/mxcl"},"is_answered":true,"view_count":72106,"accepted_answer_id":334700.0,"answer_count":11,"score":63,"last_activity_date":1685400072,"creation_date":1228237140,"question_id":334686,"body_markdown":"I have Perl on Mac, Windows and Ubuntu. How can I tell from within the script which one is which?\r\n\r\n**Edit:** I was asked what I am doing. It is a script, part of our cross-platform build system. The script recurses directories and figures out what files to build. Some files are platform-specific, and thus, on Linux I don&#39;t want to build the files ending with _win.cpp, etc.","link":"https:\/\/stackoverflow.com\/questions\/334686\/how-can-i-detect-the-operating-system-in-perl","title":"How can I detect the operating system in Perl?","body":"<p>I have Perl on Mac, Windows and Ubuntu. How can I tell from within the script which one is which?<\/p>\n<p><strong>Edit:<\/strong> I was asked what I am doing. It is a script, part of our cross-platform build system. The script recurses directories and figures out what files to build. Some files are platform-specific, and thus, on Linux I don't want to build the files ending with _win.cpp, etc.<\/p>\n","last_edit_date":1672285058.0,"protected_date":null,"closed_date":null,"closed_reason":null,"community_owned_date":null},{"tags":["perl","enums"],"owner":{"account_id":4304,"reputation":8656,"user_id":6406,"user_type":"registered","accept_rate":83,"profile_image":"https:\/\/www.gravatar.com\/avatar\/17aea005905564dbd400858fef09cf06?s=256&d=identicon&r=PG","display_name":"cowgod","link":"https:\/\/stackoverflow.com\/users\/6406\/cowgod"},"is_answered":true,"view_count":45265,"accepted_answer_id":474248.0,"answer_count":6,"score":63,"last_activity_date":1575017839,"creation_date":1232729858,"question_id":473666,"body_markdown":"Does Perl have an enumeration type *that adheres to best practices*, or maybe more importantly, does it need one?\r\n\r\nThe project I am working one uses strings all over the place to denote things that would typically use an Enum in a language like C#.  For example, we have a set of phone numbers in an array of hashes, each associated with a phone type (&quot;Home&quot;, &quot;Work&quot;, &quot;Mobile&quot;, etc.):\r\n\r\n    $phone_number-&gt;{type} = &#39;Home&#39;;\r\n\r\nWould it be sufficient to use a read-only set of variables here or should an Enum be used?  I&#39;ve found an [`enum` module on CPAN][enum] but it appears to use bare words which violates one of the [Perl Best Practices][PBP].  My thinking on using [read-only variables][Readonly] goes something like this:\r\n\r\n    use Readonly;\r\n    \r\n    Readonly my $HOME   =&gt; &#39;Home&#39;;\r\n    Readonly my $WORK   =&gt; &#39;Work&#39;;\r\n    Readonly my $MOBILE =&gt; &#39;Mobile&#39;;\r\n    \r\n    $phone_number-&gt;{type} = $HOME;\r\n\r\nIs this a good approach or is there a better way?\r\n\r\n[enum]:     http:\/\/search.cpan.org\/perldoc\/enum\r\n[PBP]:      http:\/\/oreilly.com\/catalog\/9780596001735\/\r\n[Readonly]: http:\/\/search.cpan.org\/perldoc\/Readonly","link":"https:\/\/stackoverflow.com\/questions\/473666\/does-perl-have-an-enumeration-type","title":"Does Perl have an enumeration type?","body":"<p>Does Perl have an enumeration type <em>that adheres to best practices<\/em>, or maybe more importantly, does it need one?<\/p>\n\n<p>The project I am working one uses strings all over the place to denote things that would typically use an Enum in a language like C#.  For example, we have a set of phone numbers in an array of hashes, each associated with a phone type (\"Home\", \"Work\", \"Mobile\", etc.):<\/p>\n\n<pre><code>$phone_number-&gt;{type} = 'Home';\n<\/code><\/pre>\n\n<p>Would it be sufficient to use a read-only set of variables here or should an Enum be used?  I've found an <a href=\"http:\/\/search.cpan.org\/perldoc\/enum\" rel=\"noreferrer\"><code>enum<\/code> module on CPAN<\/a> but it appears to use bare words which violates one of the <a href=\"http:\/\/oreilly.com\/catalog\/9780596001735\/\" rel=\"noreferrer\">Perl Best Practices<\/a>.  My thinking on using <a href=\"http:\/\/search.cpan.org\/perldoc\/Readonly\" rel=\"noreferrer\">read-only variables<\/a> goes something like this:<\/p>\n\n<pre><code>use Readonly;\n\nReadonly my $HOME   =&gt; 'Home';\nReadonly my $WORK   =&gt; 'Work';\nReadonly my $MOBILE =&gt; 'Mobile';\n\n$phone_number-&gt;{type} = $HOME;\n<\/code><\/pre>\n\n<p>Is this a good approach or is there a better way?<\/p>\n","last_edit_date":1267115400.0,"protected_date":null,"closed_date":null,"closed_reason":null,"community_owned_date":null},{"tags":["python","performance","perl","io"],"owner":{"account_id":3642267,"reputation":1643,"user_id":3036108,"user_type":"registered","accept_rate":56,"profile_image":"https:\/\/www.gravatar.com\/avatar\/d1f45db0439650f0d5089ac803abdf62?s=256&d=identicon&r=PG&f=y&so-version=2","display_name":"Simon","link":"https:\/\/stackoverflow.com\/users\/3036108\/simon"},"is_answered":true,"view_count":8927,"accepted_answer_id":26203484.0,"answer_count":1,"score":63,"last_activity_date":1413188174,"creation_date":1412335202,"question_id":26178038,"body_markdown":"Following an earlier thread I boiled down my problem to it&#39;s bare bones, in migrating from a Perl script to a Python one I found a huge performance issue with slurping files in Python. Running this on Ubuntu Server.\r\n\r\nNB: this is not a X vs. Y thread I need to know fundamentally if this is how it is or if I&#39;m doing something stupid.\r\n\r\nI created my test data, 50,000 10kb files (this mirrors the avg file size of what I&#39;m processing):\r\n\r\n&lt;!-- language: sh --&gt;\r\n\r\n    mkdir 1\r\n    cd 1\r\n    for i in {1..50000}; do dd if=\/dev\/zero of=$i.xml bs=1 count=10000; done\r\n    cd ..\r\n    cp -r 1 2\r\n\r\nCreated my 2 scripts as simply as possible:\r\n\r\n**Perl**\r\n\r\n&lt;!-- language: perl --&gt;\r\n\r\n    foreach my $file (&lt;$ARGV[0]\/*.xml&gt;){\r\n        my $fh;\r\n        open($fh, &quot;&lt; $file&quot;);\r\n        my $contents = do { local $\/; &lt;$fh&gt; };\r\n        close($fh);\r\n    }\r\n\r\n**Python**\r\n\r\n&lt;!-- language: python --&gt;\r\n\r\n    import glob, sys\r\n    for file in glob.iglob(sys.argv[1] + &#39;\/*.xml&#39;):\r\n        with open(file) as x:\r\n            f = x.read()\r\nI then cleared the caches and ran my 2 slurp scripts, between each run I cleaned the caches again using:\r\n\r\n    sync; sudo sh -c &#39;echo 3 &gt; \/proc\/sys\/vm\/drop_caches&#39;\r\n\r\nThen monitored to ensure it was reading everything from disk each time:\r\n\r\n    sudo iotop -a -u me\r\n\r\nI tried this on a physical machine with RAID 10 disks and on a brand new VM I setup where the VM is on RAID 1 SSDs, have just included the test runs from my VM as the physical server was much the same just faster.\r\n\r\n    $ time python readFiles.py 1\r\n        real    5m2.493s\r\n        user    0m1.783s\r\n        sys     0m5.013s\r\n\r\n    $ time perl readFiles.pl 2\r\n        real    0m13.059s\r\n        user    0m1.690s\r\n        sys     0m2.471s\r\n\r\n    $ time perl readFiles.pl 2\r\n        real    0m13.313s\r\n        user    0m1.670s\r\n        sys     0m2.579s\r\n\r\n    $ time python readFiles.py 1\r\n        real    4m43.378s\r\n        user    0m1.772s\r\n        sys     0m4.731s\r\n\r\nI noticed on iotop when Perl was running DISK READ was around 45 M\/s and IOWAIT approx 70%, when running Python DISK READ was 2M\/s and IOWAIT 97%. I&#39;m not sure where to go from here having boiled them down to as simple as I can get.\r\n\r\n**In case it is relevant**\r\n\r\n    $ python\r\n    Python 2.7.6 (default, Mar 22 2014, 22:59:56)\r\n    [GCC 4.8.2] on linux2\r\n\r\n    $ perl -v\r\n    This is perl 5, version 18, subversion 2 (v5.18.2) built for x86_64-linux-gnu-thread-multi\r\n\r\n**FURTHER INFO AS REQUESTED**\r\n\r\nI ran strace and grabbed the info for file 1000.xml but all seem to do the same things:\r\n\r\n**Perl**\r\n\r\n\t$strace -f -T -o trace.perl.1 perl readFiles.pl 2\r\n\r\n\t32303 open(&quot;2\/1000.xml&quot;, O_RDONLY)      = 3 &lt;0.000020&gt;\r\n\t32303 ioctl(3, SNDCTL_TMR_TIMEBASE or SNDRV_TIMER_IOCTL_NEXT_DEVICE or TCGETS, 0x7fff7f6f7b90) = -1 ENOTTY (Inappropriate ioctl for device) &lt;0.000016&gt;\r\n\t32303 lseek(3, 0, SEEK_CUR)             = 0 &lt;0.000016&gt;\r\n\t32303 fstat(3, {st_mode=S_IFREG|0664, st_size=10000, ...}) = 0 &lt;0.000016&gt;\r\n\t32303 fcntl(3, F_SETFD, FD_CLOEXEC)     = 0 &lt;0.000017&gt;\r\n\t32303 fstat(3, {st_mode=S_IFREG|0664, st_size=10000, ...}) = 0 &lt;0.000030&gt;\r\n\t32303 read(3, &quot;\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0&quot;..., 8192) = 8192 &lt;0.005323&gt;\r\n\t32303 read(3, &quot;\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0&quot;..., 8192) = 1808 &lt;0.000022&gt;\r\n\t32303 read(3, &quot;&quot;, 8192)                 = 0 &lt;0.000019&gt;\r\n\t32303 close(3)                          = 0 &lt;0.000017&gt;\r\n\r\n**Python**\r\n\r\n\t$strace -f -T -o trace.python.1 python readFiles.py 1\r\n\r\n\t32313 open(&quot;1\/1000.xml&quot;, O_RDONLY)      = 3 &lt;0.000021&gt;\r\n\t32313 fstat(3, {st_mode=S_IFREG|0664, st_size=10000, ...}) = 0 &lt;0.000017&gt;\r\n\t32313 fstat(3, {st_mode=S_IFREG|0664, st_size=10000, ...}) = 0 &lt;0.000019&gt;\r\n\t32313 lseek(3, 0, SEEK_CUR)             = 0 &lt;0.000018&gt;\r\n\t32313 fstat(3, {st_mode=S_IFREG|0664, st_size=10000, ...}) = 0 &lt;0.000018&gt;\r\n\t32313 mmap(NULL, 4096, PROT_READ|PROT_WRITE, MAP_PRIVATE|MAP_ANONYMOUS, -1, 0) = 0x7fa18820a000 &lt;0.000019&gt;\r\n\t32313 lseek(3, 0, SEEK_CUR)             = 0 &lt;0.000018&gt;\r\n\t32313 read(3, &quot;\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0&quot;..., 8192) = 8192 &lt;0.006795&gt;\r\n\t32313 read(3, &quot;\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0&quot;..., 4096) = 1808 &lt;0.000031&gt;\r\n\t32313 read(3, &quot;&quot;, 4096)                 = 0 &lt;0.000018&gt;\r\n\t32313 close(3)                          = 0 &lt;0.000027&gt;\r\n\t32313 munmap(0x7fa18820a000, 4096)      = 0 &lt;0.000022&gt;\r\n\r\nOne difference I noticed, not sure if it&#39;s relevant, is that Perl appears to run this against all files before it starts opening them whereas python doesn&#39;t:\r\n\r\n\t32303 lstat(&quot;2\/1000.xml&quot;, {st_mode=S_IFREG|0664, st_size=10000, ...}) = 0 &lt;0.000022&gt;\r\n\r\nAlso ran strace with -c (just took top few calls):\r\n\r\n**Perl**\r\n\r\n\t$ time strace -f -c perl readFiles.pl 2\r\n\t% time     seconds  usecs\/call     calls    errors syscall\r\n\t------ ----------- ----------- --------- --------- ----------------\r\n\t 44.07    3.501471          23    150018           read\r\n\t 12.54    0.996490          10    100011           fstat\r\n\t  9.47    0.752552          15     50000           lstat\r\n\t  7.99    0.634904          13     50016           open\r\n\t  6.89    0.547016          11     50017           close\r\n\t  6.19    0.491944          10     50008     50005 ioctl\r\n\t  6.12    0.486208          10     50014         3 lseek\r\n\t  6.10    0.484374          10     50001           fcntl\r\n\r\n\treal    0m37.829s\r\n\tuser    0m6.373s\r\n\tsys     0m25.042s\r\n\r\n**Python**\r\n\r\n\t$ time strace -f -c python readFiles.py 1\r\n\t% time     seconds  usecs\/call     calls    errors syscall\r\n\t------ ----------- ----------- --------- --------- ----------------\r\n\t 42.97    4.186173          28    150104           read\r\n\t 15.58    1.518304          10    150103           fstat\r\n\t 10.51    1.023681          20     50242       174 open\r\n\t 10.12    0.986350          10    100003           lseek\r\n\t  7.69    0.749387          15     50047           munmap\r\n\t  6.85    0.667576          13     50071           close\r\n\t  5.90    0.574888          11     50073           mmap\r\n\r\n\treal    5m5.237s\r\n\tuser    0m7.278s\r\n\tsys     0m30.736s\r\n\r\nDid some parsing of the strace output with -T turned on and counted the first 8192 byte read for each file and it&#39;s clear this is where the time is going, below is the total time spent for the 50000 first reads of a file followed by the average time for each read.\r\n\r\n    300.247128000002 (0.00600446220302379)   - Python\r\n    11.6845620000003 (0.000233681892724297)  - Perl\r\n\r\nNot sure if that helps!\r\n\r\n**UPDATE 2**\r\nUpdated code in Python to use os.open and os.read and just do a single read of first 4096 bytes (that would work for me as info I want is in top part of file), also eliminates all the other calls in strace:\r\n\r\n\t18346 open(&quot;1\/1000.xml&quot;, O_RDONLY)      = 3 &lt;0.000026&gt;\r\n\t18346 read(3, &quot;\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0&quot;..., 4096) = 4096 &lt;0.007206&gt;\r\n\t18346 close(3)                          = 0 &lt;0.000024&gt;\r\n\r\n\t$ time strace -f -c python readFiles.py 1\r\n\t% time     seconds  usecs\/call     calls    errors syscall\r\n\t------ ----------- ----------- --------- --------- ----------------\r\n\t 55.39    2.388932          48     50104           read\r\n\t 22.86    0.986096          20     50242       174 open\r\n\t 20.72    0.893579          18     50071           close\r\n\r\n\treal    4m48.751s\r\n\tuser    0m3.078s\r\n\tsys     0m12.360s\r\n\r\n\tTotal Time (avg read call)\r\n\t282.28626 (0.00564290374812595)\r\n\r\nStill no better...next up I&#39;m going to create a VM on Azure and try there for another example!!\r\n\r\n**UPDATE 3 - Apologies for the size of this!!**\r\n\r\nOk some interesting results using your (@J.F.Sebastian) script on 3 setups, stripped the output at start for brevity and also removed all the tests which just run super fast from cache and look like:\r\n\r\n\t0.23user 0.26system 0:00.50elapsed 99%CPU (0avgtext+0avgdata 9140maxresident)k\r\n\t0inputs+0outputs (0major+2479minor)pagefaults 0swaps\r\n\r\n**Azure A2 Standard VM (2 cores 3.5GB RAM Disk Unknown but slow)**\r\n\r\n\t$ uname -a\r\n\tLinux servername 3.13.0-35-generic #62-Ubuntu SMP Fri Aug 15 01:58:42 UTC 2014 x86_64 x86_64 x86_64 GNU\/Linux\r\n\t$ python\r\n\tPython 2.7.6 (default, Mar 22 2014, 22:59:56)\r\n\t[GCC 4.8.2] on linux2\r\n\t$ perl -v\r\n\tThis is perl 5, version 18, subversion 2 (v5.18.2) built for x86_64-linux-gnu-thread-multi\r\n\t(with 41 registered patches, see perl -V for more detail)\r\n\r\n\t+ \/usr\/bin\/time perl slurp.pl 1\r\n\t1.81user 2.95system 3:11.28elapsed 2%CPU (0avgtext+0avgdata 9144maxresident)k\r\n\t1233840inputs+0outputs (20major+2461minor)pagefaults 0swaps\r\n\t+ clearcache\r\n\t+ sync\r\n\t+ sudo sh -c &#39;echo 3 &gt; \/proc\/sys\/vm\/drop_caches&#39;\r\n\t+ \/usr\/bin\/time python slurp.py 1\r\n\t1.56user 3.76system 3:06.05elapsed 2%CPU (0avgtext+0avgdata 8024maxresident)k\r\n\t1232232inputs+0outputs (14major+52273minor)pagefaults 0swaps\r\n\t+ \/usr\/bin\/time perl slurp.pl 2\r\n\t1.90user 3.11system 6:02.17elapsed 1%CPU (0avgtext+0avgdata 9144maxresident)k\r\n\t1233776inputs+0outputs (16major+2465minor)pagefaults 0swaps\r\n\r\nComparable first slurp results for both, not sure what was going on during the 2nd Perl slurp?\r\n\r\n**My VMWare Linux VM (2 cores 8GB RAM Disk RAID1 SSD)**\r\n\r\n\t$ uname -a\r\n\tLinux servername 3.13.0-32-generic #57-Ubuntu SMP Tue Jul 15 03:51:08 UTC 2014 x86_64 x86_64 x86_64 GNU\/Linux\r\n\t$ python\r\n\tPython 2.7.6 (default, Mar 22 2014, 22:59:56)\r\n\t[GCC 4.8.2] on linux2\r\n\t$ perl -v\r\n\tThis is perl 5, version 18, subversion 2 (v5.18.2) built for x86_64-linux-gnu-thread-multi\r\n\t(with 41 registered patches, see perl -V for more detail)\r\n\r\n\t+ \/usr\/bin\/time perl slurp.pl 1\r\n\t1.66user 2.55system 0:13.28elapsed 31%CPU (0avgtext+0avgdata 9136maxresident)k\r\n\t1233152inputs+0outputs (20major+2460minor)pagefaults 0swaps\r\n\t+ clearcache\r\n\t+ sync\r\n\t+ sudo sh -c &#39;echo 3 &gt; \/proc\/sys\/vm\/drop_caches&#39;\r\n\t+ \/usr\/bin\/time python slurp.py 1\r\n\t2.10user 4.67system 4:45.65elapsed 2%CPU (0avgtext+0avgdata 8012maxresident)k\r\n\t1232056inputs+0outputs (14major+52269minor)pagefaults 0swaps\r\n\t+ \/usr\/bin\/time perl slurp.pl 2\r\n\t2.13user 4.11system 5:01.40elapsed 2%CPU (0avgtext+0avgdata 9140maxresident)k\r\n\t1233264inputs+0outputs (16major+2463minor)pagefaults 0swaps\r\n\r\nThis time, as before, Perl is way faster on first slurp, unsure what is happening on second Perl slurp though not seen this behaviour before. Ran measure.sh again and result was exactly the same give or take a few seconds. I then did what any normal person would do and updated the kernel to match the Azure machine 3.13.0-35-generic and ran measure.sh again and made no difference to results.\r\n\r\nOut of curiosity I then swapped the 1 and 2 parameter in measure.sh and something strange happened..Perl slowed down and Python sped up!\r\n\r\n\t+ \/usr\/bin\/time perl slurp.pl 2\r\n\t1.78user 3.46system 4:43.90elapsed 1%CPU (0avgtext+0avgdata 9140maxresident)k\r\n\t1234952inputs+0outputs (21major+2458minor)pagefaults 0swaps\r\n\t+ clearcache\r\n\t+ sync\r\n\t+ sudo sh -c &#39;echo 3 &gt; \/proc\/sys\/vm\/drop_caches&#39;\r\n\t+ \/usr\/bin\/time python slurp.py 2\r\n\t1.19user 3.09system 0:10.67elapsed 40%CPU (0avgtext+0avgdata 8012maxresident)k\r\n\t1233632inputs+0outputs (14major+52269minor)pagefaults 0swaps\r\n\t+ \/usr\/bin\/time perl slurp.pl 1\r\n\t1.36user 2.32system 0:13.40elapsed 27%CPU (0avgtext+0avgdata 9136maxresident)k\r\n\t1232032inputs+0outputs (17major+2465minor)pagefaults 0swaps\r\n\r\nThis has just confused me even further :-(\r\n\r\n**Physical Server (32 cores 132 GB RAM Disk RAID10 SAS)**\r\n\r\n\t$ uname -a\r\n\tLinux servername 3.5.0-23-generic #35~precise1-Ubuntu SMP Fri Jan 25 17:13:26 UTC 2013 x86_64 x86_64 x86_64 GNU\/Linux\r\n\t$ python\r\n\tPython 2.7.3 (default, Aug  1 2012, 05:14:39)\r\n\t[GCC 4.6.3] on linux2\r\n\t$ perl -v\r\n\tThis is perl 5, version 14, subversion 2 (v5.14.2) built for x86_64-linux-gnu-thread-multi\r\n\t(with 55 registered patches, see perl -V for more detail)\r\n\r\n\t+ \/usr\/bin\/time perl slurp.pl 1\r\n\t2.22user 2.60system 0:15.78elapsed 30%CPU (0avgtext+0avgdata 43728maxresident)k\r\n\t1233264inputs+0outputs (15major+2984minor)pagefaults 0swaps\r\n\t+ clearcache\r\n\t+ sync\r\n\t+ sudo sh -c &#39;echo 3 &gt; \/proc\/sys\/vm\/drop_caches&#39;\r\n\t+ \/usr\/bin\/time python slurp.py 1\r\n\t2.51user 4.79system 1:58.53elapsed 6%CPU (0avgtext+0avgdata 34256maxresident)k\r\n\t1234752inputs+0outputs (16major+52385minor)pagefaults 0swaps\r\n\t+ \/usr\/bin\/time perl slurp.pl 2\r\n\t2.17user 2.95system 0:06.96elapsed 73%CPU (0avgtext+0avgdata 43744maxresident)k\r\n\t1232008inputs+0outputs (14major+2987minor)pagefaults 0swaps\r\n\r\nHere Perl seems to win every time.\r\n\r\n**baffled**\r\n\r\nGiven the oddity on my local VM, when I swapped directories, which is the machine I have most control over I&#39;m going to try a binary approach on all the possible options of running python vs perl using 1 or 2 as the data directory and try to run them multiple times for consistency but it&#39;ll take a while and I&#39;m going a little crazy so break may be required first! All I want is consistency :-(\r\n\r\n**UPDATE 4 - Consistency**\r\n\r\n(Below is run on an ubuntu-14.04.1-server VM, Kernel is 3.13.0-35-generic #62-Ubuntu)\r\n\r\nI think I&#39;ve found some consistency, running the tests every way possible for Python\/Perl slurp on data dir 1\/2 I found the following:\r\n\r\n - Python is always slow on created files (i.e. created by dd)\r\n - Python is always fast on copied files (i.e. created by cp -r)\r\n - Perl is always fast on created files (i.e. created by dd)\r\n - Perl is always slow on copied files (i.e. created by cp -r)\r\n\r\nSo I looked at OS level copying and it seems like on Ubuntu &#39;cp&#39; behaves in the same way as Python, i.e. slow on original files and fast on copied files.\r\n\r\nThis is what I ran and the results, I did this a few times on a machine with a single SATA HD and on a RAID10 system, results:\r\n\r\n    $ mkdir 1\r\n    $ cd 1\r\n    $ for i in {1..50000}; do dd if=\/dev\/urandom of=$i.xml bs=1K count=10; done\r\n    $ cd ..\r\n    $ cp -r 1 2\r\n    $ sync; sudo sh -c &#39;echo 3 &gt; \/proc\/sys\/vm\/drop_caches&#39;\r\n    $ time strace -f -c -o trace.copy2c cp -r 2 2copy\r\n        real    0m28.624s\r\n        user    0m1.429s\r\n        sys     0m27.558s\r\n    $ sync; sudo sh -c &#39;echo 3 &gt; \/proc\/sys\/vm\/drop_caches&#39;\r\n    $ time strace -f -c -o trace.copy1c cp -r 1 1copy\r\n        real    5m21.166s\r\n        user    0m1.348s\r\n        sys     0m30.717s\r\n\r\nTrace results show where time is being spent\r\n\r\n    $ head trace.copy1c trace.copy2c\r\n    ==&gt; trace.copy1c &lt;==\r\n    % time     seconds  usecs\/call     calls    errors syscall\r\n    ------ ----------- ----------- --------- --------- ----------------\r\n     60.09    2.541250          25    100008           read\r\n     12.22    0.516799          10     50000           write\r\n      9.62    0.406904           4    100009           open\r\n      5.59    0.236274           2    100013           close\r\n      4.80    0.203114           4     50004         1 lstat\r\n      4.71    0.199211           2    100009           fstat\r\n      2.19    0.092662           2     50000           fadvise64\r\n      0.72    0.030418         608        50           getdents\r\n    ==&gt; trace.copy2c &lt;==\r\n    % time     seconds  usecs\/call     calls    errors syscall\r\n    ------ ----------- ----------- --------- --------- ----------------\r\n     47.86    0.802376           8    100008           read\r\n     13.55    0.227108           5     50000           write\r\n     13.02    0.218312           2    100009           open\r\n      7.36    0.123364           1    100013           close\r\n      6.83    0.114589           1    100009           fstat\r\n      6.31    0.105742           2     50004         1 lstat\r\n      3.38    0.056634           1     50000           fadvise64\r\n      1.62    0.027191         544        50           getdents\r\n\r\nSo it seems copying copies is much faster than copying original files, my current guess is that when copied the files get aligned on disk better than when they were originally created making them more efficient to read?\r\n\r\nInterestingly &#39;rsyn&#39; and &#39;cp&#39; seem to work in opposite ways speedwise, much like Perl and Python!\r\n\r\n\t$ rm -rf 1copy 2copy; sync; sudo sh -c &#39;echo 3 &gt; \/proc\/sys\/vm\/drop_caches&#39;; echo &quot;Rsync 1&quot;; \/usr\/bin\/time rsync -a 1 1copy; sync; sudo sh -c &#39;echo 3 &gt; \/proc\/sys\/vm\/drop_caches&#39;; echo &quot;Rsync 2&quot;; \/usr\/bin\/time rsync -a 2 2copy\r\n\tRsync 1\r\n\t\t3.62user 3.76system 0:13.00elapsed 56%CPU (0avgtext+0avgdata 5072maxresident)k\r\n\t\t1230600inputs+1200000outputs (13major+2684minor)pagefaults 0swaps\r\n\tRsync 2\r\n\t\t4.87user 6.52system 5:06.24elapsed 3%CPU (0avgtext+0avgdata 5076maxresident)k\r\n\t\t1231832inputs+1200000outputs (13major+2689minor)pagefaults 0swaps\r\n\r\n\t$ rm -rf 1copy 2copy; sync; sudo sh -c &#39;echo 3 &gt; \/proc\/sys\/vm\/drop_caches&#39;; echo &quot;Copy 1&quot;; \/usr\/bin\/time cp -r 1 1copy; sync; sudo sh -c &#39;echo 3 &gt; \/proc\/sys\/vm\/drop_caches&#39;; echo &quot;Copy 2&quot;; \/usr\/bin\/time cp -r 2 2copy\r\n\tCopy 1\r\n\t\t0.48user 6.42system 5:05.30elapsed 2%CPU (0avgtext+0avgdata 1212maxresident)k\r\n\t\t1229432inputs+1200000outputs (6major+415minor)pagefaults 0swaps\r\n\tCopy 2\r\n\t\t0.33user 4.17system 0:11.13elapsed 40%CPU (0avgtext+0avgdata 1212maxresident)k\r\n\t\t1230416inputs+1200000outputs (6major+414minor)pagefaults 0swaps","link":"https:\/\/stackoverflow.com\/questions\/26178038\/python-slow-read-performance-issue","title":"Python slow read performance issue","body":"<p>Following an earlier thread I boiled down my problem to it's bare bones, in migrating from a Perl script to a Python one I found a huge performance issue with slurping files in Python. Running this on Ubuntu Server.<\/p>\n\n<p>NB: this is not a X vs. Y thread I need to know fundamentally if this is how it is or if I'm doing something stupid.<\/p>\n\n<p>I created my test data, 50,000 10kb files (this mirrors the avg file size of what I'm processing):<\/p>\n\n<pre class=\"lang-sh prettyprint-override\"><code>mkdir 1\ncd 1\nfor i in {1..50000}; do dd if=\/dev\/zero of=$i.xml bs=1 count=10000; done\ncd ..\ncp -r 1 2\n<\/code><\/pre>\n\n<p>Created my 2 scripts as simply as possible:<\/p>\n\n<p><strong>Perl<\/strong><\/p>\n\n<pre class=\"lang-perl prettyprint-override\"><code>foreach my $file (&lt;$ARGV[0]\/*.xml&gt;){\n    my $fh;\n    open($fh, \"&lt; $file\");\n    my $contents = do { local $\/; &lt;$fh&gt; };\n    close($fh);\n}\n<\/code><\/pre>\n\n<p><strong>Python<\/strong><\/p>\n\n<pre class=\"lang-py prettyprint-override\"><code>import glob, sys\nfor file in glob.iglob(sys.argv[1] + '\/*.xml'):\n    with open(file) as x:\n        f = x.read()\n<\/code><\/pre>\n\n<p>I then cleared the caches and ran my 2 slurp scripts, between each run I cleaned the caches again using:<\/p>\n\n<pre><code>sync; sudo sh -c 'echo 3 &gt; \/proc\/sys\/vm\/drop_caches'\n<\/code><\/pre>\n\n<p>Then monitored to ensure it was reading everything from disk each time:<\/p>\n\n<pre><code>sudo iotop -a -u me\n<\/code><\/pre>\n\n<p>I tried this on a physical machine with RAID 10 disks and on a brand new VM I setup where the VM is on RAID 1 SSDs, have just included the test runs from my VM as the physical server was much the same just faster.<\/p>\n\n<pre><code>$ time python readFiles.py 1\n    real    5m2.493s\n    user    0m1.783s\n    sys     0m5.013s\n\n$ time perl readFiles.pl 2\n    real    0m13.059s\n    user    0m1.690s\n    sys     0m2.471s\n\n$ time perl readFiles.pl 2\n    real    0m13.313s\n    user    0m1.670s\n    sys     0m2.579s\n\n$ time python readFiles.py 1\n    real    4m43.378s\n    user    0m1.772s\n    sys     0m4.731s\n<\/code><\/pre>\n\n<p>I noticed on iotop when Perl was running DISK READ was around 45 M\/s and IOWAIT approx 70%, when running Python DISK READ was 2M\/s and IOWAIT 97%. I'm not sure where to go from here having boiled them down to as simple as I can get.<\/p>\n\n<p><strong>In case it is relevant<\/strong><\/p>\n\n<pre><code>$ python\nPython 2.7.6 (default, Mar 22 2014, 22:59:56)\n[GCC 4.8.2] on linux2\n\n$ perl -v\nThis is perl 5, version 18, subversion 2 (v5.18.2) built for x86_64-linux-gnu-thread-multi\n<\/code><\/pre>\n\n<p><strong>FURTHER INFO AS REQUESTED<\/strong><\/p>\n\n<p>I ran strace and grabbed the info for file 1000.xml but all seem to do the same things:<\/p>\n\n<p><strong>Perl<\/strong><\/p>\n\n<pre><code>$strace -f -T -o trace.perl.1 perl readFiles.pl 2\n\n32303 open(\"2\/1000.xml\", O_RDONLY)      = 3 &lt;0.000020&gt;\n32303 ioctl(3, SNDCTL_TMR_TIMEBASE or SNDRV_TIMER_IOCTL_NEXT_DEVICE or TCGETS, 0x7fff7f6f7b90) = -1 ENOTTY (Inappropriate ioctl for device) &lt;0.000016&gt;\n32303 lseek(3, 0, SEEK_CUR)             = 0 &lt;0.000016&gt;\n32303 fstat(3, {st_mode=S_IFREG|0664, st_size=10000, ...}) = 0 &lt;0.000016&gt;\n32303 fcntl(3, F_SETFD, FD_CLOEXEC)     = 0 &lt;0.000017&gt;\n32303 fstat(3, {st_mode=S_IFREG|0664, st_size=10000, ...}) = 0 &lt;0.000030&gt;\n32303 read(3, \"\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\"..., 8192) = 8192 &lt;0.005323&gt;\n32303 read(3, \"\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\"..., 8192) = 1808 &lt;0.000022&gt;\n32303 read(3, \"\", 8192)                 = 0 &lt;0.000019&gt;\n32303 close(3)                          = 0 &lt;0.000017&gt;\n<\/code><\/pre>\n\n<p><strong>Python<\/strong><\/p>\n\n<pre><code>$strace -f -T -o trace.python.1 python readFiles.py 1\n\n32313 open(\"1\/1000.xml\", O_RDONLY)      = 3 &lt;0.000021&gt;\n32313 fstat(3, {st_mode=S_IFREG|0664, st_size=10000, ...}) = 0 &lt;0.000017&gt;\n32313 fstat(3, {st_mode=S_IFREG|0664, st_size=10000, ...}) = 0 &lt;0.000019&gt;\n32313 lseek(3, 0, SEEK_CUR)             = 0 &lt;0.000018&gt;\n32313 fstat(3, {st_mode=S_IFREG|0664, st_size=10000, ...}) = 0 &lt;0.000018&gt;\n32313 mmap(NULL, 4096, PROT_READ|PROT_WRITE, MAP_PRIVATE|MAP_ANONYMOUS, -1, 0) = 0x7fa18820a000 &lt;0.000019&gt;\n32313 lseek(3, 0, SEEK_CUR)             = 0 &lt;0.000018&gt;\n32313 read(3, \"\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\"..., 8192) = 8192 &lt;0.006795&gt;\n32313 read(3, \"\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\"..., 4096) = 1808 &lt;0.000031&gt;\n32313 read(3, \"\", 4096)                 = 0 &lt;0.000018&gt;\n32313 close(3)                          = 0 &lt;0.000027&gt;\n32313 munmap(0x7fa18820a000, 4096)      = 0 &lt;0.000022&gt;\n<\/code><\/pre>\n\n<p>One difference I noticed, not sure if it's relevant, is that Perl appears to run this against all files before it starts opening them whereas python doesn't:<\/p>\n\n<pre><code>32303 lstat(\"2\/1000.xml\", {st_mode=S_IFREG|0664, st_size=10000, ...}) = 0 &lt;0.000022&gt;\n<\/code><\/pre>\n\n<p>Also ran strace with -c (just took top few calls):<\/p>\n\n<p><strong>Perl<\/strong><\/p>\n\n<pre><code>$ time strace -f -c perl readFiles.pl 2\n% time     seconds  usecs\/call     calls    errors syscall\n------ ----------- ----------- --------- --------- ----------------\n 44.07    3.501471          23    150018           read\n 12.54    0.996490          10    100011           fstat\n  9.47    0.752552          15     50000           lstat\n  7.99    0.634904          13     50016           open\n  6.89    0.547016          11     50017           close\n  6.19    0.491944          10     50008     50005 ioctl\n  6.12    0.486208          10     50014         3 lseek\n  6.10    0.484374          10     50001           fcntl\n\nreal    0m37.829s\nuser    0m6.373s\nsys     0m25.042s\n<\/code><\/pre>\n\n<p><strong>Python<\/strong><\/p>\n\n<pre><code>$ time strace -f -c python readFiles.py 1\n% time     seconds  usecs\/call     calls    errors syscall\n------ ----------- ----------- --------- --------- ----------------\n 42.97    4.186173          28    150104           read\n 15.58    1.518304          10    150103           fstat\n 10.51    1.023681          20     50242       174 open\n 10.12    0.986350          10    100003           lseek\n  7.69    0.749387          15     50047           munmap\n  6.85    0.667576          13     50071           close\n  5.90    0.574888          11     50073           mmap\n\nreal    5m5.237s\nuser    0m7.278s\nsys     0m30.736s\n<\/code><\/pre>\n\n<p>Did some parsing of the strace output with -T turned on and counted the first 8192 byte read for each file and it's clear this is where the time is going, below is the total time spent for the 50000 first reads of a file followed by the average time for each read.<\/p>\n\n<pre><code>300.247128000002 (0.00600446220302379)   - Python\n11.6845620000003 (0.000233681892724297)  - Perl\n<\/code><\/pre>\n\n<p>Not sure if that helps!<\/p>\n\n<p><strong>UPDATE 2<\/strong>\nUpdated code in Python to use os.open and os.read and just do a single read of first 4096 bytes (that would work for me as info I want is in top part of file), also eliminates all the other calls in strace:<\/p>\n\n<pre><code>18346 open(\"1\/1000.xml\", O_RDONLY)      = 3 &lt;0.000026&gt;\n18346 read(3, \"\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\"..., 4096) = 4096 &lt;0.007206&gt;\n18346 close(3)                          = 0 &lt;0.000024&gt;\n\n$ time strace -f -c python readFiles.py 1\n% time     seconds  usecs\/call     calls    errors syscall\n------ ----------- ----------- --------- --------- ----------------\n 55.39    2.388932          48     50104           read\n 22.86    0.986096          20     50242       174 open\n 20.72    0.893579          18     50071           close\n\nreal    4m48.751s\nuser    0m3.078s\nsys     0m12.360s\n\nTotal Time (avg read call)\n282.28626 (0.00564290374812595)\n<\/code><\/pre>\n\n<p>Still no better...next up I'm going to create a VM on Azure and try there for another example!!<\/p>\n\n<p><strong>UPDATE 3 - Apologies for the size of this!!<\/strong><\/p>\n\n<p>Ok some interesting results using your (@J.F.Sebastian) script on 3 setups, stripped the output at start for brevity and also removed all the tests which just run super fast from cache and look like:<\/p>\n\n<pre><code>0.23user 0.26system 0:00.50elapsed 99%CPU (0avgtext+0avgdata 9140maxresident)k\n0inputs+0outputs (0major+2479minor)pagefaults 0swaps\n<\/code><\/pre>\n\n<p><strong>Azure A2 Standard VM (2 cores 3.5GB RAM Disk Unknown but slow)<\/strong><\/p>\n\n<pre><code>$ uname -a\nLinux servername 3.13.0-35-generic #62-Ubuntu SMP Fri Aug 15 01:58:42 UTC 2014 x86_64 x86_64 x86_64 GNU\/Linux\n$ python\nPython 2.7.6 (default, Mar 22 2014, 22:59:56)\n[GCC 4.8.2] on linux2\n$ perl -v\nThis is perl 5, version 18, subversion 2 (v5.18.2) built for x86_64-linux-gnu-thread-multi\n(with 41 registered patches, see perl -V for more detail)\n\n+ \/usr\/bin\/time perl slurp.pl 1\n1.81user 2.95system 3:11.28elapsed 2%CPU (0avgtext+0avgdata 9144maxresident)k\n1233840inputs+0outputs (20major+2461minor)pagefaults 0swaps\n+ clearcache\n+ sync\n+ sudo sh -c 'echo 3 &gt; \/proc\/sys\/vm\/drop_caches'\n+ \/usr\/bin\/time python slurp.py 1\n1.56user 3.76system 3:06.05elapsed 2%CPU (0avgtext+0avgdata 8024maxresident)k\n1232232inputs+0outputs (14major+52273minor)pagefaults 0swaps\n+ \/usr\/bin\/time perl slurp.pl 2\n1.90user 3.11system 6:02.17elapsed 1%CPU (0avgtext+0avgdata 9144maxresident)k\n1233776inputs+0outputs (16major+2465minor)pagefaults 0swaps\n<\/code><\/pre>\n\n<p>Comparable first slurp results for both, not sure what was going on during the 2nd Perl slurp?<\/p>\n\n<p><strong>My VMWare Linux VM (2 cores 8GB RAM Disk RAID1 SSD)<\/strong><\/p>\n\n<pre><code>$ uname -a\nLinux servername 3.13.0-32-generic #57-Ubuntu SMP Tue Jul 15 03:51:08 UTC 2014 x86_64 x86_64 x86_64 GNU\/Linux\n$ python\nPython 2.7.6 (default, Mar 22 2014, 22:59:56)\n[GCC 4.8.2] on linux2\n$ perl -v\nThis is perl 5, version 18, subversion 2 (v5.18.2) built for x86_64-linux-gnu-thread-multi\n(with 41 registered patches, see perl -V for more detail)\n\n+ \/usr\/bin\/time perl slurp.pl 1\n1.66user 2.55system 0:13.28elapsed 31%CPU (0avgtext+0avgdata 9136maxresident)k\n1233152inputs+0outputs (20major+2460minor)pagefaults 0swaps\n+ clearcache\n+ sync\n+ sudo sh -c 'echo 3 &gt; \/proc\/sys\/vm\/drop_caches'\n+ \/usr\/bin\/time python slurp.py 1\n2.10user 4.67system 4:45.65elapsed 2%CPU (0avgtext+0avgdata 8012maxresident)k\n1232056inputs+0outputs (14major+52269minor)pagefaults 0swaps\n+ \/usr\/bin\/time perl slurp.pl 2\n2.13user 4.11system 5:01.40elapsed 2%CPU (0avgtext+0avgdata 9140maxresident)k\n1233264inputs+0outputs (16major+2463minor)pagefaults 0swaps\n<\/code><\/pre>\n\n<p>This time, as before, Perl is way faster on first slurp, unsure what is happening on second Perl slurp though not seen this behaviour before. Ran measure.sh again and result was exactly the same give or take a few seconds. I then did what any normal person would do and updated the kernel to match the Azure machine 3.13.0-35-generic and ran measure.sh again and made no difference to results.<\/p>\n\n<p>Out of curiosity I then swapped the 1 and 2 parameter in measure.sh and something strange happened..Perl slowed down and Python sped up!<\/p>\n\n<pre><code>+ \/usr\/bin\/time perl slurp.pl 2\n1.78user 3.46system 4:43.90elapsed 1%CPU (0avgtext+0avgdata 9140maxresident)k\n1234952inputs+0outputs (21major+2458minor)pagefaults 0swaps\n+ clearcache\n+ sync\n+ sudo sh -c 'echo 3 &gt; \/proc\/sys\/vm\/drop_caches'\n+ \/usr\/bin\/time python slurp.py 2\n1.19user 3.09system 0:10.67elapsed 40%CPU (0avgtext+0avgdata 8012maxresident)k\n1233632inputs+0outputs (14major+52269minor)pagefaults 0swaps\n+ \/usr\/bin\/time perl slurp.pl 1\n1.36user 2.32system 0:13.40elapsed 27%CPU (0avgtext+0avgdata 9136maxresident)k\n1232032inputs+0outputs (17major+2465minor)pagefaults 0swaps\n<\/code><\/pre>\n\n<p>This has just confused me even further :-(<\/p>\n\n<p><strong>Physical Server (32 cores 132 GB RAM Disk RAID10 SAS)<\/strong><\/p>\n\n<pre><code>$ uname -a\nLinux servername 3.5.0-23-generic #35~precise1-Ubuntu SMP Fri Jan 25 17:13:26 UTC 2013 x86_64 x86_64 x86_64 GNU\/Linux\n$ python\nPython 2.7.3 (default, Aug  1 2012, 05:14:39)\n[GCC 4.6.3] on linux2\n$ perl -v\nThis is perl 5, version 14, subversion 2 (v5.14.2) built for x86_64-linux-gnu-thread-multi\n(with 55 registered patches, see perl -V for more detail)\n\n+ \/usr\/bin\/time perl slurp.pl 1\n2.22user 2.60system 0:15.78elapsed 30%CPU (0avgtext+0avgdata 43728maxresident)k\n1233264inputs+0outputs (15major+2984minor)pagefaults 0swaps\n+ clearcache\n+ sync\n+ sudo sh -c 'echo 3 &gt; \/proc\/sys\/vm\/drop_caches'\n+ \/usr\/bin\/time python slurp.py 1\n2.51user 4.79system 1:58.53elapsed 6%CPU (0avgtext+0avgdata 34256maxresident)k\n1234752inputs+0outputs (16major+52385minor)pagefaults 0swaps\n+ \/usr\/bin\/time perl slurp.pl 2\n2.17user 2.95system 0:06.96elapsed 73%CPU (0avgtext+0avgdata 43744maxresident)k\n1232008inputs+0outputs (14major+2987minor)pagefaults 0swaps\n<\/code><\/pre>\n\n<p>Here Perl seems to win every time.<\/p>\n\n<p><strong>baffled<\/strong><\/p>\n\n<p>Given the oddity on my local VM, when I swapped directories, which is the machine I have most control over I'm going to try a binary approach on all the possible options of running python vs perl using 1 or 2 as the data directory and try to run them multiple times for consistency but it'll take a while and I'm going a little crazy so break may be required first! All I want is consistency :-(<\/p>\n\n<p><strong>UPDATE 4 - Consistency<\/strong><\/p>\n\n<p>(Below is run on an ubuntu-14.04.1-server VM, Kernel is 3.13.0-35-generic #62-Ubuntu)<\/p>\n\n<p>I think I've found some consistency, running the tests every way possible for Python\/Perl slurp on data dir 1\/2 I found the following:<\/p>\n\n<ul>\n<li>Python is always slow on created files (i.e. created by dd)<\/li>\n<li>Python is always fast on copied files (i.e. created by cp -r)<\/li>\n<li>Perl is always fast on created files (i.e. created by dd)<\/li>\n<li>Perl is always slow on copied files (i.e. created by cp -r)<\/li>\n<\/ul>\n\n<p>So I looked at OS level copying and it seems like on Ubuntu 'cp' behaves in the same way as Python, i.e. slow on original files and fast on copied files.<\/p>\n\n<p>This is what I ran and the results, I did this a few times on a machine with a single SATA HD and on a RAID10 system, results:<\/p>\n\n<pre><code>$ mkdir 1\n$ cd 1\n$ for i in {1..50000}; do dd if=\/dev\/urandom of=$i.xml bs=1K count=10; done\n$ cd ..\n$ cp -r 1 2\n$ sync; sudo sh -c 'echo 3 &gt; \/proc\/sys\/vm\/drop_caches'\n$ time strace -f -c -o trace.copy2c cp -r 2 2copy\n    real    0m28.624s\n    user    0m1.429s\n    sys     0m27.558s\n$ sync; sudo sh -c 'echo 3 &gt; \/proc\/sys\/vm\/drop_caches'\n$ time strace -f -c -o trace.copy1c cp -r 1 1copy\n    real    5m21.166s\n    user    0m1.348s\n    sys     0m30.717s\n<\/code><\/pre>\n\n<p>Trace results show where time is being spent<\/p>\n\n<pre><code>$ head trace.copy1c trace.copy2c\n==&gt; trace.copy1c &lt;==\n% time     seconds  usecs\/call     calls    errors syscall\n------ ----------- ----------- --------- --------- ----------------\n 60.09    2.541250          25    100008           read\n 12.22    0.516799          10     50000           write\n  9.62    0.406904           4    100009           open\n  5.59    0.236274           2    100013           close\n  4.80    0.203114           4     50004         1 lstat\n  4.71    0.199211           2    100009           fstat\n  2.19    0.092662           2     50000           fadvise64\n  0.72    0.030418         608        50           getdents\n==&gt; trace.copy2c &lt;==\n% time     seconds  usecs\/call     calls    errors syscall\n------ ----------- ----------- --------- --------- ----------------\n 47.86    0.802376           8    100008           read\n 13.55    0.227108           5     50000           write\n 13.02    0.218312           2    100009           open\n  7.36    0.123364           1    100013           close\n  6.83    0.114589           1    100009           fstat\n  6.31    0.105742           2     50004         1 lstat\n  3.38    0.056634           1     50000           fadvise64\n  1.62    0.027191         544        50           getdents\n<\/code><\/pre>\n\n<p>So it seems copying copies is much faster than copying original files, my current guess is that when copied the files get aligned on disk better than when they were originally created making them more efficient to read?<\/p>\n\n<p>Interestingly 'rsyn' and 'cp' seem to work in opposite ways speedwise, much like Perl and Python!<\/p>\n\n<pre><code>$ rm -rf 1copy 2copy; sync; sudo sh -c 'echo 3 &gt; \/proc\/sys\/vm\/drop_caches'; echo \"Rsync 1\"; \/usr\/bin\/time rsync -a 1 1copy; sync; sudo sh -c 'echo 3 &gt; \/proc\/sys\/vm\/drop_caches'; echo \"Rsync 2\"; \/usr\/bin\/time rsync -a 2 2copy\nRsync 1\n    3.62user 3.76system 0:13.00elapsed 56%CPU (0avgtext+0avgdata 5072maxresident)k\n    1230600inputs+1200000outputs (13major+2684minor)pagefaults 0swaps\nRsync 2\n    4.87user 6.52system 5:06.24elapsed 3%CPU (0avgtext+0avgdata 5076maxresident)k\n    1231832inputs+1200000outputs (13major+2689minor)pagefaults 0swaps\n\n$ rm -rf 1copy 2copy; sync; sudo sh -c 'echo 3 &gt; \/proc\/sys\/vm\/drop_caches'; echo \"Copy 1\"; \/usr\/bin\/time cp -r 1 1copy; sync; sudo sh -c 'echo 3 &gt; \/proc\/sys\/vm\/drop_caches'; echo \"Copy 2\"; \/usr\/bin\/time cp -r 2 2copy\nCopy 1\n    0.48user 6.42system 5:05.30elapsed 2%CPU (0avgtext+0avgdata 1212maxresident)k\n    1229432inputs+1200000outputs (6major+415minor)pagefaults 0swaps\nCopy 2\n    0.33user 4.17system 0:11.13elapsed 40%CPU (0avgtext+0avgdata 1212maxresident)k\n    1230416inputs+1200000outputs (6major+414minor)pagefaults 0swaps\n<\/code><\/pre>\n","last_edit_date":1413188124.0,"protected_date":null,"closed_date":null,"closed_reason":null,"community_owned_date":null},{"tags":["perl","module","directory"],"owner":{"account_id":24323,"reputation":24669,"user_id":2533756,"user_type":"registered","accept_rate":100,"profile_image":"https:\/\/www.gravatar.com\/avatar\/4823eb250d0d12390cfa8939da4dae0f?s=256&d=identicon&r=PG","display_name":"aks","link":"https:\/\/stackoverflow.com\/users\/2533756\/aks"},"is_answered":true,"view_count":51387,"accepted_answer_id":728763.0,"answer_count":10,"score":62,"last_activity_date":1666127987,"creation_date":1239167826,"question_id":728597,"body_markdown":"I recently wrote a new Perl script to kill processes based on either process name \/ user name and extended it using Classes so that I could reuse the process code in other programs. My current layout is -\r\n\r\n    \/home\/mutew\/src\/prod\/pskill       &lt;-- Perl script\r\n    \/home\/mutew\/src\/prod\/Process.pm   &lt;-- Package to handle process descriptions\r\n\r\nI added ~\/src\/prod in my $PATH variable to access the script from anywhere. On running the script from any directory other than its resident directory leads to a &quot;Can&#39;t locate Process.pm in @INC&quot; (which is understandable given that other than the shared directories in \/usr, @INC includes only the current directory - &#39;.&#39;). One workaround that I have been using is the use lib directive as so -\r\n\r\n    use lib &#39;\/home\/mutew\/src\/prod&#39;;\r\n\r\nbut this is a major portability issue. Any solutions which will also allow me to export the script to other systems without and changes?\r\n\r\n------------------\r\n**EDIT**\r\n\r\n1. I chose &#39;depesz&#39; answer as the correct one because of its simplicity and core module usage.\r\n2. brian d foy&#39;s answer though suggests other methods to accomplish the same (TMTOWTDI), his contribution in perlfaq8 renders this question absolutely redundant. ","link":"https:\/\/stackoverflow.com\/questions\/728597\/how-can-my-perl-script-find-its-module-in-the-same-directory","title":"How can my Perl script find its module in the same directory?","body":"<p>I recently wrote a new Perl script to kill processes based on either process name \/ user name and extended it using Classes so that I could reuse the process code in other programs. My current layout is -<\/p>\n\n<pre><code>\/home\/mutew\/src\/prod\/pskill       &lt;-- Perl script\n\/home\/mutew\/src\/prod\/Process.pm   &lt;-- Package to handle process descriptions\n<\/code><\/pre>\n\n<p>I added ~\/src\/prod in my $PATH variable to access the script from anywhere. On running the script from any directory other than its resident directory leads to a \"Can't locate Process.pm in @INC\" (which is understandable given that other than the shared directories in \/usr, @INC includes only the current directory - '.'). One workaround that I have been using is the use lib directive as so -<\/p>\n\n<pre><code>use lib '\/home\/mutew\/src\/prod';\n<\/code><\/pre>\n\n<p>but this is a major portability issue. Any solutions which will also allow me to export the script to other systems without and changes?<\/p>\n\n<hr>\n\n<p><strong>EDIT<\/strong><\/p>\n\n<ol>\n<li>I chose 'depesz' answer as the correct one because of its simplicity and core module usage.<\/li>\n<li>brian d foy's answer though suggests other methods to accomplish the same (TMTOWTDI), his contribution in perlfaq8 renders this question absolutely redundant. <\/li>\n<\/ol>\n","last_edit_date":1318207170.0,"protected_date":null,"closed_date":null,"closed_reason":null,"community_owned_date":null},{"tags":["regex","perl"],"owner":{"account_id":692024,"reputation":621,"user_id":565625,"user_type":"unregistered","profile_image":"https:\/\/www.gravatar.com\/avatar\/c5fa19bbf97d89e7c53fb1f936829abc?s=256&d=identicon&r=PG","display_name":"Stefan","link":"https:\/\/stackoverflow.com\/users\/565625\/stefan"},"is_answered":true,"view_count":159979,"accepted_answer_id":null,"answer_count":3,"score":62,"last_activity_date":1617801908,"creation_date":1294326827,"question_id":4616395,"body_markdown":"    $text_to_search = &quot;example text with [foo] and more&quot;;\r\n    $search_string = &quot;[foo]&quot;;\r\n\r\n    if ($text_to_search =~ m\/$search_string\/)\r\n        print &quot;wee&quot;;\r\n\r\nPlease observe the above code. For some reason I would like to find the text &quot;[foo]&quot; in the $text_to_search variable and print &quot;wee&quot; if I find it. To do this I would have to ensure that the [ and ] is substituted with \\[ and \\] to make Perl treat it as characters instead of operators.\r\n\r\nHow can I do this without having to first replace `[` and `]` with `\\[` and `\\]` using a `s\/\/\/` expression?\r\n\r\n","link":"https:\/\/stackoverflow.com\/questions\/4616395\/how-can-i-use-a-variable-for-a-regex-pattern-without-interpreting-meta-character","title":"How can I use a variable for a regex pattern without interpreting meta characters?","body":"<pre><code>$text_to_search = \"example text with [foo] and more\";\n$search_string = \"[foo]\";\n\nif ($text_to_search =~ m\/$search_string\/)\n    print \"wee\";\n<\/code><\/pre>\n\n<p>Please observe the above code. For some reason I would like to find the text \"[foo]\" in the $text_to_search variable and print \"wee\" if I find it. To do this I would have to ensure that the [ and ] is substituted with [ and ] to make Perl treat it as characters instead of operators.<\/p>\n\n<p>How can I do this without having to first replace <code>[<\/code> and <code>]<\/code> with <code>\\[<\/code> and <code>\\]<\/code> using a <code>s\/\/\/<\/code> expression?<\/p>\n","last_edit_date":1617801908.0,"protected_date":null,"closed_date":null,"closed_reason":null,"community_owned_date":null},{"tags":["perl","module","require"],"owner":{"account_id":368,"reputation":44365,"user_id":459,"user_type":"registered","accept_rate":81,"profile_image":"https:\/\/www.gravatar.com\/avatar\/0db193fbf6f0929c49dd9704698204ff?s=256&d=identicon&r=PG","display_name":"dlamblin","link":"https:\/\/stackoverflow.com\/users\/459\/dlamblin"},"is_answered":true,"view_count":31625,"accepted_answer_id":251786.0,"answer_count":8,"score":62,"last_activity_date":1611301439,"creation_date":1225399318,"question_id":251694,"body_markdown":"I have Perl code which relies on `Term::ReadKey` to get the terminal width. My installation is missing this module, so I want to provide a default if the module isn&#39;t present rather than throw an exception.\r\n\r\nHow can I conditionally use an optional module, without knowing ahead of time whether it is available.\r\n\r\n    # but only if the module is installed and exists\r\n    use Term::ReadKey;\r\n    ...\r\n\r\nHow can I accomplish this?","link":"https:\/\/stackoverflow.com\/questions\/251694\/how-can-i-require-an-optional-perl-module-if-installed","title":"How can I require an optional Perl module if installed?","body":"<p>I have Perl code which relies on <code>Term::ReadKey<\/code> to get the terminal width. My installation is missing this module, so I want to provide a default if the module isn't present rather than throw an exception.<\/p>\n<p>How can I conditionally use an optional module, without knowing ahead of time whether it is available.<\/p>\n<pre><code># but only if the module is installed and exists\nuse Term::ReadKey;\n...\n<\/code><\/pre>\n<p>How can I accomplish this?<\/p>\n","last_edit_date":1605837122.0,"protected_date":null,"closed_date":null,"closed_reason":null,"community_owned_date":null},{"tags":["perl","smartmatch"],"owner":{"account_id":42701,"reputation":1,"user_id":124486,"user_type":"registered","accept_rate":46,"profile_image":"https:\/\/www.gravatar.com\/avatar\/605442f85418d858e2ce1e1aea2092bb?s=256&d=identicon&r=PG","display_name":"Evan Carroll","link":"https:\/\/stackoverflow.com\/users\/124486\/evan-carroll"},"is_answered":true,"view_count":13701,"accepted_answer_id":null,"answer_count":3,"score":62,"last_activity_date":1694527655,"creation_date":1370378244,"question_id":16927024,"body_markdown":"I just installed Perl 5.18, and I get a lot of warnings like this,\r\n\r\n    given is experimental at .\\[...].pl line [...].\r\n    when is experimental at .\\[...].pl line [...].\r\n    Smartmatch is experimental at C:\/strawberry\/perl\/site\/lib\/[...] line [...].\r\n\r\nLooking into these warnings -- which I&#39;ve never heard mentioned anywhere -- I was only able to find this in two places,\r\n\r\n* [perldelta for 5.18](https:\/\/metacpan.org\/module\/RJBS\/perl-5.18.0\/pod\/perldelta.pod), which only really mentions insofar as to say that the feature has been downgraded to *experimental*?\r\n* [this nntp.perl.org post](http:\/\/www.nntp.perl.org\/group\/perl.perl5.porters\/2013\/03\/msg200559.html)\r\n\r\nThe Perl Delta still does the most to give mention as to what&#39;s happening with those features. It&#39;s halfway down buried in the pod,\r\n\r\n&gt; Smart match, added in v5.10.0 and significantly revised in v5.10.1, has been a regular point of complaint. Although there are a number of ways in which it is useful, it has also proven problematic and confusing for both users and implementors of Perl. There have been a number of proposals on how to best address the problem. It is clear that smartmatch is almost certainly either going to change or go away in the future. Relying on its current behavior is not recommended. Warnings will now be issued when the parser sees ~~, given, or when.\r\n\r\nI&#39;m confused at how the most significant change in Perl in the past 10 years could be pulled. I&#39;ve started using `given`, `when`, and `smartmatch` all over the place. Is there any more information about these futures? How is anyone finding them &quot;confusing?&quot; How are these features likely to change? Is there a plan to implement these features with a module?\r\n\r\n\r\n","link":"https:\/\/stackoverflow.com\/questions\/16927024\/perl-5-20-and-the-fate-of-smart-matching-and-given-when","title":"Perl 5.20 and the fate of smart matching and given-when","body":"<p>I just installed Perl 5.18, and I get a lot of warnings like this,<\/p>\n<pre><code>given is experimental at .\\[...].pl line [...].\nwhen is experimental at .\\[...].pl line [...].\nSmartmatch is experimental at C:\/strawberry\/perl\/site\/lib\/[...] line [...].\n<\/code><\/pre>\n<p>Looking into these warnings -- which I've never heard mentioned anywhere -- I was only able to find this in two places,<\/p>\n<ul>\n<li><a href=\"https:\/\/metacpan.org\/module\/RJBS\/perl-5.18.0\/pod\/perldelta.pod\" rel=\"nofollow noreferrer\">perldelta for 5.18<\/a>, which only really mentions insofar as to say that the feature has been downgraded to <em>experimental<\/em>?<\/li>\n<li><a href=\"http:\/\/www.nntp.perl.org\/group\/perl.perl5.porters\/2013\/03\/msg200559.html\" rel=\"nofollow noreferrer\">this nntp.perl.org post<\/a><\/li>\n<\/ul>\n<p>The Perl Delta still does the most to give mention as to what's happening with those features. It's halfway down buried in the pod,<\/p>\n<blockquote>\n<p>Smart match, added in v5.10.0 and significantly revised in v5.10.1, has been a regular point of complaint. Although there are a number of ways in which it is useful, it has also proven problematic and confusing for both users and implementors of Perl. There have been a number of proposals on how to best address the problem. It is clear that smartmatch is almost certainly either going to change or go away in the future. Relying on its current behavior is not recommended. Warnings will now be issued when the parser sees ~~, given, or when.<\/p>\n<\/blockquote>\n<p>I'm confused at how the most significant change in Perl in the past 10 years could be pulled. I've started using <code>given<\/code>, <code>when<\/code>, and <code>smartmatch<\/code> all over the place. Is there any more information about these futures? How is anyone finding them &quot;confusing?&quot; How are these features likely to change? Is there a plan to implement these features with a module?<\/p>\n","last_edit_date":1605746503.0,"protected_date":null,"closed_date":null,"closed_reason":null,"community_owned_date":null},{"tags":["perl","error-handling","carp"],"owner":{"account_id":430743,"reputation":2066,"user_id":968218,"user_type":"registered","accept_rate":100,"profile_image":"https:\/\/i.stack.imgur.com\/06geY.jpg?s=256&g=1","display_name":"SineSwiper","link":"https:\/\/stackoverflow.com\/users\/968218\/sineswiper"},"is_answered":true,"view_count":31762,"accepted_answer_id":7618022.0,"answer_count":2,"score":61,"last_activity_date":1596974435,"creation_date":1317437568,"question_id":7617852,"body_markdown":"I haven&#39;t used Carp all that much because I&#39;ve generally rolled my own.  However, in the spirit of keeping with Core modules, I&#39;m using it now.  However, it seems like it&#39;s barely better than warn\/die.\r\n\r\nFurthermore, what does cluck\/confess\/verbose even do?  I&#39;ve ran this short script to get an idea of the output looks like (because the Carp docs don&#39;t do it).  It looks exactly the same on any run (besides the random strings).\r\n\r\n      #!\/usr\/bin\/perl\r\n\r\n      package Warning;\r\n\r\n      sub warning {\r\n        warn &quot;warn&quot;;\r\n      }\r\n\r\n      package CWarn;\r\n      use Carp qw(carp cluck);\r\n\r\n      sub cwarn {\r\n        int(rand(2)) ? carp &quot;carp&quot; : cluck &quot;cluck&quot;;\r\n      }\r\n\r\n      package Fatal;\r\n      use Carp qw(confess croak);\r\n\r\n      sub fatal {\r\n        int(rand(2)) ? confess &quot;confess&quot; : croak &quot;croak&quot;;\r\n      }\r\n\r\n      package Loop;\r\n\r\n      use v5.10;\r\n\r\n      sub loop {\r\n        say &#39;=&#39; x 80;\r\n        Warning::warning();\r\n        CWarn::cwarn();\r\n        loop() unless ($c++ &gt; 10);\r\n        Fatal::fatal();\r\n      }\r\n\r\n      package main;\r\n\r\n      Warning::warning();\r\n      CWarn::cwarn();\r\n      Loop::loop();\r\n\r\n**UPDATE:** Updated the script with package names and it does make a difference.  However, Carp still seems to be very basic in terms of logging information, and it doesn&#39;t support web output.  I guess I&#39;ll look at other ones like CGI::Carp, Log::Output, and Log::Log4Perl.","link":"https:\/\/stackoverflow.com\/questions\/7617852\/whats-the-difference-between-carp-croak-cluck-confess-and-verbose-options","title":"What&#39;s the difference between Carp\/Croak, Cluck\/Confess, and verbose options?","body":"<p>I haven't used Carp all that much because I've generally rolled my own.  However, in the spirit of keeping with Core modules, I'm using it now.  However, it seems like it's barely better than warn\/die.<\/p>\n\n<p>Furthermore, what does cluck\/confess\/verbose even do?  I've ran this short script to get an idea of the output looks like (because the Carp docs don't do it).  It looks exactly the same on any run (besides the random strings).<\/p>\n\n<pre><code>  #!\/usr\/bin\/perl\n\n  package Warning;\n\n  sub warning {\n    warn \"warn\";\n  }\n\n  package CWarn;\n  use Carp qw(carp cluck);\n\n  sub cwarn {\n    int(rand(2)) ? carp \"carp\" : cluck \"cluck\";\n  }\n\n  package Fatal;\n  use Carp qw(confess croak);\n\n  sub fatal {\n    int(rand(2)) ? confess \"confess\" : croak \"croak\";\n  }\n\n  package Loop;\n\n  use v5.10;\n\n  sub loop {\n    say '=' x 80;\n    Warning::warning();\n    CWarn::cwarn();\n    loop() unless ($c++ &gt; 10);\n    Fatal::fatal();\n  }\n\n  package main;\n\n  Warning::warning();\n  CWarn::cwarn();\n  Loop::loop();\n<\/code><\/pre>\n\n<p><strong>UPDATE:<\/strong> Updated the script with package names and it does make a difference.  However, Carp still seems to be very basic in terms of logging information, and it doesn't support web output.  I guess I'll look at other ones like CGI::Carp, Log::Output, and Log::Log4Perl.<\/p>\n","last_edit_date":1365430456.0,"protected_date":null,"closed_date":null,"closed_reason":null,"community_owned_date":null},{"tags":["linux","perl","startup","daemon","shutdown"],"owner":{"account_id":22131,"reputation":814,"user_id":54322,"user_type":"registered","profile_image":"https:\/\/www.gravatar.com\/avatar\/2510cd28defac098651b6cc14ce312fb?s=256&d=identicon&r=PG","display_name":"jedihawk","link":"https:\/\/stackoverflow.com\/users\/54322\/jedihawk"},"is_answered":true,"view_count":72174,"accepted_answer_id":766412.0,"answer_count":4,"score":61,"last_activity_date":1591615427,"creation_date":1240184159,"question_id":766397,"body_markdown":"What&#39;s a simple way to get a Perl script to run as a daemon in linux?\r\n\r\nCurrently, this is on CentOS. I&#39;d want it to start up with the system and shutdown with the system, so some `\/etc\/rc.d\/init.d` integration would also be nice, but I could always add a custom line to `\/etc\/rc.d\/rc.local`.\r\n","link":"https:\/\/stackoverflow.com\/questions\/766397\/how-can-i-run-a-perl-script-as-a-system-daemon-in-linux","title":"How can I run a Perl script as a system daemon in linux?","body":"<p>What's a simple way to get a Perl script to run as a daemon in linux?<\/p>\n\n<p>Currently, this is on CentOS. I'd want it to start up with the system and shutdown with the system, so some <code>\/etc\/rc.d\/init.d<\/code> integration would also be nice, but I could always add a custom line to <code>\/etc\/rc.d\/rc.local<\/code>.<\/p>\n","last_edit_date":1240248199.0,"protected_date":null,"closed_date":null,"closed_reason":null,"community_owned_date":null},{"tags":["perl"],"owner":{"account_id":2754828,"reputation":3825,"user_id":2373239,"user_type":"registered","accept_rate":97,"profile_image":"https:\/\/www.gravatar.com\/avatar\/24b418bfaf5c8832b1861f8e6c11ead2?s=256&d=identicon&r=PG","display_name":"Aristides","link":"https:\/\/stackoverflow.com\/users\/2373239\/aristides"},"is_answered":true,"view_count":102745,"accepted_answer_id":19234780.0,"answer_count":7,"score":60,"last_activity_date":1659101391,"creation_date":1381178010,"question_id":19234209,"body_markdown":"I have been reading about Perl recently and am slightly perplexed about how Perl handles arguments passed to subroutines.\r\n\r\nIn a language like Python, Java or PHP, a function definition takes the form (in pseudocode):\r\n\r\n```lang-php\r\nfunction myFunc(arg1, arg2) {\r\n    \/\/ Do something with arg1 and arg2 here\r\n}\r\n```\r\n\r\nYet in Perl it&#39;s just:\r\n\r\n    sub mySub {\r\n        # @_ holds all arguments passed\r\n    }\r\n\r\nAnd as I understand it, that&#39;s the only way to do it.\r\n\r\n- What if I want to restrict the caller to only pass two arguments?\r\n\r\n- Isn&#39;t this just Perl not allowing anything but variable-number arguments in other languages (i.e., Python, C, etc.)?\r\n\r\n- Wouldn&#39;t that become a problem at some point?\r\n\r\n- What about all the default argument-number checking in other languages? Would one have to do that explicitly in Perl? For instance\r\n\r\n        sub a_sub {\r\n            if (@_ == 2) {\r\n                # Continue function\r\n            }\r\n            else {\r\n                return false\r\n            }\r\n        }\r\n\r\n\r\n","link":"https:\/\/stackoverflow.com\/questions\/19234209\/perl-subroutine-arguments","title":"Perl subroutine arguments","body":"<p>I have been reading about Perl recently and am slightly perplexed about how Perl handles arguments passed to subroutines.<\/p>\n<p>In a language like Python, Java or PHP, a function definition takes the form (in pseudocode):<\/p>\n<pre class=\"lang-php prettyprint-override\"><code>function myFunc(arg1, arg2) {\n    \/\/ Do something with arg1 and arg2 here\n}\n<\/code><\/pre>\n<p>Yet in Perl it's just:<\/p>\n<pre><code>sub mySub {\n    # @_ holds all arguments passed\n}\n<\/code><\/pre>\n<p>And as I understand it, that's the only way to do it.<\/p>\n<ul>\n<li><p>What if I want to restrict the caller to only pass two arguments?<\/p>\n<\/li>\n<li><p>Isn't this just Perl not allowing anything but variable-number arguments in other languages (i.e., Python, C, etc.)?<\/p>\n<\/li>\n<li><p>Wouldn't that become a problem at some point?<\/p>\n<\/li>\n<li><p>What about all the default argument-number checking in other languages? Would one have to do that explicitly in Perl? For instance<\/p>\n<pre><code>  sub a_sub {\n      if (@_ == 2) {\n          # Continue function\n      }\n      else {\n          return false\n      }\n  }\n<\/code><\/pre>\n<\/li>\n<\/ul>\n","last_edit_date":1619021592.0,"protected_date":null,"closed_date":null,"closed_reason":null,"community_owned_date":null},{"tags":["python","perl","warnings","strict"],"owner":{"account_id":1921816,"reputation":1403,"user_id":1749071,"user_type":"registered","accept_rate":100,"profile_image":"https:\/\/i.stack.imgur.com\/ZI5Qp.jpg?s=256&g=1","display_name":"jon_shep","link":"https:\/\/stackoverflow.com\/users\/1749071\/jon-shep"},"is_answered":true,"view_count":28247,"accepted_answer_id":13473229.0,"answer_count":6,"score":60,"last_activity_date":1575995327,"creation_date":1353106911,"question_id":13425715,"body_markdown":"I am learning perl and python... at the same time, not my by design but it has to be done.\r\n\r\nQuestion:\r\n\r\nIn a perl script I use(see below) at the head of my txt.\r\n\r\n    #!\/usr\/bin\/env perl\r\n\r\n    use strict;\r\n    use warnings;\r\n\r\nIs there something I should be doing on routine for my python scripts?\r\n","link":"https:\/\/stackoverflow.com\/questions\/13425715\/does-python-have-a-use-strict-and-use-warnings-like-in-perl","title":"Does python have a &quot;use strict;&quot; and &quot;use warnings;&quot; like in perl?","body":"<p>I am learning perl and python... at the same time, not my by design but it has to be done.<\/p>\n\n<p>Question:<\/p>\n\n<p>In a perl script I use(see below) at the head of my txt.<\/p>\n\n<pre><code>#!\/usr\/bin\/env perl\n\nuse strict;\nuse warnings;\n<\/code><\/pre>\n\n<p>Is there something I should be doing on routine for my python scripts?<\/p>\n","last_edit_date":1360864068.0,"protected_date":null,"closed_date":null,"closed_reason":null,"community_owned_date":null},{"tags":["regex","perl","substitution"],"owner":{"account_id":1591,"reputation":28853,"user_id":2133,"user_type":"registered","accept_rate":74,"profile_image":"https:\/\/www.gravatar.com\/avatar\/0376be4f8d77c98f68160e84b4015519?s=256&d=identicon&r=PG","display_name":"Manu","link":"https:\/\/stackoverflow.com\/users\/2133\/manu"},"is_answered":true,"view_count":115207,"accepted_answer_id":392717.0,"answer_count":9,"score":60,"last_activity_date":1619518860,"creation_date":1230194861,"question_id":392643,"body_markdown":"I would like to do the following:\r\n\r\n    $find = &quot;start (.*) end&quot;;\r\n    $replace = &quot;foo \\1 bar&quot;;\r\n\r\n    $var = &quot;start middle end&quot;;\r\n    $var =~ s\/$find\/$replace\/;\r\n\r\nI would expect $var to contain &quot;foo middle bar&quot;, but it does not work. Neither does:\r\n\r\n    $replace = &#39;foo \\1 bar&#39;;\r\n\r\nSomehow I am missing something regarding the escaping.\r\n\r\n","link":"https:\/\/stackoverflow.com\/questions\/392643\/how-can-i-use-a-variable-in-the-replacement-side-of-the-perl-substitution-operat","title":"How can I use a variable in the replacement side of the Perl substitution operator?","body":"<p>I would like to do the following:<\/p>\n<pre><code>$find = &quot;start (.*) end&quot;;\n$replace = &quot;foo \\1 bar&quot;;\n\n$var = &quot;start middle end&quot;;\n$var =~ s\/$find\/$replace\/;\n<\/code><\/pre>\n<p>I would expect $var to contain &quot;foo middle bar&quot;, but it does not work. Neither does:<\/p>\n<pre><code>$replace = 'foo \\1 bar';\n<\/code><\/pre>\n<p>Somehow I am missing something regarding the escaping.<\/p>\n","last_edit_date":1619518860.0,"protected_date":null,"closed_date":null,"closed_reason":null,"community_owned_date":null},{"tags":["perl"],"owner":{"account_id":23567,"reputation":26767,"user_id":59135,"user_type":"registered","accept_rate":94,"profile_image":"https:\/\/www.gravatar.com\/avatar\/90c563665ec03a1b9e80671bb95deeed?s=256&d=identicon&r=PG","display_name":"daotoad","link":"https:\/\/stackoverflow.com\/users\/59135\/daotoad"},"is_answered":true,"view_count":35922,"accepted_answer_id":2181778.0,"answer_count":4,"score":60,"last_activity_date":1549292393,"creation_date":1265063455,"question_id":2180554,"body_markdown":"[Another question][1] got me thinking about different methods of code reuse: `use` vs. `require` vs. `do`\r\n\r\nI see a lot of posts here where the question centers around the use of `require` to load and execute code.  This seems to me to be an obvious bad practice, but I haven&#39;t found any good resources on the issue that I can point people to.\r\n\r\n[perlfaq8][2] covers the difference between `use` and `require`, but it doesn&#39;t offer any advice in regard to preference (as of 5.10--in [5.8.8 there is a quick bit of advice in favor of use][3]).\r\n\r\nThis topic seems to suffer from a lack of discussion.  I have a few questions I&#39;d like to see discussed:\r\n\r\n1.  What is the preferred method of code reuse in Perl?\r\n    * `use ModuleName;`\r\n    * `require ModuleName;`\r\n    * `require &#39;file.pl&#39;;`\r\n    * `do &#39;file.pl&#39;;`\r\n2.  What is the difference between `require ModuleName` and `require &quot;file.pl&quot;`?\r\n3.  Is it ever a good idea to use `require &quot;file.pl&quot;`?  Why or why not?\r\n\r\n\r\n\r\n  [1]: https:\/\/stackoverflow.com\/questions\/2178871\/is-there-anything-wrong-with-using-requires-after-output-starts-printing\r\n  [2]: http:\/\/perldoc.perl.org\/perlfaq8.html#What%27s-the-difference-between-require-and-use?\r\n  [3]: http:\/\/perldoc.perl.org\/5.8.8\/perlfaq8.html#What%27s-the-difference-between-require-and-use?","link":"https:\/\/stackoverflow.com\/questions\/2180554\/in-perl-is-it-better-to-use-a-module-than-to-require-a-file","title":"In Perl, is it better to use a module than to require a file?","body":"<p><a href=\"https:\/\/stackoverflow.com\/questions\/2178871\/is-there-anything-wrong-with-using-requires-after-output-starts-printing\">Another question<\/a> got me thinking about different methods of code reuse: <code>use<\/code> vs. <code>require<\/code> vs. <code>do<\/code><\/p>\n\n<p>I see a lot of posts here where the question centers around the use of <code>require<\/code> to load and execute code.  This seems to me to be an obvious bad practice, but I haven't found any good resources on the issue that I can point people to.<\/p>\n\n<p><a href=\"http:\/\/perldoc.perl.org\/perlfaq8.html#What%27s-the-difference-between-require-and-use?\" rel=\"noreferrer\">perlfaq8<\/a> covers the difference between <code>use<\/code> and <code>require<\/code>, but it doesn't offer any advice in regard to preference (as of 5.10--in <a href=\"http:\/\/perldoc.perl.org\/5.8.8\/perlfaq8.html#What%27s-the-difference-between-require-and-use?\" rel=\"noreferrer\">5.8.8 there is a quick bit of advice in favor of use<\/a>).<\/p>\n\n<p>This topic seems to suffer from a lack of discussion.  I have a few questions I'd like to see discussed:<\/p>\n\n<ol>\n<li>What is the preferred method of code reuse in Perl?\n\n<ul>\n<li><code>use ModuleName;<\/code><\/li>\n<li><code>require ModuleName;<\/code><\/li>\n<li><code>require 'file.pl';<\/code><\/li>\n<li><code>do 'file.pl';<\/code><\/li>\n<\/ul><\/li>\n<li>What is the difference between <code>require ModuleName<\/code> and <code>require \"file.pl\"<\/code>?<\/li>\n<li>Is it ever a good idea to use <code>require \"file.pl\"<\/code>?  Why or why not?<\/li>\n<\/ol>\n","last_edit_date":1495540493.0,"protected_date":null,"closed_date":null,"closed_reason":null,"community_owned_date":1265063455.0},{"tags":["xml","perl","xml-simple"],"owner":{"account_id":3026251,"reputation":53072,"user_id":2566198,"user_type":"registered","accept_rate":67,"profile_image":"https:\/\/i.stack.imgur.com\/Y34ZA.jpg?s=256&g=1","display_name":"Sobrique","link":"https:\/\/stackoverflow.com\/users\/2566198\/sobrique"},"is_answered":true,"view_count":13504,"accepted_answer_id":33267766.0,"answer_count":3,"score":60,"last_activity_date":1586792379,"creation_date":1445456203,"question_id":33267765,"body_markdown":"From the documentation of [`XML::Simple`][1]:\n\n&gt; The use of this module in new code is discouraged. Other modules are available which provide more straightforward and consistent interfaces. In particular, XML::LibXML is highly recommended.\n&gt;\n&gt;The major problems with this module are the large number of options and the arbitrary ways in which these options interact - often with unexpected results.\n\nCan someone clarify for me what the key reasons for this are? \n\n  [1]: https:\/\/metacpan.org\/pod\/XML::Simple#STATUS-OF-THIS-MODULE\n","link":"https:\/\/stackoverflow.com\/questions\/33267765\/why-is-xmlsimple-discouraged","title":"Why is XML::Simple Discouraged?","body":"<p>From the documentation of <a href=\"https:\/\/metacpan.org\/pod\/XML::Simple#STATUS-OF-THIS-MODULE\" rel=\"noreferrer\"><code>XML::Simple<\/code><\/a>:<\/p>\n<blockquote>\n<p>The use of this module in new code is discouraged. Other modules are available which provide more straightforward and consistent interfaces. In particular, XML::LibXML is highly recommended.<\/p>\n<p>The major problems with this module are the large number of options and the arbitrary ways in which these options interact - often with unexpected results.<\/p>\n<\/blockquote>\n<p>Can someone clarify for me what the key reasons for this are?<\/p>\n","last_edit_date":1592644375.0,"protected_date":null,"closed_date":null,"closed_reason":null,"community_owned_date":null},{"tags":["perl","line-breaks"],"owner":{"account_id":8569,"reputation":12752,"user_id":15514,"user_type":"registered","accept_rate":95,"profile_image":"https:\/\/www.gravatar.com\/avatar\/b8aa7d47b0539ae01c7e5d6c215ed339?s=256&d=identicon&r=PG","display_name":"Christoffer","link":"https:\/\/stackoverflow.com\/users\/15514\/christoffer"},"is_answered":true,"view_count":128895,"accepted_answer_id":882136.0,"answer_count":7,"score":59,"last_activity_date":1490684767,"creation_date":1242725055,"question_id":881779,"body_markdown":"I&#39;m maintaining a script that can get its input from various sources, and works on it per line. Depending on the actual source used, linebreaks might be Unix-style, Windows-style or even, for some aggregated input, mixed(!).\r\n\r\nWhen reading from a file it goes something like this:\r\n\r\n    @lines = &lt;IN&gt;;\r\n    process(\\@lines);\r\n\r\n    ...\r\n\r\n    sub process {\r\n        @lines = shift;\r\n        foreach my $line (@{$lines}) {\r\n            chomp $line;\r\n            #Handle line by line\r\n        }\r\n    }\r\n\r\n\r\nSo, what I need to do is replace the chomp with something that removes either Unix-style or Windows-style linebreaks.\r\nI&#39;m coming up with way too many ways of solving this, one of the usual drawbacks of Perl :)\r\n\r\nWhat&#39;s your opinion on the neatest way to chomp off generic linebreaks? What would be the most efficient?\r\n\r\nEdit: A small clarification - the method &#39;process&#39; gets a list of lines from somewhere, _not nessecarily read from a file_. Each line might have\r\n\r\n- No trailing linebreaks\r\n- Unix-style linebreaks\r\n- Windows-style linebreaks\r\n- Just Carriage-Return (when original data has Windows-style linebreaks and is read with $\/ = &#39;\\n&#39;)\r\n- An aggregated set where lines have different styles\r\n","link":"https:\/\/stackoverflow.com\/questions\/881779\/neatest-way-to-remove-linebreaks-in-perl","title":"Neatest way to remove linebreaks in Perl","body":"<p>I'm maintaining a script that can get its input from various sources, and works on it per line. Depending on the actual source used, linebreaks might be Unix-style, Windows-style or even, for some aggregated input, mixed(!).<\/p>\n\n<p>When reading from a file it goes something like this:<\/p>\n\n<pre><code>@lines = &lt;IN&gt;;\nprocess(\\@lines);\n\n...\n\nsub process {\n    @lines = shift;\n    foreach my $line (@{$lines}) {\n        chomp $line;\n        #Handle line by line\n    }\n}\n<\/code><\/pre>\n\n<p>So, what I need to do is replace the chomp with something that removes either Unix-style or Windows-style linebreaks.\nI'm coming up with way too many ways of solving this, one of the usual drawbacks of Perl :)<\/p>\n\n<p>What's your opinion on the neatest way to chomp off generic linebreaks? What would be the most efficient?<\/p>\n\n<p>Edit: A small clarification - the method 'process' gets a list of lines from somewhere, <em>not nessecarily read from a file<\/em>. Each line might have<\/p>\n\n<ul>\n<li>No trailing linebreaks<\/li>\n<li>Unix-style linebreaks<\/li>\n<li>Windows-style linebreaks<\/li>\n<li>Just Carriage-Return (when original data has Windows-style linebreaks and is read with $\/ = '\\n')<\/li>\n<li>An aggregated set where lines have different styles<\/li>\n<\/ul>\n","last_edit_date":1242806543.0,"protected_date":null,"closed_date":null,"closed_reason":null,"community_owned_date":null},{"tags":["macos","perl","bash","command-line-interface","env"],"owner":{"account_id":1368618,"reputation":3204,"user_id":1304462,"user_type":"registered","accept_rate":88,"profile_image":"https:\/\/www.gravatar.com\/avatar\/8e6bbe536db7b638e0c0d9ba065d9c82?s=256&d=identicon&r=PG","display_name":"Nick","link":"https:\/\/stackoverflow.com\/users\/1304462\/nick"},"is_answered":true,"view_count":45284,"accepted_answer_id":9952742.0,"answer_count":6,"score":59,"last_activity_date":1672392880,"creation_date":1333162508,"question_id":9952612,"body_markdown":"I&#39;m trying to run this script on Mac OS 10.7 (Lion) and I&#39;m getting the error:\r\n\r\n    $ bbcolors\r\n    -bash: \/usr\/local\/bin\/bbcolors: \/usr\/bin\/env: bad interpreter: Operation not permitted\r\n\r\nI&#39;ve successfully run this script on other Macs of mine. It&#39;s just [this script][1] downloaded and unmodified from Daring Fireball.\r\n\r\nI found [this person][2] with a very similar problem but the accepted answer was that the filesystem had a &#39;noexe&#39; option on mount.  I&#39;m pretty sure that&#39;s not the case for me because I&#39;ve just got it in \/usr\/local\/bin\/ and other stuff in there works fine (it also doesn&#39;t run from other places or as other users including root).\r\n\r\n    $ which bbcolors\r\n    \/usr\/local\/bin\/bbcolors\r\n    $ ls -l \/usr\/local\/bin\/bbcolors \r\n    -rwxr-xr-x@ 1 nick  staff  9751 Mar 30 19:09 \/usr\/local\/bin\/bbcolors\r\n\r\nIt&#39;s a Perl script not a compiled binary, not that that should matter.  Here&#39;s some extra info for what it&#39;s worth:\r\n\r\n    $ cat \/usr\/local\/bin\/bbcolors |head -n 1\r\n    #!\/usr\/bin\/env perl\r\n    $ which perl\r\n    \/usr\/bin\/perl\r\n    $ env | grep PATH\r\n    PATH=\/usr\/bin:\/bin:\/usr\/sbin:\/sbin:\/usr\/local\/bin:\/usr\/X11\/bin\r\n\r\n\r\n  [1]: http:\/\/daringfireball.net\/projects\/bbcolors\/\r\n  [2]: https:\/\/stackoverflow.com\/questions\/9501063\/sysroot-sh-operation-not-permitted","link":"https:\/\/stackoverflow.com\/questions\/9952612\/mac-os-usr-bin-env-bad-interpreter-operation-not-permitted","title":"Mac OS: \/usr\/bin\/env: bad interpreter: Operation not permitted","body":"<p>I'm trying to run this script on Mac OS 10.7 (Lion) and I'm getting the error:<\/p>\n\n<pre><code>$ bbcolors\n-bash: \/usr\/local\/bin\/bbcolors: \/usr\/bin\/env: bad interpreter: Operation not permitted\n<\/code><\/pre>\n\n<p>I've successfully run this script on other Macs of mine. It's just <a href=\"http:\/\/daringfireball.net\/projects\/bbcolors\/\" rel=\"noreferrer\">this script<\/a> downloaded and unmodified from Daring Fireball.<\/p>\n\n<p>I found <a href=\"https:\/\/stackoverflow.com\/questions\/9501063\/sysroot-sh-operation-not-permitted\">this person<\/a> with a very similar problem but the accepted answer was that the filesystem had a 'noexe' option on mount.  I'm pretty sure that's not the case for me because I've just got it in \/usr\/local\/bin\/ and other stuff in there works fine (it also doesn't run from other places or as other users including root).<\/p>\n\n<pre><code>$ which bbcolors\n\/usr\/local\/bin\/bbcolors\n$ ls -l \/usr\/local\/bin\/bbcolors \n-rwxr-xr-x@ 1 nick  staff  9751 Mar 30 19:09 \/usr\/local\/bin\/bbcolors\n<\/code><\/pre>\n\n<p>It's a Perl script not a compiled binary, not that that should matter.  Here's some extra info for what it's worth:<\/p>\n\n<pre><code>$ cat \/usr\/local\/bin\/bbcolors |head -n 1\n#!\/usr\/bin\/env perl\n$ which perl\n\/usr\/bin\/perl\n$ env | grep PATH\nPATH=\/usr\/bin:\/bin:\/usr\/sbin:\/sbin:\/usr\/local\/bin:\/usr\/X11\/bin\n<\/code><\/pre>\n","last_edit_date":1495539933.0,"protected_date":null,"closed_date":null,"closed_reason":null,"community_owned_date":null},{"tags":["php",".net","regex","perl","pcre"],"owner":{"account_id":37482,"reputation":33426,"user_id":107152,"user_type":"registered","accept_rate":87,"profile_image":"https:\/\/www.gravatar.com\/avatar\/71928e279dd76071cbe710e19d8f8697?s=256&d=identicon&r=PG","display_name":"Qtax","link":"https:\/\/stackoverflow.com\/users\/107152\/qtax"},"is_answered":true,"view_count":3758,"accepted_answer_id":17177790.0,"answer_count":7,"score":59,"last_activity_date":1598454640,"creation_date":1370939536,"question_id":17039670,"body_markdown":"*Note: This is a question about possibilities of modern regex flavors. It&#39;s not about the best way to solve this using other methods. It&#39;s inspired by [an earlier question][1], but that one is not restricted to regex.*\r\n\r\n\r\n## The Problem\r\n\r\nIn an ASCII &quot;image&quot;\/art\/map\/string like:\r\n\r\n    ....X.......\r\n    ..X..X...X....\r\n    X.X...X..X.....\r\n    X....XXXXXX.....\r\n    X..XXX...........\r\n    .....X..........\r\n    ..............X\r\n    ..X...........X....\r\n    ..X...........X....X...\r\n    ....X.....\r\n\r\nI&#39;d like to find a simple vertical line formation of three `X`s:\r\n\r\n    X\r\n    X\r\n    X\r\n\r\nThe number of lines is variable in the image, and the width of *each* line is variable too.\r\n\r\n\r\n## The Question(s)\r\n\r\nWith regex (PCRE\/PHP, Perl, .NET or similar) is it possible to:\r\n\r\n1. Determine if such a formation exists\r\n2. Count the number of such formations\/match the starting point of them all (4 in the above example)\r\n\r\n\r\n\r\n  [1]: https:\/\/stackoverflow.com\/questions\/17026462\/php-vertical-regular-expression-search","link":"https:\/\/stackoverflow.com\/questions\/17039670\/vertical-regex-matching-in-an-ascii-image","title":"&quot;vertical&quot; regex matching in an ASCII &quot;image&quot;","body":"<p><em>Note: This is a question about possibilities of modern regex flavors. It's not about the best way to solve this using other methods. It's inspired by <a href=\"https:\/\/stackoverflow.com\/questions\/17026462\/php-vertical-regular-expression-search\">an earlier question<\/a>, but that one is not restricted to regex.<\/em><\/p>\n\n<h2>The Problem<\/h2>\n\n<p>In an ASCII \"image\"\/art\/map\/string like:<\/p>\n\n<pre><code>....X.......\n..X..X...X....\nX.X...X..X.....\nX....XXXXXX.....\nX..XXX...........\n.....X..........\n..............X\n..X...........X....\n..X...........X....X...\n....X.....\n<\/code><\/pre>\n\n<p>I'd like to find a simple vertical line formation of three <code>X<\/code>s:<\/p>\n\n<pre><code>X\nX\nX\n<\/code><\/pre>\n\n<p>The number of lines is variable in the image, and the width of <em>each<\/em> line is variable too.<\/p>\n\n<h2>The Question(s)<\/h2>\n\n<p>With regex (PCRE\/PHP, Perl, .NET or similar) is it possible to:<\/p>\n\n<ol>\n<li>Determine if such a formation exists<\/li>\n<li>Count the number of such formations\/match the starting point of them all (4 in the above example)<\/li>\n<\/ol>\n","last_edit_date":1495540424.0,"protected_date":null,"closed_date":null,"closed_reason":null,"community_owned_date":null},{"tags":["regex","perl","turing-complete"],"owner":{"account_id":262054,"reputation":140293,"user_id":546661,"user_type":"registered","accept_rate":96,"profile_image":"https:\/\/www.gravatar.com\/avatar\/233308e20f7e2236848f31c2b0b865dd?s=256&d=identicon&r=PG","display_name":"Peter Olson","link":"https:\/\/stackoverflow.com\/users\/546661\/peter-olson"},"is_answered":true,"view_count":18293,"accepted_answer_id":7986723.0,"answer_count":3,"score":59,"last_activity_date":1423107547,"creation_date":1320248412,"question_id":7983115,"body_markdown":"I&#39;ve seen Ruby and Perl programmers do some [complicated code challenges][1] entirely with regexes. The [lookahead and lookbehind][2] capabilities in Perl regexes make them more powerful than the regex implementations in most other languages. I was wondering how powerful they really are.\r\n\r\nIs there an easy way to either prove or disprove that Perl regexes are [Turing complete][3]?\r\n\r\n\r\n  [1]: https:\/\/codegolf.stackexchange.com\/questions\/3596\/regex-validating-regex\r\n  [2]: http:\/\/www.regular-expressions.info\/lookaround.html\r\n  [3]: https:\/\/stackoverflow.com\/questions\/7284\/what-is-turing-complete","link":"https:\/\/stackoverflow.com\/questions\/7983115\/are-perl-regexes-turing-complete","title":"Are Perl regexes turing complete?","body":"<p>I've seen Ruby and Perl programmers do some <a href=\"https:\/\/codegolf.stackexchange.com\/questions\/3596\/regex-validating-regex\">complicated code challenges<\/a> entirely with regexes. The <a href=\"http:\/\/www.regular-expressions.info\/lookaround.html\" rel=\"noreferrer\">lookahead and lookbehind<\/a> capabilities in Perl regexes make them more powerful than the regex implementations in most other languages. I was wondering how powerful they really are.<\/p>\n\n<p>Is there an easy way to either prove or disprove that Perl regexes are <a href=\"https:\/\/stackoverflow.com\/questions\/7284\/what-is-turing-complete\">Turing complete<\/a>?<\/p>\n","last_edit_date":1495542893.0,"protected_date":null,"closed_date":null,"closed_reason":null,"community_owned_date":null},{"tags":["perl","vim","configuration"],"owner":{"account_id":35556,"reputation":117234,"user_id":100754,"user_type":"registered","accept_rate":90,"profile_image":"https:\/\/i.stack.imgur.com\/g9hlb.jpg?s=256&g=1","display_name":"Sinan &#220;n&#252;r","link":"https:\/\/stackoverflow.com\/users\/100754\/sinan-%c3%9cn%c3%bcr"},"is_answered":true,"view_count":13525,"accepted_answer_id":null,"answer_count":12,"score":59,"last_activity_date":1471541845,"creation_date":1255626791,"question_id":1573782,"body_markdown":"There are a lot of threads pertaining to how to configure [Vim\/GVim](http:\/\/www.vim.org\/) for Perl development [on PerlMonks.org](http:\/\/www.google.com\/search?q=vimrc+site%3Aperlmonks.org). My purpose in posting this question is to try to create, as much as possible, an ideal configuration for Perl development using Vim\/GVim. Please post your suggestions for `.vimrc` settings as well as useful plugins.\r\n\r\nI will try to merge the recommendations into a set of `.vimrc` settings and to a list of recommended plugins, ftplugins and syntax files.\r\n\r\n### .vimrc settings\r\n\r\n    &quot;Create a command :Tidy to invoke perltidy&quot;\r\n    &quot;By default it operates on the whole file, but you can give it a&quot;\r\n    &quot;range or visual range as well if you know what you&#39;re doing.&quot;\r\n    command -range=% -nargs=* Tidy &lt;line1&gt;,&lt;line2&gt;!\r\n        \\perltidy -your -preferred -default -options &lt;args&gt;\r\n\r\n    vmap &lt;tab&gt; &gt;gv    &quot;make tab in v mode indent code&quot;\r\n    vmap &lt;s-tab&gt; &lt;gv\r\n    \r\n    nmap &lt;tab&gt; I&lt;tab&gt;&lt;esc&gt; &quot;make tab in normal mode indent code&quot;\r\n    nmap &lt;s-tab&gt; ^i&lt;bs&gt;&lt;esc&gt;\r\n    \r\n    let perl_include_pod   = 1    &quot;include pod.vim syntax file with perl.vim&quot;\r\n    let perl_extended_vars = 1    &quot;highlight complex expressions such as @{[$x, $y]}&quot;\r\n    let perl_sync_dist     = 250  &quot;use more context for highlighting&quot;\r\n\r\n    set nocompatible &quot;Use Vim defaults&quot;\r\n    set backspace=2  &quot;Allow backspacing over everything in insert mode&quot;\r\n\r\n    set autoindent   &quot;Always set auto-indenting on&quot;\r\n    set expandtab    &quot;Insert spaces instead of tabs in insert mode. Use spaces for indents&quot;\r\n    set tabstop=4    &quot;Number of spaces that a &lt;Tab&gt; in the file counts for&quot;\r\n    set shiftwidth=4 &quot;Number of spaces to use for each step of (auto)indent&quot;\r\n\r\n    set showmatch    &quot;When a bracket is inserted, briefly jump to the matching one&quot;\r\n\r\n### syntax\r\n\r\n- [vim-perl: Support for Perl 5 and Perl 6 in Vim](https:\/\/github.com\/vim-perl\/vim-perl)\r\n\r\n### plugins\r\n\r\n- [delimitMate provides auto-completion for quotes, parens, brackets, etc. in insert mode](http:\/\/github.com\/Raimondi\/delimitMate). It handles apostrophes more intelligently than [closepairs.vim](http:\/\/www.vim.org\/scripts\/script.php?script_id=2373) does.\r\n\r\n- [perlhelp.vim: Interface to perldoc](http:\/\/www.vim.org\/scripts\/script.php?script_id=1913)\r\n\r\n- [taglist.vim: Source code browser](http:\/\/www.vim.org\/scripts\/script.php?script_id=273)\r\n\r\n### ftplugins \r\n\r\n- [perldoc.vim: perldoc command from vim](http:\/\/www.vim.org\/scripts\/script.php?script_id=209)\r\n\r\n### CPAN modules\r\n\r\n- [Vim::X][Vim-X]\r\n\r\n### Debugging tools\r\n\r\nI just found out about [VimDebug](http:\/\/vim.sourceforge.net\/scripts\/script.php?script_id=663). I have not yet been able to install it on Windows, but looks promising from the description.\r\n\r\n[Vim-X]: https:\/\/metacpan.org\/pod\/Vim::X","link":"https:\/\/stackoverflow.com\/questions\/1573782\/what-are-your-suggestions-for-an-ideal-vim-configuration-for-perl-development","title":"What are your suggestions for an ideal Vim configuration for Perl development?","body":"<p>There are a lot of threads pertaining to how to configure <a href=\"http:\/\/www.vim.org\/\" rel=\"noreferrer\">Vim\/GVim<\/a> for Perl development <a href=\"http:\/\/www.google.com\/search?q=vimrc+site%3Aperlmonks.org\" rel=\"noreferrer\">on PerlMonks.org<\/a>. My purpose in posting this question is to try to create, as much as possible, an ideal configuration for Perl development using Vim\/GVim. Please post your suggestions for <code>.vimrc<\/code> settings as well as useful plugins.<\/p>\n\n<p>I will try to merge the recommendations into a set of <code>.vimrc<\/code> settings and to a list of recommended plugins, ftplugins and syntax files.<\/p>\n\n<h3>.vimrc settings<\/h3>\n\n<pre><code>\"Create a command :Tidy to invoke perltidy\"\n\"By default it operates on the whole file, but you can give it a\"\n\"range or visual range as well if you know what you're doing.\"\ncommand -range=% -nargs=* Tidy &lt;line1&gt;,&lt;line2&gt;!\n    \\perltidy -your -preferred -default -options &lt;args&gt;\n\nvmap &lt;tab&gt; &gt;gv    \"make tab in v mode indent code\"\nvmap &lt;s-tab&gt; &lt;gv\n\nnmap &lt;tab&gt; I&lt;tab&gt;&lt;esc&gt; \"make tab in normal mode indent code\"\nnmap &lt;s-tab&gt; ^i&lt;bs&gt;&lt;esc&gt;\n\nlet perl_include_pod   = 1    \"include pod.vim syntax file with perl.vim\"\nlet perl_extended_vars = 1    \"highlight complex expressions such as @{[$x, $y]}\"\nlet perl_sync_dist     = 250  \"use more context for highlighting\"\n\nset nocompatible \"Use Vim defaults\"\nset backspace=2  \"Allow backspacing over everything in insert mode\"\n\nset autoindent   \"Always set auto-indenting on\"\nset expandtab    \"Insert spaces instead of tabs in insert mode. Use spaces for indents\"\nset tabstop=4    \"Number of spaces that a &lt;Tab&gt; in the file counts for\"\nset shiftwidth=4 \"Number of spaces to use for each step of (auto)indent\"\n\nset showmatch    \"When a bracket is inserted, briefly jump to the matching one\"\n<\/code><\/pre>\n\n<h3>syntax<\/h3>\n\n<ul>\n<li><a href=\"https:\/\/github.com\/vim-perl\/vim-perl\" rel=\"noreferrer\">vim-perl: Support for Perl 5 and Perl 6 in Vim<\/a><\/li>\n<\/ul>\n\n<h3>plugins<\/h3>\n\n<ul>\n<li><p><a href=\"http:\/\/github.com\/Raimondi\/delimitMate\" rel=\"noreferrer\">delimitMate provides auto-completion for quotes, parens, brackets, etc. in insert mode<\/a>. It handles apostrophes more intelligently than <a href=\"http:\/\/www.vim.org\/scripts\/script.php?script_id=2373\" rel=\"noreferrer\">closepairs.vim<\/a> does.<\/p><\/li>\n<li><p><a href=\"http:\/\/www.vim.org\/scripts\/script.php?script_id=1913\" rel=\"noreferrer\">perlhelp.vim: Interface to perldoc<\/a><\/p><\/li>\n<li><p><a href=\"http:\/\/www.vim.org\/scripts\/script.php?script_id=273\" rel=\"noreferrer\">taglist.vim: Source code browser<\/a><\/p><\/li>\n<\/ul>\n\n<h3>ftplugins<\/h3>\n\n<ul>\n<li><a href=\"http:\/\/www.vim.org\/scripts\/script.php?script_id=209\" rel=\"noreferrer\">perldoc.vim: perldoc command from vim<\/a><\/li>\n<\/ul>\n\n<h3>CPAN modules<\/h3>\n\n<ul>\n<li><a href=\"https:\/\/metacpan.org\/pod\/Vim::X\" rel=\"noreferrer\">Vim::X<\/a><\/li>\n<\/ul>\n\n<h3>Debugging tools<\/h3>\n\n<p>I just found out about <a href=\"http:\/\/vim.sourceforge.net\/scripts\/script.php?script_id=663\" rel=\"noreferrer\">VimDebug<\/a>. I have not yet been able to install it on Windows, but looks promising from the description.<\/p>\n","last_edit_date":1471541845.0,"protected_date":null,"closed_date":null,"closed_reason":null,"community_owned_date":1255626791.0},{"tags":["objective-c","perl","objective-c-runtime"],"owner":{"account_id":13686,"reputation":13566,"user_id":27631,"user_type":"registered","profile_image":"https:\/\/www.gravatar.com\/avatar\/c9601cb6a698c99ebeea326b46605011?s=256&d=identicon&r=PG","display_name":"Sherm Pendley","link":"https:\/\/stackoverflow.com\/users\/27631\/sherm-pendley"},"is_answered":true,"view_count":1960,"accepted_answer_id":null,"answer_count":1,"score":59,"last_activity_date":1323201549,"creation_date":1301421350,"question_id":5476809,"body_markdown":"Background: CamelBones registers Perl classes with the Objective-C runtime.\r\nTo do this, every Perl method is registered with the same IMP\r\nfunction; that function examines its `self` &amp; `_cmd` arguments to find\r\nwhich Perl method to call.\r\n\r\nThis has worked well enough for several years, for messages that were\r\ndispatched with `objc_msgSend`. But now I want to add support for\r\nreturning floating-point and large struct types from Perl methods.\r\nFloating-point isn&#39;t hard; I&#39;ll simply write another IMP that returns\r\ndouble, to handle messages dispatched with `objc_msgSend_fpret`.\r\n\r\nThe question is what to do about `objc_msgSend_stret`. Writing a\r\nseparate `IMP` for every possible struct return type is impractical, for\r\ntwo reasons: First, because even if I did so only for struct types\r\nthat are known at compile-time, that&#39;s an absurd number of functions.\r\nAnd second, because we&#39;re talking about a framework that can be linked against any arbitrary Objective-C &amp; Perl code, we *don&#39;t* know all the potential struct types when the framework is being compiled.\r\n\r\nWhat I hope to do is write a single `IMP` that can handle any return\r\ntype that&#39;s dispatched via `objc_msgSend_stret`. Could I write it as\r\nreturning `void`, and taking a pointer argument to a return buffer, like\r\nthe old `objc_msgSend_stret` was declared? Even if that happened to\r\nwork for now, could I rely on it continuing to work in the future?\r\n\r\nThanks for any advice - I&#39;ve been racking my brain on this one. :-)\r\n\r\n**Update:**\r\n\r\nHere&#39;s the advice I received from one of Apple&#39;s runtime engineers, on their objc-language mailing list:\r\n\r\n&gt; You must write assembly code to handle\r\n&gt; this case.\r\n&gt; \r\n&gt; Your suggestion fails on some\r\n&gt; architectures, where ABI for &quot;function\r\n&gt; returning void with a pointer to a\r\n&gt; struct as the first argument&quot; differs\r\n&gt; from &quot;function returning a struct&quot;.\r\n&gt; (On i386, the struct address is popped\r\n&gt; from the stack by the caller in one\r\n&gt; case and by the callee in the other\r\n&gt; case.) That&#39;s why the prototype for\r\n&gt; `objc_msgSend_stret` was changed.\r\n&gt; \r\n&gt; The assembly code would capture the\r\n&gt; struct return address, smuggle it into\r\n&gt; non-struct-return C function call\r\n&gt; without disturbing the rest of the\r\n&gt; parameters, and then do the right\r\n&gt; ABI-specific cleanup on exit (`ret $4`\r\n&gt; on i386). Alternatively, the assembly\r\n&gt; code can capture all of the\r\n&gt; parameters. The forwarding machinery\r\n&gt; does something like this. That code\r\n&gt; might be in open-source CoreFoundation\r\n&gt; if you want to see what the techniques\r\n&gt; look like.\r\n\r\nI&#39;ll leave this question open, in case someone brainstorms a better idea, but with this coming directly from Apple&#39;s own &quot;runtime wrangler,&quot; I figure it&#39;s probably as authoritative an answer as I&#39;m likely to get. Time to dust off the x86 reference manuals and knock the rust off my assembler-fu, I guess...","link":"https:\/\/stackoverflow.com\/questions\/5476809\/how-to-implement-an-imp-function-that-returns-a-large-struct-type-determined-at","title":"How to implement an IMP function that returns a large struct type determined at run-time?","body":"<p>Background: CamelBones registers Perl classes with the Objective-C runtime.\nTo do this, every Perl method is registered with the same IMP\nfunction; that function examines its <code>self<\/code> &amp; <code>_cmd<\/code> arguments to find\nwhich Perl method to call.<\/p>\n\n<p>This has worked well enough for several years, for messages that were\ndispatched with <code>objc_msgSend<\/code>. But now I want to add support for\nreturning floating-point and large struct types from Perl methods.\nFloating-point isn't hard; I'll simply write another IMP that returns\ndouble, to handle messages dispatched with <code>objc_msgSend_fpret<\/code>.<\/p>\n\n<p>The question is what to do about <code>objc_msgSend_stret<\/code>. Writing a\nseparate <code>IMP<\/code> for every possible struct return type is impractical, for\ntwo reasons: First, because even if I did so only for struct types\nthat are known at compile-time, that's an absurd number of functions.\nAnd second, because we're talking about a framework that can be linked against any arbitrary Objective-C &amp; Perl code, we <em>don't<\/em> know all the potential struct types when the framework is being compiled.<\/p>\n\n<p>What I hope to do is write a single <code>IMP<\/code> that can handle any return\ntype that's dispatched via <code>objc_msgSend_stret<\/code>. Could I write it as\nreturning <code>void<\/code>, and taking a pointer argument to a return buffer, like\nthe old <code>objc_msgSend_stret<\/code> was declared? Even if that happened to\nwork for now, could I rely on it continuing to work in the future?<\/p>\n\n<p>Thanks for any advice - I've been racking my brain on this one. :-)<\/p>\n\n<p><strong>Update:<\/strong><\/p>\n\n<p>Here's the advice I received from one of Apple's runtime engineers, on their objc-language mailing list:<\/p>\n\n<blockquote>\n  <p>You must write assembly code to handle\n  this case.<\/p>\n  \n  <p>Your suggestion fails on some\n  architectures, where ABI for \"function\n  returning void with a pointer to a\n  struct as the first argument\" differs\n  from \"function returning a struct\".\n  (On i386, the struct address is popped\n  from the stack by the caller in one\n  case and by the callee in the other\n  case.) That's why the prototype for\n  <code>objc_msgSend_stret<\/code> was changed.<\/p>\n  \n  <p>The assembly code would capture the\n  struct return address, smuggle it into\n  non-struct-return C function call\n  without disturbing the rest of the\n  parameters, and then do the right\n  ABI-specific cleanup on exit (<code>ret $4<\/code>\n  on i386). Alternatively, the assembly\n  code can capture all of the\n  parameters. The forwarding machinery\n  does something like this. That code\n  might be in open-source CoreFoundation\n  if you want to see what the techniques\n  look like.<\/p>\n<\/blockquote>\n\n<p>I'll leave this question open, in case someone brainstorms a better idea, but with this coming directly from Apple's own \"runtime wrangler,\" I figure it's probably as authoritative an answer as I'm likely to get. Time to dust off the x86 reference manuals and knock the rust off my assembler-fu, I guess...<\/p>\n","last_edit_date":1301460057.0,"protected_date":null,"closed_date":null,"closed_reason":null,"community_owned_date":null},{"tags":["perl","string"],"owner":{"account_id":9921,"reputation":107774,"user_id":18511,"user_type":"registered","accept_rate":92,"profile_image":"https:\/\/www.gravatar.com\/avatar\/c621039e41aef415ad25054da3bf3f9a?s=256&d=identicon&r=PG","display_name":"Kip","link":"https:\/\/stackoverflow.com\/users\/18511\/kip"},"is_answered":true,"view_count":69642,"accepted_answer_id":223401.0,"answer_count":5,"score":58,"last_activity_date":1613233313,"creation_date":1224621098,"question_id":223393,"body_markdown":"What is the Perl equivalent of `strlen()`?","link":"https:\/\/stackoverflow.com\/questions\/223393\/how-do-i-get-the-length-of-a-string-in-perl","title":"How do I get the length of a string in Perl?","body":"<p>What is the Perl equivalent of <code>strlen()<\/code>?<\/p>\n","last_edit_date":1263032252.0,"protected_date":null,"closed_date":null,"closed_reason":null,"community_owned_date":null},{"tags":["perl","boolean","type-conversion"],"owner":{"account_id":7879,"reputation":76349,"user_id":13860,"user_type":"registered","accept_rate":63,"profile_image":"https:\/\/i.stack.imgur.com\/3mW5P.png?s=256&g=1","display_name":"Jonathan Hall","link":"https:\/\/stackoverflow.com\/users\/13860\/jonathan-hall"},"is_answered":true,"view_count":4869,"accepted_answer_id":33016360.0,"answer_count":5,"score":58,"last_activity_date":1444843678,"creation_date":1444302589,"question_id":33014080,"body_markdown":"During a recent job interview process, I submitted some sample Perl code which used the so-called &quot;secret&quot; `!!` [operator](http:\/\/search.cpan.org\/dist\/perlsecret\/lib\/perlsecret.pod#Bang_bang).  Later, when discussing the code, one of the interviewers asked me why I chose to use that, and indicated that it was considered bad form. He didn&#39;t elaborate as to why.\r\n\r\nMy team and I have been using this operator for years, without ever realizing it was considered &quot;bad form.&quot;\r\n\r\nDoes the &quot;bang bang&quot; operator have side-effects or other unexpected behavior? Why is it, or might it be, considered &quot;bad form&quot; by some? Is there an idiomatic alternative?\r\n\r\nBelow are a few examples where I would have considered `!!` acceptable and\/or desirable.\r\n\r\n1. The actual code in the coding exercise, which is an example of adding booleans:\r\n\r\n        while (my $line = &lt;$F&gt;) {\r\n            # snip\r\n            exists $counts{lines} and $counts{lines} += !! chomp $line;\r\n        }\r\n\r\n2. Using a boolean value as a hash key (clearly a simplified example):\r\n\r\n        sub foo {\r\n            my ($input) = @_;\r\n            my %responses = ( &#39;&#39; =&gt; &quot;False&quot;, 1 =&gt; &quot;True&quot; );\r\n            return $responses{ !! $input };\r\n        }\r\n\r\n3. Using a boolean in a bitwise operation, or even `pack()`:\r\n\r\n        sub foo {\r\n            my ( $a, $b, $c ) = @_;\r\n            my $result = !!$a + (!! $b)&lt;&lt;1 + (!! $c)&lt;&lt;2;\r\n            return $result;\r\n        }\r\n\r\n4. You need to do a typecast for use by an external library\/process, such as a database, which only considers certain values to be truthy:\r\n\r\n        my $sth = $dbh-&gt;prepare(&quot;INSERT INTO table (flag,value) VALUES (?,?)&quot;)\r\n        $sth-&gt;execute(&quot;i_haz_cheeseburger&quot;, !! $cheeseburger_string)\r\n\r\n\r\n","link":"https:\/\/stackoverflow.com\/questions\/33014080\/why-is-considered-bad-form-in-perl","title":"Why is &quot;!!&quot; considered bad form in Perl?","body":"<p>During a recent job interview process, I submitted some sample Perl code which used the so-called \"secret\" <code>!!<\/code> <a href=\"http:\/\/search.cpan.org\/dist\/perlsecret\/lib\/perlsecret.pod#Bang_bang\">operator<\/a>.  Later, when discussing the code, one of the interviewers asked me why I chose to use that, and indicated that it was considered bad form. He didn't elaborate as to why.<\/p>\n\n<p>My team and I have been using this operator for years, without ever realizing it was considered \"bad form.\"<\/p>\n\n<p>Does the \"bang bang\" operator have side-effects or other unexpected behavior? Why is it, or might it be, considered \"bad form\" by some? Is there an idiomatic alternative?<\/p>\n\n<p>Below are a few examples where I would have considered <code>!!<\/code> acceptable and\/or desirable.<\/p>\n\n<ol>\n<li><p>The actual code in the coding exercise, which is an example of adding booleans:<\/p>\n\n<pre><code>while (my $line = &lt;$F&gt;) {\n    # snip\n    exists $counts{lines} and $counts{lines} += !! chomp $line;\n}\n<\/code><\/pre><\/li>\n<li><p>Using a boolean value as a hash key (clearly a simplified example):<\/p>\n\n<pre><code>sub foo {\n    my ($input) = @_;\n    my %responses = ( '' =&gt; \"False\", 1 =&gt; \"True\" );\n    return $responses{ !! $input };\n}\n<\/code><\/pre><\/li>\n<li><p>Using a boolean in a bitwise operation, or even <code>pack()<\/code>:<\/p>\n\n<pre><code>sub foo {\n    my ( $a, $b, $c ) = @_;\n    my $result = !!$a + (!! $b)&lt;&lt;1 + (!! $c)&lt;&lt;2;\n    return $result;\n}\n<\/code><\/pre><\/li>\n<li><p>You need to do a typecast for use by an external library\/process, such as a database, which only considers certain values to be truthy:<\/p>\n\n<pre><code>my $sth = $dbh-&gt;prepare(\"INSERT INTO table (flag,value) VALUES (?,?)\")\n$sth-&gt;execute(\"i_haz_cheeseburger\", !! $cheeseburger_string)\n<\/code><\/pre><\/li>\n<\/ol>\n","last_edit_date":1444317815.0,"protected_date":null,"closed_date":null,"closed_reason":null,"community_owned_date":null},{"tags":["python","perl"],"owner":{"account_id":41067,"reputation":127534,"user_id":119280,"user_type":"registered","accept_rate":73,"profile_image":"https:\/\/www.gravatar.com\/avatar\/47b88555c03aad35b076726767fcfa35?s=256&d=identicon&r=PG&f=y&so-version=2","display_name":"DVK","link":"https:\/\/stackoverflow.com\/users\/119280\/dvk"},"is_answered":true,"view_count":24788,"accepted_answer_id":2283300.0,"answer_count":7,"score":58,"last_activity_date":1573824791,"creation_date":1266428622,"question_id":2283034,"body_markdown":"I am an experienced Perl developer with some degree of experience and\/or familiarity with other languages (working experience with C\/C++, school experience with Java and Scheme, and passing familiarity with many others).\r\n\r\nI might need to get some web work done in Python (most immediately, related to Google App Engine). As such, I&#39;d like to ask SO overmind for good references on how to best learn Python for someone who&#39;s coming from Perl background (e.g. the emphasis would be on differences between the two and how to translate perl idiomatics into Python idiomatics, as opposed to generic Python references). Something also centered on Web development is even better.\r\nI&#39;ll take anything - articles, tutorials, books, sample apps?\r\n\r\nThanks!","link":"https:\/\/stackoverflow.com\/questions\/2283034\/python-for-a-perl-programmer","title":"Python for a Perl programmer","body":"<p>I am an experienced Perl developer with some degree of experience and\/or familiarity with other languages (working experience with C\/C++, school experience with Java and Scheme, and passing familiarity with many others).<\/p>\n\n<p>I might need to get some web work done in Python (most immediately, related to Google App Engine). As such, I'd like to ask SO overmind for good references on how to best learn Python for someone who's coming from Perl background (e.g. the emphasis would be on differences between the two and how to translate perl idiomatics into Python idiomatics, as opposed to generic Python references). Something also centered on Web development is even better.\nI'll take anything - articles, tutorials, books, sample apps?<\/p>\n\n<p>Thanks!<\/p>\n","last_edit_date":1400707843.0,"protected_date":null,"closed_date":null,"closed_reason":null,"community_owned_date":null},{"tags":["perl","stdout","exit-code"],"owner":{"account_id":561186,"reputation":755,"user_id":19214,"user_type":"unregistered","accept_rate":100,"profile_image":"https:\/\/www.gravatar.com\/avatar\/ada076b559d8c64843dfc2ca1087784a?s=256&d=identicon&r=PG","display_name":"Scooby","link":"https:\/\/stackoverflow.com\/users\/19214\/scooby"},"is_answered":true,"view_count":53423,"accepted_answer_id":109139.0,"answer_count":6,"score":58,"last_activity_date":1491464220,"creation_date":1221939640,"question_id":109124,"body_markdown":"Is it possible to run an external process from Perl, capture its stderr, stdout AND the process exit code?\r\n\r\nI seem to be able to do combinations of these, e.g. use backticks to get stdout, IPC::Open3 to capture outputs, and system() to get exit codes.\r\n\r\nHow do you capture stderr, stdout, and the exit code all at once?","link":"https:\/\/stackoverflow.com\/questions\/109124\/how-do-you-capture-stderr-stdout-and-the-exit-code-all-at-once-in-perl","title":"How do you capture stderr, stdout, and the exit code all at once, in Perl?","body":"<p>Is it possible to run an external process from Perl, capture its stderr, stdout AND the process exit code?<\/p>\n\n<p>I seem to be able to do combinations of these, e.g. use backticks to get stdout, IPC::Open3 to capture outputs, and system() to get exit codes.<\/p>\n\n<p>How do you capture stderr, stdout, and the exit code all at once?<\/p>\n","last_edit_date":1273464455.0,"protected_date":null,"closed_date":null,"closed_reason":null,"community_owned_date":null},{"tags":["perl","module","standard-library"],"owner":{"account_id":80650,"reputation":6614,"user_id":227926,"user_type":"registered","accept_rate":93,"profile_image":"https:\/\/www.gravatar.com\/avatar\/712c209dd792e2149ad79869aced2077?s=256&d=identicon&r=PG","display_name":"therobyouknow","link":"https:\/\/stackoverflow.com\/users\/227926\/therobyouknow"},"is_answered":true,"view_count":11267,"accepted_answer_id":2049794.0,"answer_count":7,"score":58,"last_activity_date":1489667407,"creation_date":1263307476,"question_id":2049735,"body_markdown":"How can I check if a Perl module is part of the core - i.e. it is part of the standard installation?\r\n\r\nI&#39;m looking for:\r\n\r\n  - a command-line command:\r\n  - a Perl subroutine\/function to check within code\r\n\r\nPerhaps the question should be: How can I tell what modules were originally provided with the *specific* Perl installation on a machine? (Actually, it is now asked as *https:\/\/stackoverflow.com\/questions\/2085516\/how-can-i-tell-what-modules-were-originally-provided-with-the-specific-perl-insta*.)\r\n\r\nGiven that there now appears to not to be an overall Perl standard installation, at least the answer to this new question will tell me what I originally had in the installation when it was first installed.\r\n\r\nWith that knowledge and if I keep the original installer image\/package OR know how to get the exact thing again online, then I have a repeatable Perl installation for several machines with the knowledge of what modules will be present and what modules will not. \r\n\r\nTo clarify further: I am looking at what *came* with the installation originally, what modules were provided as part of that installation, and what was built-in. *NOT* what has been installed since then.\r\n\r\nAnd I want to be able to do this *on the machine that has the installation*. So for this I would be relying upon the installation to have a record in some form as to what it has originally.\r\n\r\nI asked spin-off question:\r\n*https:\/\/stackoverflow.com\/questions\/2085516\/how-can-i-tell-what-modules-were-originally-provided-with-the-specific-perl-insta* (How can I tell what modules were originally provided with the specific Perl installation on a machine?)\r\n\r\n","link":"https:\/\/stackoverflow.com\/questions\/2049735\/how-can-i-tell-if-a-perl-module-is-core-or-part-of-the-standard-install","title":"How can I tell if a Perl module is core or part of the standard install?","body":"<p>How can I check if a Perl module is part of the core - i.e. it is part of the standard installation?<\/p>\n\n<p>I'm looking for:<\/p>\n\n<ul>\n<li>a command-line command:<\/li>\n<li>a Perl subroutine\/function to check within code<\/li>\n<\/ul>\n\n<p>Perhaps the question should be: How can I tell what modules were originally provided with the <em>specific<\/em> Perl installation on a machine? (Actually, it is now asked as <em><a href=\"https:\/\/stackoverflow.com\/questions\/2085516\/how-can-i-tell-what-modules-were-originally-provided-with-the-specific-perl-insta\">How can I tell what modules were originally provided with the specific Perl installation on a machine?<\/a><\/em>.)<\/p>\n\n<p>Given that there now appears to not to be an overall Perl standard installation, at least the answer to this new question will tell me what I originally had in the installation when it was first installed.<\/p>\n\n<p>With that knowledge and if I keep the original installer image\/package OR know how to get the exact thing again online, then I have a repeatable Perl installation for several machines with the knowledge of what modules will be present and what modules will not. <\/p>\n\n<p>To clarify further: I am looking at what <em>came<\/em> with the installation originally, what modules were provided as part of that installation, and what was built-in. <em>NOT<\/em> what has been installed since then.<\/p>\n\n<p>And I want to be able to do this <em>on the machine that has the installation<\/em>. So for this I would be relying upon the installation to have a record in some form as to what it has originally.<\/p>\n\n<p>I asked spin-off question:\n<em><a href=\"https:\/\/stackoverflow.com\/questions\/2085516\/how-can-i-tell-what-modules-were-originally-provided-with-the-specific-perl-insta\">How can I tell what modules were originally provided with the specific Perl installation on a machine?<\/a><\/em> (How can I tell what modules were originally provided with the specific Perl installation on a machine?)<\/p>\n","last_edit_date":1495541900.0,"protected_date":null,"closed_date":null,"closed_reason":null,"community_owned_date":null},{"tags":["perl"],"owner":{"account_id":8291,"reputation":861385,"user_id":14860,"user_type":"registered","accept_rate":100,"profile_image":"https:\/\/i.stack.imgur.com\/vXG1F.png?s=256&g=1","display_name":"paxdiablo","link":"https:\/\/stackoverflow.com\/users\/14860\/paxdiablo"},"is_answered":true,"view_count":6321,"accepted_answer_id":968543.0,"answer_count":23,"score":57,"last_activity_date":1657412251,"creation_date":1244528442,"question_id":968441,"body_markdown":"One of my colleagues recently interviewed some candidates for a job and one said they had very good Perl experience.\r\n\r\nSince my colleague didn&#39;t know Perl, he asked me for a critique of some code written (off-site) by that potential hire, so I had a look and told him my concerns (the main one was that it originally had no comments and it&#39;s not like we gave them enough time).\r\n\r\nHowever, the code works so I&#39;m loath to say no-go without some more input. Another concern is that this code basically looks exactly how I&#39;d code it in C. It&#39;s been a while since I did Perl (and I didn&#39;t do a lot, I&#39;m more a Python bod for quick scripts) but I seem to recall that it was a much more expressive language than what this guy used.\r\n\r\nI&#39;m looking for input from real Perl coders, and suggestions for how it could be improved (and why a Perl coder *should* know that method of improvement).\r\n\r\nYou can also wax lyrical about whether people who write one language in a totally different language should (or shouldn&#39;t be hired). I&#39;m interested in your arguments but this question is primarily for a critique of the code.\r\n\r\nThe spec was to successfully process a CSV file as follows and output the individual fields:\r\n\r\n    User ID,Name , Level,Numeric ID\r\n    pax, Pax Morgan ,admin,0\r\n    gt,&quot;  Turner, George&quot; rubbish,user,1\r\n    ms,&quot;Mark \\&quot;X-Men\\&quot; Spencer&quot;,&quot;guest user&quot;,2\r\n    ab,, &quot;user&quot;,&quot;3&quot;\r\n\r\nThe output was to be something like this (the potential hire&#39;s code actually output this):\r\n\r\n    User ID,Name , Level,Numeric ID:\r\n       [User ID]\r\n       [Name]\r\n       [Level]\r\n       [Numeric ID]\r\n    pax, Pax Morgan ,admin,0:\r\n       [pax]\r\n       [Pax Morgan]\r\n       [admin]\r\n       [0]\r\n    gt,&quot;  Turner, George  &quot; rubbish,user,1:\r\n       [gt]\r\n       [  Turner, George  ]\r\n       [user]\r\n       [1]\r\n    ms,&quot;Mark \\&quot;X-Men\\&quot; Spencer&quot;,&quot;guest user&quot;,2:\r\n       [ms]\r\n       [Mark &quot;X-Men&quot; Spencer]\r\n       [guest user]\r\n       [2]\r\n    ab,, &quot;user&quot;,&quot;3&quot;:\r\n       [ab]\r\n       []\r\n       [user]\r\n       [3]\r\n\r\nHere is the code they submitted:\r\n\r\n    #!\/usr\/bin\/perl\r\n\r\n    # Open file.\r\n\r\n    open (IN, &quot;qq.in&quot;) || die &quot;Cannot open qq.in&quot;;\r\n\r\n    # Process every line.\r\n\r\n    while (&lt;IN&gt;) {\r\n        chomp;\r\n        $line = $_;\r\n        print &quot;$line:\\n&quot;;\r\n\r\n        # Process every field in line.\r\n\r\n        while ($line ne &quot;&quot;) {\r\n            # Skip spaces and start with empty field.\r\n\r\n            if (substr ($line,0,1) eq &quot; &quot;) {\r\n                $line = substr ($line,1);\r\n                next;\r\n            }\r\n\r\n            $field = &quot;&quot;;\r\n            $minlen = 0;\r\n\r\n            # Detect quoted field or otherwise.\r\n\r\n            if (substr ($line,0,1) eq &quot;\\&quot;&quot;) {\r\n                $line = substr ($line,1);\r\n                $pastquote = 0;\r\n                while ($line ne &quot;&quot;) {\r\n                    # Special handling for quotes (\\\\ and \\&quot;).\r\n\r\n                    if (length ($line) &gt;= 2) {\r\n                        if (substr ($line,0,2) eq &quot;\\\\\\&quot;&quot;) {\r\n                            $field = $field . &quot;\\&quot;&quot;;\r\n                            $line = substr ($line,2);\r\n                            next;\r\n                        }\r\n                        if (substr ($line,0,2) eq &quot;\\\\\\\\&quot;) {\r\n                            $field = $field . &quot;\\\\&quot;;\r\n                            $line = substr ($line,2);\r\n                            next;\r\n                        }\r\n                    }\r\n\r\n                    # Detect closing quote.\r\n\r\n                    if (($pastquote == 0) &amp;&amp; (substr ($line,0,1) eq &quot;\\&quot;&quot;)) {\r\n                        $pastquote = 1;\r\n                        $line = substr ($line,1);\r\n                        $minlen = length ($field);\r\n                        next;\r\n                    }\r\n\r\n                    # Only worry about comma if past closing quote.\r\n\r\n                    if (($pastquote == 1) &amp;&amp; (substr ($line,0,1) eq &quot;,&quot;)) {\r\n                        $line = substr ($line,1);\r\n                        last;\r\n                    }\r\n                    $field = $field . substr ($line,0,1);\r\n                    $line = substr ($line,1);\r\n                }\r\n            } else {\r\n                while ($line ne &quot;&quot;) {\r\n                    if (substr ($line,0,1) eq &quot;,&quot;) {\r\n                        $line = substr ($line,1);\r\n                        last;\r\n                    }\r\n                    if ($pastquote == 0) {\r\n                        $field = $field . substr ($line,0,1);\r\n                    }\r\n                    $line = substr ($line,1);\r\n                }\r\n            }\r\n\r\n            # Strip trailing space.\r\n\r\n            while ($field ne &quot;&quot;) {\r\n                if (length ($field) == $minlen) {\r\n                    last;\r\n                }\r\n                if (substr ($field,length ($field)-1,1) eq &quot; &quot;) {\r\n                    $field = substr ($field,0, length ($field)-1);\r\n                    next;\r\n                }\r\n                last;\r\n            }\r\n\r\n            print &quot;   [$field]\\n&quot;;\r\n        }\r\n    }\r\n    close (IN);\r\n","link":"https:\/\/stackoverflow.com\/questions\/968441\/should-we-hire-someone-who-writes-c-in-perl","title":"Should we hire someone who writes C in Perl?","body":"<p>One of my colleagues recently interviewed some candidates for a job and one said they had very good Perl experience.<\/p>\n<p>Since my colleague didn't know Perl, he asked me for a critique of some code written (off-site) by that potential hire, so I had a look and told him my concerns (the main one was that it originally had no comments and it's not like we gave them enough time).<\/p>\n<p>However, the code works so I'm loath to say no-go without some more input. Another concern is that this code basically looks exactly how I'd code it in C. It's been a while since I did Perl (and I didn't do a lot, I'm more a Python bod for quick scripts) but I seem to recall that it was a much more expressive language than what this guy used.<\/p>\n<p>I'm looking for input from real Perl coders, and suggestions for how it could be improved (and why a Perl coder <em>should<\/em> know that method of improvement).<\/p>\n<p>You can also wax lyrical about whether people who write one language in a totally different language should (or shouldn't be hired). I'm interested in your arguments but this question is primarily for a critique of the code.<\/p>\n<p>The spec was to successfully process a CSV file as follows and output the individual fields:<\/p>\n<pre><code>User ID,Name , Level,Numeric ID\npax, Pax Morgan ,admin,0\ngt,&quot;  Turner, George&quot; rubbish,user,1\nms,&quot;Mark \\&quot;X-Men\\&quot; Spencer&quot;,&quot;guest user&quot;,2\nab,, &quot;user&quot;,&quot;3&quot;\n<\/code><\/pre>\n<p>The output was to be something like this (the potential hire's code actually output this):<\/p>\n<pre><code>User ID,Name , Level,Numeric ID:\n   [User ID]\n   [Name]\n   [Level]\n   [Numeric ID]\npax, Pax Morgan ,admin,0:\n   [pax]\n   [Pax Morgan]\n   [admin]\n   [0]\ngt,&quot;  Turner, George  &quot; rubbish,user,1:\n   [gt]\n   [  Turner, George  ]\n   [user]\n   [1]\nms,&quot;Mark \\&quot;X-Men\\&quot; Spencer&quot;,&quot;guest user&quot;,2:\n   [ms]\n   [Mark &quot;X-Men&quot; Spencer]\n   [guest user]\n   [2]\nab,, &quot;user&quot;,&quot;3&quot;:\n   [ab]\n   []\n   [user]\n   [3]\n<\/code><\/pre>\n<p>Here is the code they submitted:<\/p>\n<pre><code>#!\/usr\/bin\/perl\n\n# Open file.\n\nopen (IN, &quot;qq.in&quot;) || die &quot;Cannot open qq.in&quot;;\n\n# Process every line.\n\nwhile (&lt;IN&gt;) {\n    chomp;\n    $line = $_;\n    print &quot;$line:\\n&quot;;\n\n    # Process every field in line.\n\n    while ($line ne &quot;&quot;) {\n        # Skip spaces and start with empty field.\n\n        if (substr ($line,0,1) eq &quot; &quot;) {\n            $line = substr ($line,1);\n            next;\n        }\n\n        $field = &quot;&quot;;\n        $minlen = 0;\n\n        # Detect quoted field or otherwise.\n\n        if (substr ($line,0,1) eq &quot;\\&quot;&quot;) {\n            $line = substr ($line,1);\n            $pastquote = 0;\n            while ($line ne &quot;&quot;) {\n                # Special handling for quotes (\\\\ and \\&quot;).\n\n                if (length ($line) &gt;= 2) {\n                    if (substr ($line,0,2) eq &quot;\\\\\\&quot;&quot;) {\n                        $field = $field . &quot;\\&quot;&quot;;\n                        $line = substr ($line,2);\n                        next;\n                    }\n                    if (substr ($line,0,2) eq &quot;\\\\\\\\&quot;) {\n                        $field = $field . &quot;\\\\&quot;;\n                        $line = substr ($line,2);\n                        next;\n                    }\n                }\n\n                # Detect closing quote.\n\n                if (($pastquote == 0) &amp;&amp; (substr ($line,0,1) eq &quot;\\&quot;&quot;)) {\n                    $pastquote = 1;\n                    $line = substr ($line,1);\n                    $minlen = length ($field);\n                    next;\n                }\n\n                # Only worry about comma if past closing quote.\n\n                if (($pastquote == 1) &amp;&amp; (substr ($line,0,1) eq &quot;,&quot;)) {\n                    $line = substr ($line,1);\n                    last;\n                }\n                $field = $field . substr ($line,0,1);\n                $line = substr ($line,1);\n            }\n        } else {\n            while ($line ne &quot;&quot;) {\n                if (substr ($line,0,1) eq &quot;,&quot;) {\n                    $line = substr ($line,1);\n                    last;\n                }\n                if ($pastquote == 0) {\n                    $field = $field . substr ($line,0,1);\n                }\n                $line = substr ($line,1);\n            }\n        }\n\n        # Strip trailing space.\n\n        while ($field ne &quot;&quot;) {\n            if (length ($field) == $minlen) {\n                last;\n            }\n            if (substr ($field,length ($field)-1,1) eq &quot; &quot;) {\n                $field = substr ($field,0, length ($field)-1);\n                next;\n            }\n            last;\n        }\n\n        print &quot;   [$field]\\n&quot;;\n    }\n}\nclose (IN);\n<\/code><\/pre>\n","last_edit_date":1657412251.0,"protected_date":null,"closed_date":1313234951.0,"closed_reason":"off topic","community_owned_date":null},{"tags":["perl","macos"],"owner":{"account_id":604895,"reputation":2027,"user_id":314681,"user_type":"unregistered","accept_rate":56,"profile_image":"https:\/\/www.gravatar.com\/avatar\/9e8751e0b198554f18fe76fc9a7ed070?s=256&d=identicon&r=PG","display_name":"Jeff","link":"https:\/\/stackoverflow.com\/users\/314681\/jeff"},"is_answered":true,"view_count":107942,"accepted_answer_id":2623347.0,"answer_count":4,"score":57,"last_activity_date":1650540229,"creation_date":1271087108,"question_id":2623336,"body_markdown":"How do I run a Perl script on OS X?","link":"https:\/\/stackoverflow.com\/questions\/2623336\/how-can-i-run-a-perl-script-on-mac-os-x","title":"How can I run a Perl script on Mac OS X?","body":"<p>How do I run a Perl script on OS X?<\/p>\n","last_edit_date":1650540229.0,"protected_date":null,"closed_date":null,"closed_reason":null,"community_owned_date":null},{"tags":["perl"],"owner":{"account_id":37805,"reputation":1091,"user_id":108180,"user_type":"registered","accept_rate":22,"profile_image":"https:\/\/www.gravatar.com\/avatar\/fd3e25db649cf38c459320930e1580ea?s=256&d=identicon&r=PG","display_name":"User1611","link":"https:\/\/stackoverflow.com\/users\/108180\/user1611"},"is_answered":true,"view_count":113665,"accepted_answer_id":null,"answer_count":8,"score":57,"last_activity_date":1619694941,"creation_date":1249540635,"question_id":1237286,"body_markdown":"I have a `.pl` file and I want to execute that file in any system even though `perl` is not installed. How can I achieve it?\r\n\r\nWhat would be some good examples to do that?\r\n\r\n","link":"https:\/\/stackoverflow.com\/questions\/1237286\/how-can-i-compile-my-perl-script-so-it-can-be-executed-on-systems-without-perl","title":"How can I compile my Perl script so it can be executed on systems without &#39;perl&#39; installed?","body":"<p>I have a <code>.pl<\/code> file and I want to execute that file in any system even though <code>perl<\/code> is not installed. How can I achieve it?<\/p>\n<p>What would be some good examples to do that?<\/p>\n","last_edit_date":1619694712.0,"protected_date":null,"closed_date":null,"closed_reason":null,"community_owned_date":null},{"tags":["perl","shebang"],"owner":{"account_id":614917,"reputation":561,"user_id":335865,"user_type":"unregistered","profile_image":"https:\/\/www.gravatar.com\/avatar\/57c841ee54673415e0e79577cd1b339e?s=256&d=identicon&r=PG","display_name":"Anonymous","link":"https:\/\/stackoverflow.com\/users\/335865\/anonymous"},"is_answered":true,"view_count":56314,"accepted_answer_id":null,"answer_count":8,"score":56,"last_activity_date":1583530955,"creation_date":1273270042,"question_id":2791954,"body_markdown":"Which of these is better or faster to use as the shebang line for a Perl script?\r\n\r\n    #! perl\r\n\r\n    #! perl.exe\r\n\r\n    #! fullpath\/perl(\/perl.exe)\r\n\r\n    #! partialpath\/perl(\/perl.exe)\r\n\r\n\r\nAnd, when using `#!perl`, when it works on a particular system, how do I find out in the script which perl interpreter I&#39;m using so I can put that one into the shebang line?\r\n\r\n---\r\n\r\nAnd, if using a `\/path\/path\/perl`, are `*` or `...` allowed to be used for the folders?","link":"https:\/\/stackoverflow.com\/questions\/2791954\/what-should-i-use-for-a-perl-scripts-shebang-line","title":"What should I use for a Perl script&#39;s shebang line?","body":"<p>Which of these is better or faster to use as the shebang line for a Perl script?<\/p>\n\n<pre><code>#! perl\n\n#! perl.exe\n\n#! fullpath\/perl(\/perl.exe)\n\n#! partialpath\/perl(\/perl.exe)\n<\/code><\/pre>\n\n<p>And, when using <code>#!perl<\/code>, when it works on a particular system, how do I find out in the script which perl interpreter I'm using so I can put that one into the shebang line?<\/p>\n\n<hr>\n\n<p>And, if using a <code>\/path\/path\/perl<\/code>, are <code>*<\/code> or <code>...<\/code> allowed to be used for the folders?<\/p>\n","last_edit_date":1491341061.0,"protected_date":null,"closed_date":null,"closed_reason":null,"community_owned_date":null},{"tags":["regex","perl"],"owner":{"account_id":411088,"reputation":8671,"user_id":783314,"user_type":"registered","accept_rate":67,"profile_image":"https:\/\/www.gravatar.com\/avatar\/b3d5692064779f501f7c2a639dc0076c?s=256&d=identicon&r=PG","display_name":"Stephen","link":"https:\/\/stackoverflow.com\/users\/783314\/stephen"},"is_answered":true,"view_count":3630,"accepted_answer_id":50356855.0,"answer_count":4,"score":56,"last_activity_date":1531234872,"creation_date":1526405744,"question_id":50356241,"body_markdown":"I have a very crazy regex that I&#39;m trying to diagnose. It is also very long, but I have cut it down to just the following script. Run using Strawberry Perl v5.26.2.\r\n\r\n    use strict;\r\n    use warnings;\r\n    \r\n    my $text = &quot;M Y H A P P Y T E X T&quot;;\r\n    my $regex = &#39;(?i)(?&lt;!(Mon|Fri|Sun)day |August )abcd(?-i)&#39;;\r\n    \r\n    if ($text =~ m\/$regex\/){\r\n        print &quot;true\\n&quot;;\r\n    }\r\n    else {\r\n        print &quot;false\\n&quot;;\r\n    }\r\n\r\nThis gives the error &quot;Variable length lookbehind not implemented in regex.&quot;\r\n\r\nI am hoping you can help with several issues:\r\n\r\n 1. I don&#39;t see why this error would occur, because all of the possible lookbehind values are 7 characters: &quot;Monday &quot;, &quot;Friday &quot;, &quot;Sunday &quot;, &quot;August &quot;.\r\n 2. I did not write this regex myself, and I am not sure how to interpret the syntax `(?i)` and `(?-i)`. When I get rid of the `(?i)` the error actually goes away. How will perl interpret this part of the regex? I would think the first two characters are evaluated to &quot;optional literal parentheses&quot; except that the parentheses isn&#39;t escaped and also in that case I would get a different syntax error because the closing parentheses would then not be matched.\r\n 3. This behavior starts somewhere between Perl 5.16.3_64 and 5.26.1_64, at least in Strawberry Perl. The former version is fine with the code, the latter is not. Why did it start?","link":"https:\/\/stackoverflow.com\/questions\/50356241\/variable-length-lookbehind-not-implemented-but-it-isnt-variable-length","title":"&quot;Variable length lookbehind not implemented&quot; but it isn&#39;t variable length","body":"<p>I have a very crazy regex that I'm trying to diagnose. It is also very long, but I have cut it down to just the following script. Run using Strawberry Perl v5.26.2.<\/p>\n\n<pre><code>use strict;\nuse warnings;\n\nmy $text = \"M Y H A P P Y T E X T\";\nmy $regex = '(?i)(?&lt;!(Mon|Fri|Sun)day |August )abcd(?-i)';\n\nif ($text =~ m\/$regex\/){\n    print \"true\\n\";\n}\nelse {\n    print \"false\\n\";\n}\n<\/code><\/pre>\n\n<p>This gives the error \"Variable length lookbehind not implemented in regex.\"<\/p>\n\n<p>I am hoping you can help with several issues:<\/p>\n\n<ol>\n<li>I don't see why this error would occur, because all of the possible lookbehind values are 7 characters: \"Monday \", \"Friday \", \"Sunday \", \"August \".<\/li>\n<li>I did not write this regex myself, and I am not sure how to interpret the syntax <code>(?i)<\/code> and <code>(?-i)<\/code>. When I get rid of the <code>(?i)<\/code> the error actually goes away. How will perl interpret this part of the regex? I would think the first two characters are evaluated to \"optional literal parentheses\" except that the parentheses isn't escaped and also in that case I would get a different syntax error because the closing parentheses would then not be matched.<\/li>\n<li>This behavior starts somewhere between Perl 5.16.3_64 and 5.26.1_64, at least in Strawberry Perl. The former version is fine with the code, the latter is not. Why did it start?<\/li>\n<\/ol>\n","last_edit_date":1526414328.0,"protected_date":null,"closed_date":null,"closed_reason":null,"community_owned_date":null},{"tags":["regex","perl","regex-greedy"],"owner":{"account_id":28042,"reputation":49462,"user_id":74496,"user_type":"registered","accept_rate":100,"profile_image":"https:\/\/www.gravatar.com\/avatar\/633fe8d1b4783bb73748a75e0e768bba?s=256&d=identicon&r=PG","display_name":"rjh","link":"https:\/\/stackoverflow.com\/users\/74496\/rjh"},"is_answered":true,"view_count":4599,"accepted_answer_id":38495156.0,"answer_count":4,"score":56,"last_activity_date":1480968615,"creation_date":1468830525,"question_id":38431931,"body_markdown":"Why does replacing `\\s*` (or even `\\s\\s*`) with `\\s+` result in such a speedup for this input?\r\n\r\n    use Benchmark qw(:all);\r\n    $x=(&quot; &quot; x 100000) . &quot;_\\n&quot;;\r\n    $count = 100;\r\n    timethese($count, {\r\n        &#39;\/\\s\\s*\\n\/&#39; =&gt; sub { $x =~ \/\\s\\s*\\n\/ },\r\n        &#39;\/\\s+\\n\/&#39; =&gt; sub { $x =~ \/\\s+\\n\/ },\r\n    });\r\n\r\n[Link to online version][1]\r\n\r\nI noticed a slow regex `s\/\\s*\\n\\s*\/\\n\/g` in my code - when given a 450KB input file consisting of lots of spaces with a few non-spaces here and there, and a final newline at the end - the regex hung and never finished.\r\n\r\nI intuitively replaced the regex with `s\/\\s+\\n\/\\n\/g; s\/\\n\\s+\/\\n\/g;` and all was well.\r\n\r\nBut why is it so much faster? After using `re Debug =&gt; &quot;EXECUTE&quot;` I noticed the `\\s+` version is somehow optimised to run in only one iteration: http:\/\/pastebin.com\/0Ug6xPiQ\r\n\r\n&lt;!-- language: lang-none --&gt;\r\n\r\n    Matching REx &quot;\\s*\\n&quot; against &quot;       _%n&quot;\r\n    Matching stclass ANYOF{i}[\\x09\\x0a\\x0c\\x0d ][{non-utf8-latin1-all}{unicode_all}] against &quot;       _%n&quot; (9 bytes)\r\n       0 &lt;&gt; &lt;       _%n&gt;         |  1:STAR(3)\r\n                                      SPACE can match 7 times out of 2147483647...\r\n                                      failed...\r\n       1 &lt; &gt; &lt;      _%n&gt;         |  1:STAR(3)\r\n                                      SPACE can match 6 times out of 2147483647...\r\n                                      failed...\r\n       2 &lt;  &gt; &lt;     _%n&gt;         |  1:STAR(3)\r\n                                      SPACE can match 5 times out of 2147483647...\r\n                                      failed...\r\n       3 &lt;   &gt; &lt;    _%n&gt;         |  1:STAR(3)\r\n                                      SPACE can match 4 times out of 2147483647...\r\n                                      failed...\r\n       4 &lt;    &gt; &lt;   _%n&gt;         |  1:STAR(3)\r\n                                      SPACE can match 3 times out of 2147483647...\r\n                                      failed...\r\n       5 &lt;     &gt; &lt;  _%n&gt;         |  1:STAR(3)\r\n                                      SPACE can match 2 times out of 2147483647...\r\n                                      failed...\r\n       6 &lt;      &gt; &lt; _%n&gt;         |  1:STAR(3)\r\n                                      SPACE can match 1 times out of 2147483647...\r\n                                      failed...\r\n       8 &lt;       _&gt; &lt;%n&gt;         |  1:STAR(3)\r\n                                      SPACE can match 1 times out of 2147483647...\r\n       8 &lt;       _&gt; &lt;%n&gt;         |  3:  EXACT &lt;\\n&gt;(5)\r\n       9 &lt;       _%n&gt; &lt;&gt;         |  5:  END(0)\r\n    Match successful!\r\n\r\n&lt;!-- language: lang-none --&gt;\r\n\r\n    Matching REx &quot;\\s+\\n&quot; against &quot;       _%n&quot;\r\n    Matching stclass SPACE against &quot;       _&quot; (8 bytes)\r\n       0 &lt;&gt; &lt;       _%n&gt;         |  1:PLUS(3)\r\n                                      SPACE can match 7 times out of 2147483647...\r\n                                      failed...\r\n\r\nI know Perl 5.10+ will immediately fail the regex (without running it) if a newline is not present. I suspect it is using the location of the newline to reduce the amount of searching it does. For all cases above it seems to cleverly reduce the backtracking involved (usually `\/\\s*\\n\/` against a string of spaces would take exponential-time). Can anyone offer insight into why the `\\s+` version is so much faster?\r\n\r\nAlso note that `\\s*?` does not offer any speedup.\r\n\r\n\r\n  [1]: http:\/\/rextester.com\/QQYBD22619","link":"https:\/\/stackoverflow.com\/questions\/38431931\/why-is-s-so-much-faster-than-s-s-in-this-perl-regex","title":"Why is `\\s+` so much faster than `\\s\\s*` in this Perl regex?","body":"<p>Why does replacing <code>\\s*<\/code> (or even <code>\\s\\s*<\/code>) with <code>\\s+<\/code> result in such a speedup for this input?<\/p>\n\n<pre><code>use Benchmark qw(:all);\n$x=(\" \" x 100000) . \"_\\n\";\n$count = 100;\ntimethese($count, {\n    '\/\\s\\s*\\n\/' =&gt; sub { $x =~ \/\\s\\s*\\n\/ },\n    '\/\\s+\\n\/' =&gt; sub { $x =~ \/\\s+\\n\/ },\n});\n<\/code><\/pre>\n\n<p><a href=\"http:\/\/rextester.com\/QQYBD22619\" rel=\"nofollow noreferrer\">Link to online version<\/a><\/p>\n\n<p>I noticed a slow regex <code>s\/\\s*\\n\\s*\/\\n\/g<\/code> in my code - when given a 450KB input file consisting of lots of spaces with a few non-spaces here and there, and a final newline at the end - the regex hung and never finished.<\/p>\n\n<p>I intuitively replaced the regex with <code>s\/\\s+\\n\/\\n\/g; s\/\\n\\s+\/\\n\/g;<\/code> and all was well.<\/p>\n\n<p>But why is it so much faster? After using <code>re Debug =&gt; \"EXECUTE\"<\/code> I noticed the <code>\\s+<\/code> version is somehow optimised to run in only one iteration: <a href=\"http:\/\/pastebin.com\/0Ug6xPiQ\" rel=\"nofollow noreferrer\">http:\/\/pastebin.com\/0Ug6xPiQ<\/a><\/p>\n\n<pre class=\"lang-none prettyprint-override\"><code>Matching REx \"\\s*\\n\" against \"       _%n\"\nMatching stclass ANYOF{i}[\\x09\\x0a\\x0c\\x0d ][{non-utf8-latin1-all}{unicode_all}] against \"       _%n\" (9 bytes)\n   0 &lt;&gt; &lt;       _%n&gt;         |  1:STAR(3)\n                                  SPACE can match 7 times out of 2147483647...\n                                  failed...\n   1 &lt; &gt; &lt;      _%n&gt;         |  1:STAR(3)\n                                  SPACE can match 6 times out of 2147483647...\n                                  failed...\n   2 &lt;  &gt; &lt;     _%n&gt;         |  1:STAR(3)\n                                  SPACE can match 5 times out of 2147483647...\n                                  failed...\n   3 &lt;   &gt; &lt;    _%n&gt;         |  1:STAR(3)\n                                  SPACE can match 4 times out of 2147483647...\n                                  failed...\n   4 &lt;    &gt; &lt;   _%n&gt;         |  1:STAR(3)\n                                  SPACE can match 3 times out of 2147483647...\n                                  failed...\n   5 &lt;     &gt; &lt;  _%n&gt;         |  1:STAR(3)\n                                  SPACE can match 2 times out of 2147483647...\n                                  failed...\n   6 &lt;      &gt; &lt; _%n&gt;         |  1:STAR(3)\n                                  SPACE can match 1 times out of 2147483647...\n                                  failed...\n   8 &lt;       _&gt; &lt;%n&gt;         |  1:STAR(3)\n                                  SPACE can match 1 times out of 2147483647...\n   8 &lt;       _&gt; &lt;%n&gt;         |  3:  EXACT &lt;\\n&gt;(5)\n   9 &lt;       _%n&gt; &lt;&gt;         |  5:  END(0)\nMatch successful!\n<\/code><\/pre>\n\n<pre class=\"lang-none prettyprint-override\"><code>Matching REx \"\\s+\\n\" against \"       _%n\"\nMatching stclass SPACE against \"       _\" (8 bytes)\n   0 &lt;&gt; &lt;       _%n&gt;         |  1:PLUS(3)\n                                  SPACE can match 7 times out of 2147483647...\n                                  failed...\n<\/code><\/pre>\n\n<p>I know Perl 5.10+ will immediately fail the regex (without running it) if a newline is not present. I suspect it is using the location of the newline to reduce the amount of searching it does. For all cases above it seems to cleverly reduce the backtracking involved (usually <code>\/\\s*\\n\/<\/code> against a string of spaces would take exponential-time). Can anyone offer insight into why the <code>\\s+<\/code> version is so much faster?<\/p>\n\n<p>Also note that <code>\\s*?<\/code> does not offer any speedup.<\/p>\n","last_edit_date":1472092400.0,"protected_date":null,"closed_date":null,"closed_reason":null,"community_owned_date":null},{"tags":["perl","string","file-io","file"],"owner":{"account_id":2989,"reputation":26550,"user_id":4234,"user_type":"registered","accept_rate":73,"profile_image":"https:\/\/www.gravatar.com\/avatar\/b6d08f3086f5dfa579a59c9f98e5a348?s=256&d=identicon&r=PG","display_name":"dreeves","link":"https:\/\/stackoverflow.com\/users\/4234\/dreeves"},"is_answered":true,"view_count":31551,"accepted_answer_id":206682.0,"answer_count":17,"score":55,"last_activity_date":1692827812,"creation_date":1224107747,"question_id":206661,"body_markdown":"Yes, [There&#39;s More Than One Way To Do It][1] but there must be a canonical or most efficient or most concise way. I&#39;ll add answers I know of and see what percolates to the top.\r\n\r\nTo be clear, the question is how best to read the contents of a file into a string.\r\nOne solution per answer.\r\n\r\n  [1]: http:\/\/en.wikipedia.org\/wiki\/There_is_more_than_one_way_to_do_it","link":"https:\/\/stackoverflow.com\/questions\/206661\/what-is-the-best-way-to-slurp-a-file-into-a-string-in-perl","title":"What is the best way to slurp a file into a string in Perl?","body":"<p>Yes, <a href=\"http:\/\/en.wikipedia.org\/wiki\/There_is_more_than_one_way_to_do_it\" rel=\"noreferrer\">There's More Than One Way To Do It<\/a> but there must be a canonical or most efficient or most concise way. I'll add answers I know of and see what percolates to the top.<\/p>\n\n<p>To be clear, the question is how best to read the contents of a file into a string.\nOne solution per answer.<\/p>\n","last_edit_date":1334213661.0,"protected_date":1643977440.0,"closed_date":null,"closed_reason":null,"community_owned_date":1224107747.0},{"tags":["perl","home-directory","tilde-expansion"],"owner":{"account_id":52641,"reputation":41332,"user_id":157300,"user_type":"registered","accept_rate":86,"profile_image":"https:\/\/www.gravatar.com\/avatar\/a7322f617d8a955156b8d291bd405cae?s=256&d=identicon&r=PG","display_name":"Haiyuan Zhang","link":"https:\/\/stackoverflow.com\/users\/157300\/haiyuan-zhang"},"is_answered":true,"view_count":49238,"accepted_answer_id":1475367.0,"answer_count":6,"score":55,"last_activity_date":1618409436,"creation_date":1253851196,"question_id":1475357,"body_markdown":"I need to check whether a file in a user&#39;s home directory exists so use file check:\r\n\r\n    if ( -e &quot;~\/foo.txt&quot; ) {\r\n       print &quot;yes, it exists!&quot; ;\r\n    }\r\n\r\nEven though there is a file called _foo.txt_ under the user&#39;s home directory, Perl always\r\ncomplains that there is no such file or directory. When I replace &quot;~&quot; with _\/home\/jimmy_ (let&#39;s say the user is jimmy) then Perl give the right verdict.\r\n\r\nCould you explain why &quot;~&quot; dosen&#39;t work in Perl and tell me what is Perl&#39;s way to \r\nfind a user&#39;s home directory?\r\n","link":"https:\/\/stackoverflow.com\/questions\/1475357\/how-do-i-find-a-users-home-directory-in-perl","title":"How do I find a user&#39;s home directory in Perl?","body":"<p>I need to check whether a file in a user's home directory exists so use file check:<\/p>\n\n<pre><code>if ( -e \"~\/foo.txt\" ) {\n   print \"yes, it exists!\" ;\n}\n<\/code><\/pre>\n\n<p>Even though there is a file called <em>foo.txt<\/em> under the user's home directory, Perl always\ncomplains that there is no such file or directory. When I replace \"~\" with <em>\/home\/jimmy<\/em> (let's say the user is jimmy) then Perl give the right verdict.<\/p>\n\n<p>Could you explain why \"~\" dosen't work in Perl and tell me what is Perl's way to \nfind a user's home directory?<\/p>\n","last_edit_date":1303874664.0,"protected_date":null,"closed_date":null,"closed_reason":null,"community_owned_date":null},{"tags":["arrays","perl"],"owner":{"account_id":84,"reputation":14347,"user_id":102,"user_type":"registered","accept_rate":86,"profile_image":"https:\/\/www.gravatar.com\/avatar\/f20eaa6bccefd48c6ca5aff0badffdce?s=256&d=identicon&r=PG","display_name":"Bill","link":"https:\/\/stackoverflow.com\/users\/102\/bill"},"is_answered":true,"view_count":67262,"accepted_answer_id":1609534.0,"answer_count":14,"score":55,"last_activity_date":1701167612,"creation_date":1256240002,"question_id":1609467,"body_markdown":"I have two arrays of strings that I would like to compare for equality:\r\n\r\n    my @array1 = (&quot;part1&quot;, &quot;part2&quot;, &quot;part3&quot;, &quot;part4&quot;);\r\n    my @array2 = (&quot;part1&quot;, &quot;PART2&quot;, &quot;part3&quot;, &quot;part4&quot;);\r\n\r\nIs there a built-in way to compare arrays like there is for scalars?\r\nI tried:\r\n\r\n    if (@array1 == @array2) {...}\r\n\r\nbut it just evaluated each array in scalar context, and so compared the length of each array.\r\n\r\nI can roll my own function to do it, but it seems like such a low-level operation that there should be a built-in way to do it.  Is there?\r\n\r\nEdit: sadly, I don&#39;t have access to 5.10+ or optional components.","link":"https:\/\/stackoverflow.com\/questions\/1609467\/in-perl-is-there-a-built-in-way-to-compare-two-arrays-for-equality","title":"In Perl, is there a built in way to compare two arrays for equality?","body":"<p>I have two arrays of strings that I would like to compare for equality:<\/p>\n\n<pre><code>my @array1 = (\"part1\", \"part2\", \"part3\", \"part4\");\nmy @array2 = (\"part1\", \"PART2\", \"part3\", \"part4\");\n<\/code><\/pre>\n\n<p>Is there a built-in way to compare arrays like there is for scalars?\nI tried:<\/p>\n\n<pre><code>if (@array1 == @array2) {...}\n<\/code><\/pre>\n\n<p>but it just evaluated each array in scalar context, and so compared the length of each array.<\/p>\n\n<p>I can roll my own function to do it, but it seems like such a low-level operation that there should be a built-in way to do it.  Is there?<\/p>\n\n<p>Edit: sadly, I don't have access to 5.10+ or optional components.<\/p>\n","last_edit_date":1701167612.0,"protected_date":null,"closed_date":null,"closed_reason":null,"community_owned_date":null},{"tags":["perl","types","sigils"],"owner":{"account_id":611976,"reputation":567,"user_id":328120,"user_type":"unregistered","profile_image":"https:\/\/www.gravatar.com\/avatar\/97b965f654b9885b0f8eafe01faaff06?s=256&d=identicon&r=PG","display_name":"Mare","link":"https:\/\/stackoverflow.com\/users\/328120\/mare"},"is_answered":true,"view_count":3635,"accepted_answer_id":null,"answer_count":5,"score":55,"last_activity_date":1542031018,"creation_date":1272473889,"question_id":2731542,"body_markdown":"What is the difference between `$this`, `@that`, and `%those` in Perl?","link":"https:\/\/stackoverflow.com\/questions\/2731542\/what-is-the-difference-between-this-that-and-those-in-perl","title":"What is the difference between `$this`, `@that`, and `%those` in Perl?","body":"<p>What is the difference between <code>$this<\/code>, <code>@that<\/code>, and <code>%those<\/code> in Perl?<\/p>\n","last_edit_date":1272484137.0,"protected_date":null,"closed_date":null,"closed_reason":null,"community_owned_date":null},{"tags":["perl","deobfuscation"],"owner":{"account_id":20813,"reputation":22157,"user_id":50065,"user_type":"registered","accept_rate":93,"profile_image":"https:\/\/i.stack.imgur.com\/ZbEgH.jpg?s=256&g=1","display_name":"BioGeek","link":"https:\/\/stackoverflow.com\/users\/50065\/biogeek"},"is_answered":true,"view_count":2812,"accepted_answer_id":9342353.0,"answer_count":1,"score":55,"last_activity_date":1598454190,"creation_date":1329576349,"question_id":9342164,"body_markdown":"I&#39;m trying to deobfuscate the following Perl code ([source][1]):\r\n\r\n    #!\/usr\/bin\/perl\r\n    (my$d=q[AA                GTCAGTTCCT\r\n      CGCTATGTA                 ACACACACCA\r\n        TTTGTGAGT                ATGTAACATA\r\n          CTCGCTGGC              TATGTCAGAC\r\n            AGATTGATC          GATCGATAGA\r\n              ATGATAGATC     GAACGAGTGA\r\n                TAGATAGAGT GATAGATAGA\r\n                  GAGAGA GATAGAACGA\r\n                    TC GATAGAGAGA\r\n                     TAGATAGACA G\r\n                   ATCGAGAGAC AGATA\r\n                 GAACGACAGA TAGATAGAT\r\n               TGAGTGATAG    ACTGAGAGAT\r\n             AGATAGATTG        ATAGATAGAT\r\n           AGATAGATAG           ACTGATAGAT\r\n         AGAGTGATAG             ATAGAATGAG\r\n       AGATAGACAG               ACAGACAGAT\r\n      AGATAGACAG               AGAGACAGAT\r\n      TGATAGATAG             ATAGATAGAT\r\n      TGATAGATAG           AATGATAGAT\r\n       AGATTGAGTG        ACAGATCGAT\r\n         AGAACCTTTCT   CAGTAACAGT\r\n           CTTTCTCGC TGGCTTGCTT\r\n             TCTAA CAACCTTACT\r\n               G ACTGCCTTTC\r\n               TGAGATAGAT CGA\r\n             TAGATAGATA GACAGAC\r\n           AGATAGATAG  ATAGAATGAC\r\n         AGACAGAGAG      ACAGAATGAT\r\n       CGAGAGACAG          ATAGATAGAT\r\n      AGAATGATAG             ACAGATAGAC\r\n      AGATAGATAG               ACAGACAGAT\r\n      AGACAGACTG                 ATAGATAGAT\r\n       AGATAGATAG                 AATGACAGAT\r\n         CGATTGAATG               ACAGATAGAT\r\n           CGACAGATAG             ATAGACAGAT\r\n             AGAGTGATAG          ATTGATCGAC\r\n               TGATTGATAG      ACTGATTGAT\r\n                 AGACAGATAG  AGTGACAGAT\r\n                   CGACAGA TAGATAGATA\r\n                     GATA GATAGATAG\r\n                        ATAGACAGA G\r\n                      AGATAGATAG ACA\r\n                    GTCGCAAGTTC GCTCACA\r\n    ])=~s\/\\s+\/\/g;%a=map{chr $_=&gt;$i++}65,84,67,\r\n    71;$p=join$;,keys%a;while($d=~\/([$p]{4})\/g\r\n    ){next if$j++%96&gt;=16;$c=0;for$d(0..3){$c+=\r\n    $a{substr($1,$d,1)}*(4**$d)}$perl.=chr $c}\r\n                 eval $perl;\r\n\r\nWhen run, it prints out `Just another genome hacker.` \r\n\r\nAfter running the code trough `Deparse` and `perltidy` (`perl -MO=Deparse jagh.pl | perltidy`) the code looks like this:\r\n\r\n    ( my $d =\r\n    &quot;AA...GCTCACA\\n&quot; # snipped double helix part\r\n    ) =~ s\/\\s+\/\/g;\r\n    (%a) = map( { chr $_, $i++; } 65, 84, 67, 71 );\r\n    $p = join( $;, keys %a );\r\n    while ( $d =~ \/([$p]{4})\/g ) {\r\n        next if $j++ % 96 &gt;= 16;\r\n        $c = 0;\r\n        foreach $d ( 0 .. 3 ) {\r\n            $c += $a{ substr $1, $d, 1 } * 4**$d;\r\n        }\r\n        $perl .= chr $c;\r\n    }\r\n\r\n \r\nHere&#39;s what I&#39;ve been able to decipher on my own.\r\n\r\n    ( my $d =\r\n    &quot;AA...GCTCACA\\n&quot; # snipped double helix part\r\n    ) =~ s\/\\s+\/\/g;\r\n\r\nremoves all whitespace in `$d` (the double helix).\r\n\r\n    (%a) = map( { chr $_, $i++; } 65, 84, 67, 71 );\r\n\r\nmakes a hash with as keys `A`, `T`, `C` and `G` and as values `0`, `1`, `2` and `3`. \r\nI normally code in Python, so this translates to a dictionary `{&#39;A&#39;: 0, &#39;B&#39;: 1, &#39;C&#39;: 2, &#39;D&#39;: 3}` in Python.\r\n\r\n    $p = join( $;, keys %a );\r\n\r\njoins the keys of the hash with `$;` the [subscript separator for multidimensional array emulation][2]. The documentation says that the default is &quot;\\034&quot;, the same as SUBSEP in awk, but when I do:\r\n\r\n    my @ascii = unpack(&quot;C*&quot;, $p);\r\n    print @ascii[1];\r\n\r\nI get the value `28`? Also, it is not clear to me how this emulates a multidimensional array. Is `$p` now something like `[[&#39;A&#39;], [&#39;T&#39;], [&#39;C&#39;], [&#39;G&#39;]]` in Python?\r\n\r\n        while ( $d =~ \/([$p]{4})\/g ) {\r\n\r\nAs long as `$d` matches `([$p]{4})`, execute the code in the while block. but since I don&#39;t completely understand what structure `$p` is, i also have a hard time understanding what happens here.\r\n\r\n    next if $j++ % 96 &gt;= 16;\r\n\r\nContinue if the `$j` modulo 96 is greater or equal to 16. `$j` increments with each pass  of the while loop (?).\r\n\r\n    $c = 0;\r\n    foreach $d ( 0 .. 3 ) {\r\n        $c += $a{ substr $1, $d, 1 } * 4**$d;\r\n    }\r\n\r\nFor `$d` in the range from `0` to `3` extract some substring, but at this point I&#39;m completely lost. The last few lines concatenate everything and evaluates the result.\r\n\r\n\r\n  [1]: http:\/\/www.cafepress.co.uk\/+just_another_genome_hacker_white_t,5065189\r\n  [2]: http:\/\/perldoc.perl.org\/perlvar.html\r\n\r\n","link":"https:\/\/stackoverflow.com\/questions\/9342164\/how-to-properly-deobfusacte-a-perl-script","title":"How to properly deobfusacte a Perl script?","body":"<p>I'm trying to deobfuscate the following Perl code (<a href=\"http:\/\/www.cafepress.co.uk\/+just_another_genome_hacker_white_t,5065189\" rel=\"nofollow noreferrer\">source<\/a>):<\/p>\n<pre><code>#!\/usr\/bin\/perl\n(my$d=q[AA                GTCAGTTCCT\n  CGCTATGTA                 ACACACACCA\n    TTTGTGAGT                ATGTAACATA\n      CTCGCTGGC              TATGTCAGAC\n        AGATTGATC          GATCGATAGA\n          ATGATAGATC     GAACGAGTGA\n            TAGATAGAGT GATAGATAGA\n              GAGAGA GATAGAACGA\n                TC GATAGAGAGA\n                 TAGATAGACA G\n               ATCGAGAGAC AGATA\n             GAACGACAGA TAGATAGAT\n           TGAGTGATAG    ACTGAGAGAT\n         AGATAGATTG        ATAGATAGAT\n       AGATAGATAG           ACTGATAGAT\n     AGAGTGATAG             ATAGAATGAG\n   AGATAGACAG               ACAGACAGAT\n  AGATAGACAG               AGAGACAGAT\n  TGATAGATAG             ATAGATAGAT\n  TGATAGATAG           AATGATAGAT\n   AGATTGAGTG        ACAGATCGAT\n     AGAACCTTTCT   CAGTAACAGT\n       CTTTCTCGC TGGCTTGCTT\n         TCTAA CAACCTTACT\n           G ACTGCCTTTC\n           TGAGATAGAT CGA\n         TAGATAGATA GACAGAC\n       AGATAGATAG  ATAGAATGAC\n     AGACAGAGAG      ACAGAATGAT\n   CGAGAGACAG          ATAGATAGAT\n  AGAATGATAG             ACAGATAGAC\n  AGATAGATAG               ACAGACAGAT\n  AGACAGACTG                 ATAGATAGAT\n   AGATAGATAG                 AATGACAGAT\n     CGATTGAATG               ACAGATAGAT\n       CGACAGATAG             ATAGACAGAT\n         AGAGTGATAG          ATTGATCGAC\n           TGATTGATAG      ACTGATTGAT\n             AGACAGATAG  AGTGACAGAT\n               CGACAGA TAGATAGATA\n                 GATA GATAGATAG\n                    ATAGACAGA G\n                  AGATAGATAG ACA\n                GTCGCAAGTTC GCTCACA\n])=~s\/\\s+\/\/g;%a=map{chr $_=&gt;$i++}65,84,67,\n71;$p=join$;,keys%a;while($d=~\/([$p]{4})\/g\n){next if$j++%96&gt;=16;$c=0;for$d(0..3){$c+=\n$a{substr($1,$d,1)}*(4**$d)}$perl.=chr $c}\n             eval $perl;\n<\/code><\/pre>\n<p>When run, it prints out <code>Just another genome hacker.<\/code><\/p>\n<p>After running the code trough <code>Deparse<\/code> and <code>perltidy<\/code> (<code>perl -MO=Deparse jagh.pl | perltidy<\/code>) the code looks like this:<\/p>\n<pre><code>( my $d =\n&quot;AA...GCTCACA\\n&quot; # snipped double helix part\n) =~ s\/\\s+\/\/g;\n(%a) = map( { chr $_, $i++; } 65, 84, 67, 71 );\n$p = join( $;, keys %a );\nwhile ( $d =~ \/([$p]{4})\/g ) {\n    next if $j++ % 96 &gt;= 16;\n    $c = 0;\n    foreach $d ( 0 .. 3 ) {\n        $c += $a{ substr $1, $d, 1 } * 4**$d;\n    }\n    $perl .= chr $c;\n}\n<\/code><\/pre>\n<p>Here's what I've been able to decipher on my own.<\/p>\n<pre><code>( my $d =\n&quot;AA...GCTCACA\\n&quot; # snipped double helix part\n) =~ s\/\\s+\/\/g;\n<\/code><\/pre>\n<p>removes all whitespace in <code>$d<\/code> (the double helix).<\/p>\n<pre><code>(%a) = map( { chr $_, $i++; } 65, 84, 67, 71 );\n<\/code><\/pre>\n<p>makes a hash with as keys <code>A<\/code>, <code>T<\/code>, <code>C<\/code> and <code>G<\/code> and as values <code>0<\/code>, <code>1<\/code>, <code>2<\/code> and <code>3<\/code>.\nI normally code in Python, so this translates to a dictionary <code>{'A': 0, 'B': 1, 'C': 2, 'D': 3}<\/code> in Python.<\/p>\n<pre><code>$p = join( $;, keys %a );\n<\/code><\/pre>\n<p>joins the keys of the hash with <code>$;<\/code> the <a href=\"http:\/\/perldoc.perl.org\/perlvar.html\" rel=\"nofollow noreferrer\">subscript separator for multidimensional array emulation<\/a>. The documentation says that the default is &quot;\\034&quot;, the same as SUBSEP in awk, but when I do:<\/p>\n<pre><code>my @ascii = unpack(&quot;C*&quot;, $p);\nprint @ascii[1];\n<\/code><\/pre>\n<p>I get the value <code>28<\/code>? Also, it is not clear to me how this emulates a multidimensional array. Is <code>$p<\/code> now something like <code>[['A'], ['T'], ['C'], ['G']]<\/code> in Python?<\/p>\n<pre><code>    while ( $d =~ \/([$p]{4})\/g ) {\n<\/code><\/pre>\n<p>As long as <code>$d<\/code> matches <code>([$p]{4})<\/code>, execute the code in the while block. but since I don't completely understand what structure <code>$p<\/code> is, i also have a hard time understanding what happens here.<\/p>\n<pre><code>next if $j++ % 96 &gt;= 16;\n<\/code><\/pre>\n<p>Continue if the <code>$j<\/code> modulo 96 is greater or equal to 16. <code>$j<\/code> increments with each pass  of the while loop (?).<\/p>\n<pre><code>$c = 0;\nforeach $d ( 0 .. 3 ) {\n    $c += $a{ substr $1, $d, 1 } * 4**$d;\n}\n<\/code><\/pre>\n<p>For <code>$d<\/code> in the range from <code>0<\/code> to <code>3<\/code> extract some substring, but at this point I'm completely lost. The last few lines concatenate everything and evaluates the result.<\/p>\n","last_edit_date":1598454190.0,"protected_date":null,"closed_date":null,"closed_reason":null,"community_owned_date":null},{"tags":["perl","if-statement","readability"],"owner":{"account_id":5121,"reputation":40860,"user_id":8078,"user_type":"registered","accept_rate":83,"profile_image":"https:\/\/www.gravatar.com\/avatar\/26a6b978dd7b7f8ea7dd446cff12cf5c?s=256&d=identicon&r=PG","display_name":"JSB\u0571\u0578\u0563\u0579","link":"https:\/\/stackoverflow.com\/users\/8078\/jsb%d5%b1%d5%b8%d5%a3%d5%b9"},"is_answered":true,"view_count":58883,"accepted_answer_id":null,"answer_count":9,"score":54,"last_activity_date":1547653495,"creation_date":1276633227,"question_id":3048726,"body_markdown":"What are some guidelines for the best use of `if` versus `unless` in Perl code? Are there strong reasons to prefer one or the other in some situations?","link":"https:\/\/stackoverflow.com\/questions\/3048726\/usage-of-if-versus-unless-for-perl-conditionals","title":"Usage of \u2018if\u2019 versus \u2018unless\u2019 for Perl conditionals","body":"<p>What are some guidelines for the best use of <code>if<\/code> versus <code>unless<\/code> in Perl code? Are there strong reasons to prefer one or the other in some situations?<\/p>\n","last_edit_date":1276638049.0,"protected_date":null,"closed_date":null,"closed_reason":null,"community_owned_date":1276633227.0},{"tags":["python","ruby","perl","node.js","shell"],"owner":{"account_id":179352,"reputation":21510,"user_id":411944,"user_type":"registered","accept_rate":88,"profile_image":"https:\/\/www.gravatar.com\/avatar\/7bf057b98d0652db34842d1817234853?s=256&d=identicon&r=PG","display_name":"Reactormonk","link":"https:\/\/stackoverflow.com\/users\/411944\/reactormonk"},"is_answered":true,"view_count":63930,"accepted_answer_id":15328771.0,"answer_count":4,"score":54,"last_activity_date":1604247772,"creation_date":1362955342,"question_id":15328623,"body_markdown":"I&#39;m looking for a dead simple bin that I can launch up in the shell and have it serve the current directory (preferably not ..), with maybe a `-p` for specifying port. As it should be a development server, it should by default allow connections from localhost only, maybe with an option to specify otherwise. The simpler, the better.\r\n\r\nNot sure which tags to use here.","link":"https:\/\/stackoverflow.com\/questions\/15328623\/simple-file-server-to-serve-current-directory","title":"Simple file server to serve current directory","body":"<p>I'm looking for a dead simple bin that I can launch up in the shell and have it serve the current directory (preferably not ..), with maybe a <code>-p<\/code> for specifying port. As it should be a development server, it should by default allow connections from localhost only, maybe with an option to specify otherwise. The simpler, the better.<\/p>\n\n<p>Not sure which tags to use here.<\/p>\n","last_edit_date":null,"protected_date":null,"closed_date":1383904859.0,"closed_reason":"Not suitable for this site","community_owned_date":null},{"tags":["perl","subroutine"],"owner":{"account_id":877617,"reputation":19000,"user_id":105033,"user_type":"registered","accept_rate":96,"profile_image":"https:\/\/www.gravatar.com\/avatar\/730e8c40843979c92f7883e8b15cd6c8?s=256&d=identicon&r=PG","display_name":"user105033","link":"https:\/\/stackoverflow.com\/users\/105033\/user105033"},"is_answered":true,"view_count":38758,"accepted_answer_id":1347410.0,"answer_count":4,"score":54,"last_activity_date":1430836572,"creation_date":1251469979,"question_id":1347396,"body_markdown":"I have heard that people shouldn&#39;t be using `&amp;` to call Perl subs, i.e:\r\n\r\n    function($a,$b,...);\r\n    # opposed to\r\n    &amp;function($a,$b,...);\r\n\r\nI know for one the argument list becomes optional, but what are some cases where it is appropriate to use the `&amp;` and the cases where you should absolutely not be using it?\r\n\r\nAlso how does the performace increase come into play here when omitting the `&amp;`?","link":"https:\/\/stackoverflow.com\/questions\/1347396\/when-should-i-use-the-to-call-a-perl-subroutine","title":"When should I use the &amp; to call a Perl subroutine?","body":"<p>I have heard that people shouldn't be using <code>&amp;<\/code> to call Perl subs, i.e:<\/p>\n\n<pre><code>function($a,$b,...);\n# opposed to\n&amp;function($a,$b,...);\n<\/code><\/pre>\n\n<p>I know for one the argument list becomes optional, but what are some cases where it is appropriate to use the <code>&amp;<\/code> and the cases where you should absolutely not be using it?<\/p>\n\n<p>Also how does the performace increase come into play here when omitting the <code>&amp;<\/code>?<\/p>\n","last_edit_date":1340235629.0,"protected_date":null,"closed_date":null,"closed_reason":null,"community_owned_date":null},{"tags":["perl","datetime","parsing","date","time"],"owner":{"account_id":2989,"reputation":26550,"user_id":4234,"user_type":"registered","accept_rate":73,"profile_image":"https:\/\/www.gravatar.com\/avatar\/b6d08f3086f5dfa579a59c9f98e5a348?s=256&d=identicon&r=PG","display_name":"dreeves","link":"https:\/\/stackoverflow.com\/users\/4234\/dreeves"},"is_answered":true,"view_count":140235,"accepted_answer_id":95539.0,"answer_count":14,"score":54,"last_activity_date":1669370122,"creation_date":1221763208,"question_id":95492,"body_markdown":"Given a date\/time as an array of (year, month, day, hour, minute, second), how would you convert it to epoch time, i.e., the number of seconds since 1970-01-01 00:00:00 GMT?\r\n\r\nBonus question: If given the date\/time as a string, how would you first parse it into the (y,m,d,h,m,s) array?","link":"https:\/\/stackoverflow.com\/questions\/95492\/how-do-i-convert-a-date-time-to-epoch-time-unix-time-seconds-since-1970-in-per","title":"How do I convert a date\/time to epoch time (unix time\/seconds since 1970) in Perl?","body":"<p>Given a date\/time as an array of (year, month, day, hour, minute, second), how would you convert it to epoch time, i.e., the number of seconds since 1970-01-01 00:00:00 GMT?<\/p>\n\n<p>Bonus question: If given the date\/time as a string, how would you first parse it into the (y,m,d,h,m,s) array?<\/p>\n","last_edit_date":1519643774.0,"protected_date":null,"closed_date":null,"closed_reason":null,"community_owned_date":1226948504.0},{"tags":["perl","hash"],"owner":{"account_id":41447,"reputation":34749,"user_id":120457,"user_type":"registered","accept_rate":91,"profile_image":"https:\/\/www.gravatar.com\/avatar\/56abbd59ee5a0cd86c8c14a4664dd83e?s=256&d=identicon&r=PG","display_name":"joe","link":"https:\/\/stackoverflow.com\/users\/120457\/joe"},"is_answered":true,"view_count":85577,"accepted_answer_id":1109098.0,"answer_count":5,"score":54,"last_activity_date":1536980004,"creation_date":1247226484,"question_id":1109095,"body_markdown":"How do I find the number of keys in a hash, like using `$#` for arrays? ","link":"https:\/\/stackoverflow.com\/questions\/1109095\/how-can-i-find-the-number-of-keys-in-a-hash-in-perl","title":"How can I find the number of keys in a hash in Perl?","body":"<p>How do I find the number of keys in a hash, like using <code>$#<\/code> for arrays? <\/p>\n","last_edit_date":1492775563.0,"protected_date":null,"closed_date":null,"closed_reason":null,"community_owned_date":null},{"tags":["perl","compilation"],"owner":{"account_id":1725042,"reputation":3289,"user_id":1729501,"user_type":"registered","accept_rate":79,"profile_image":"https:\/\/www.gravatar.com\/avatar\/ea8e08644c9bef0d92007c15f8e9fee9?s=256&d=identicon&r=PG","display_name":"user13107","link":"https:\/\/stackoverflow.com\/users\/1729501\/user13107"},"is_answered":true,"view_count":86617,"accepted_answer_id":12908487.0,"answer_count":4,"score":54,"last_activity_date":1521315771,"creation_date":1350367195,"question_id":12908416,"body_markdown":"I am calling many Perl scripts in my Bash script (sometimes from csh also).\r\n\r\nAt the start of the Bash script I want to put a test which checks if all the Perl scripts are devoid of any compilation errors.\r\n\r\nOne way of doing this would be to actually call the Perl script from the Bash script and `grep` for &quot;compilation error&quot; in the piped log file, but this becomes messy as different Perl scripts are called at different points in the code, so I want to do this at the very start of the Bash script.\r\n\r\nIs there a way to check if the Perl script has no compilation error?\r\n","link":"https:\/\/stackoverflow.com\/questions\/12908416\/how-to-check-if-a-perl-script-doesnt-have-any-compilation-errors","title":"How to check if a Perl script doesn&#39;t have any compilation errors?","body":"<p>I am calling many Perl scripts in my Bash script (sometimes from csh also).<\/p>\n\n<p>At the start of the Bash script I want to put a test which checks if all the Perl scripts are devoid of any compilation errors.<\/p>\n\n<p>One way of doing this would be to actually call the Perl script from the Bash script and <code>grep<\/code> for \"compilation error\" in the piped log file, but this becomes messy as different Perl scripts are called at different points in the code, so I want to do this at the very start of the Bash script.<\/p>\n\n<p>Is there a way to check if the Perl script has no compilation error?<\/p>\n","last_edit_date":1451424577.0,"protected_date":null,"closed_date":null,"closed_reason":null,"community_owned_date":null},{"tags":["perl","date","formatting"],"owner":{"account_id":141409,"reputation":6623,"user_id":348408,"user_type":"registered","accept_rate":92,"profile_image":"https:\/\/www.gravatar.com\/avatar\/f2e27804ebef1ecd80974578c42d91b6?s=256&d=identicon&r=PG","display_name":"dvanaria","link":"https:\/\/stackoverflow.com\/users\/348408\/dvanaria"},"is_answered":true,"view_count":169863,"accepted_answer_id":11020876.0,"answer_count":7,"score":53,"last_activity_date":1457519668,"creation_date":1339610970,"question_id":11020812,"body_markdown":"I&#39;m working on a Perl program at work and stuck on (what I think is) a trivial problem. I simply need to build a string in the format &#39;06\/13\/2012&#39; (always 10 characters, so 0&#39;s for numbers less than 10).\r\n\r\nHere&#39;s what I have so far:\r\n\r\n    use Time::localtime;\r\n    $tm=localtime;\r\n    my ($day,$month,$year)=($tm-&gt;mday,$tm-&gt;month,$tm-&gt;year);\r\n\r\n","link":"https:\/\/stackoverflow.com\/questions\/11020812\/todays-date-in-perl-in-mm-dd-yyyy-format","title":"Today&#39;s Date in Perl in MM\/DD\/YYYY format","body":"<p>I'm working on a Perl program at work and stuck on (what I think is) a trivial problem. I simply need to build a string in the format '06\/13\/2012' (always 10 characters, so 0's for numbers less than 10).<\/p>\n\n<p>Here's what I have so far:<\/p>\n\n<pre><code>use Time::localtime;\n$tm=localtime;\nmy ($day,$month,$year)=($tm-&gt;mday,$tm-&gt;month,$tm-&gt;year);\n<\/code><\/pre>\n","last_edit_date":1339696949.0,"protected_date":null,"closed_date":null,"closed_reason":null,"community_owned_date":null},{"tags":["perl"],"owner":{"account_id":123594,"reputation":2166,"user_id":318146,"user_type":"registered","accept_rate":84,"profile_image":"https:\/\/i.stack.imgur.com\/6WZ0N.jpg?s=256&g=1","display_name":"masterial","link":"https:\/\/stackoverflow.com\/users\/318146\/masterial"},"is_answered":true,"view_count":100153,"accepted_answer_id":4600204.0,"answer_count":5,"score":53,"last_activity_date":1700379105,"creation_date":1294192587,"question_id":4600192,"body_markdown":"How can I get the name of the script?\r\n\r\nFor example, I have a Perl script with the name `XXX.pl`. This file contains:\r\n\r\n    $name = #some function that obtains the script&#39;s own name\r\n    print $name;\r\n\r\nOutput:\r\n\r\n    XXX.pl\r\n\r\nI would like to liken this to the CWD function that obtains the scripts directory. I need a function that obtains the script&#39;s name as well.\r\n\r\n","link":"https:\/\/stackoverflow.com\/questions\/4600192\/how-to-get-the-name-of-perl-script-that-is-running","title":"How to get the name of Perl script that is running","body":"<p>How can I get the name of the script?<\/p>\n\n<p>For example, I have a Perl script with the name <code>XXX.pl<\/code>. This file contains:<\/p>\n\n<pre><code>$name = #some function that obtains the script's own name\nprint $name;\n<\/code><\/pre>\n\n<p>Output:<\/p>\n\n<pre><code>XXX.pl\n<\/code><\/pre>\n\n<p>I would like to liken this to the CWD function that obtains the scripts directory. I need a function that obtains the script's name as well.<\/p>\n","last_edit_date":1498089627.0,"protected_date":null,"closed_date":null,"closed_reason":null,"community_owned_date":null},{"tags":["string","perl","string-matching"],"owner":{"account_id":766986,"reputation":601,"user_id":887921,"user_type":"unregistered","profile_image":"https:\/\/www.gravatar.com\/avatar\/60205de9b838eae571cd59ac2ed67a31?s=256&d=identicon&r=PG","display_name":"Hellos","link":"https:\/\/stackoverflow.com\/users\/887921\/hellos"},"is_answered":true,"view_count":266347,"accepted_answer_id":null,"answer_count":3,"score":53,"last_activity_date":1635172506,"creation_date":1312982764,"question_id":7011524,"body_markdown":"I want to use curl to view the source of a page and if that source contains a word that matches the string then it will execute a print. How would I do a `if $string contains`?\r\n\r\nIn VB it would be like.\r\n\r\n    dim string1 as string = &quot;1&quot;\r\n    If string1.contains(&quot;1&quot;) Then\r\n    Code here...\r\n    End If\r\n\r\nSomething similar to that but in Perl.","link":"https:\/\/stackoverflow.com\/questions\/7011524\/perl-if-string-contains-text","title":"Perl - If string contains text?","body":"<p>I want to use curl to view the source of a page and if that source contains a word that matches the string then it will execute a print. How would I do a <code>if $string contains<\/code>?<\/p>\n\n<p>In VB it would be like.<\/p>\n\n<pre><code>dim string1 as string = \"1\"\nIf string1.contains(\"1\") Then\nCode here...\nEnd If\n<\/code><\/pre>\n\n<p>Something similar to that but in Perl.<\/p>\n","last_edit_date":1447505690.0,"protected_date":null,"closed_date":null,"closed_reason":null,"community_owned_date":null},{"tags":["php","javascript","python","regex","perl"],"owner":{"account_id":1570853,"reputation":62535,"user_id":1458569,"user_type":"registered","accept_rate":67,"profile_image":"https:\/\/i.stack.imgur.com\/mPKhD.png?s=256&g=1","display_name":"Igor Chubin","link":"https:\/\/stackoverflow.com\/users\/1458569\/igor-chubin"},"is_answered":true,"view_count":11119,"accepted_answer_id":11640500.0,"answer_count":5,"score":53,"last_activity_date":1614727332,"creation_date":1343170354,"question_id":11640447,"body_markdown":"Is there an implementation of regular expressions in Python\/PHP\/JavaScript that supports variable-length lookbehind-assertion?\r\n\r\n    \/(?&lt;!foo.*)bar\/\r\n\r\nHow can I write a regular expression that has the same meaning, but uses no lookbehind-assertion?\r\n\r\nIs there a chance that this type of assertion will be implemented some day?\r\n\r\nThings are much better that I thought. \r\n\r\n**Update:**\r\n\r\n(1) There are regular expressions implementation that support variable-length lookbehind-assertion already.\r\n\r\nPython module [regex](http:\/\/pypi.python.org\/pypi\/regex) (not standard `re`, but additional `regex` module) supports such assertions (and has many other cool features).\r\n\r\n    &gt;&gt;&gt; import regex\r\n    &gt;&gt;&gt; m = regex.search(&#39;(?&lt;!foo.*)bar&#39;, &#39;f00bar&#39;)\r\n    &gt;&gt;&gt; print m.group()\r\n    bar\r\n    &gt;&gt;&gt; m = regex.search(&#39;(?&lt;!foo.*)bar&#39;, &#39;foobar&#39;)\r\n    &gt;&gt;&gt; print m\r\n    None\r\n\r\nIt was a really big surprise for me that there is something in regular expressions that Perl can&#39;t do and Python can. Probably, there is &quot;enhanced regular expression&quot; implementation for Perl also?\r\n\r\n(Thanks and +1 to MRAB).\r\n\r\n(2) There is a cool feature `\\K` in modern regular expressions.\r\n\r\nThis symbols means that when you make a substitution (and from my point of view the most interesting use case of assertions is the substitution), all characters that were found before `\\K` must not be changed.\r\n\r\n    s\/unchanged-part\\Kchanged-part\/new-part\/x\r\n\r\nThat is almost like a look-behind assertion, but not so flexible of course.\r\n\r\nMore about `\\K`:\r\n\r\n* [Perl Regular Expression \\K Trick](http:\/\/www.cybersprocket.com\/perl-regular-expression-k-trick\/)\r\n* [PCRE Regex Spotlight: \\K](http:\/\/www.phpfreaks.com\/blog\/pcre-regex-spotlight-k)\r\n\r\nAs far as I understand, you can&#39;t use \\K twice in the same regular expression. And you can&#39;t say till which point you want to &quot;kill&quot; the characters that you&#39;ve found. That is always till the beginning of the line.\r\n\r\n(Thanks and +1 to ikegami).\r\n\r\nMy additional questions:\r\n\r\n* Is it possible to say what point must be the final point of `\\K` effect?\r\n* What about enhanced regular expressions implementations for Perl\/Ruby\/JavaScript\/PHP? Something like `regex` for Python. \r\n","link":"https:\/\/stackoverflow.com\/questions\/11640447\/variable-length-lookbehind-assertion-alternatives-for-regular-expressions","title":"Variable-length lookbehind-assertion alternatives for regular expressions","body":"<p>Is there an implementation of regular expressions in Python\/PHP\/JavaScript that supports variable-length lookbehind-assertion?<\/p>\n\n<pre><code>\/(?&lt;!foo.*)bar\/\n<\/code><\/pre>\n\n<p>How can I write a regular expression that has the same meaning, but uses no lookbehind-assertion?<\/p>\n\n<p>Is there a chance that this type of assertion will be implemented some day?<\/p>\n\n<p>Things are much better that I thought. <\/p>\n\n<p><strong>Update:<\/strong><\/p>\n\n<p>(1) There are regular expressions implementation that support variable-length lookbehind-assertion already.<\/p>\n\n<p>Python module <a href=\"http:\/\/pypi.python.org\/pypi\/regex\" rel=\"noreferrer\">regex<\/a> (not standard <code>re<\/code>, but additional <code>regex<\/code> module) supports such assertions (and has many other cool features).<\/p>\n\n<pre><code>&gt;&gt;&gt; import regex\n&gt;&gt;&gt; m = regex.search('(?&lt;!foo.*)bar', 'f00bar')\n&gt;&gt;&gt; print m.group()\nbar\n&gt;&gt;&gt; m = regex.search('(?&lt;!foo.*)bar', 'foobar')\n&gt;&gt;&gt; print m\nNone\n<\/code><\/pre>\n\n<p>It was a really big surprise for me that there is something in regular expressions that Perl can't do and Python can. Probably, there is \"enhanced regular expression\" implementation for Perl also?<\/p>\n\n<p>(Thanks and +1 to MRAB).<\/p>\n\n<p>(2) There is a cool feature <code>\\K<\/code> in modern regular expressions.<\/p>\n\n<p>This symbols means that when you make a substitution (and from my point of view the most interesting use case of assertions is the substitution), all characters that were found before <code>\\K<\/code> must not be changed.<\/p>\n\n<pre><code>s\/unchanged-part\\Kchanged-part\/new-part\/x\n<\/code><\/pre>\n\n<p>That is almost like a look-behind assertion, but not so flexible of course.<\/p>\n\n<p>More about <code>\\K<\/code>:<\/p>\n\n<ul>\n<li><a href=\"http:\/\/www.cybersprocket.com\/perl-regular-expression-k-trick\/\" rel=\"noreferrer\">Perl Regular Expression \\K Trick<\/a><\/li>\n<li><a href=\"http:\/\/www.phpfreaks.com\/blog\/pcre-regex-spotlight-k\" rel=\"noreferrer\">PCRE Regex Spotlight: \\K<\/a><\/li>\n<\/ul>\n\n<p>As far as I understand, you can't use \\K twice in the same regular expression. And you can't say till which point you want to \"kill\" the characters that you've found. That is always till the beginning of the line.<\/p>\n\n<p>(Thanks and +1 to ikegami).<\/p>\n\n<p>My additional questions:<\/p>\n\n<ul>\n<li>Is it possible to say what point must be the final point of <code>\\K<\/code> effect?<\/li>\n<li>What about enhanced regular expressions implementations for Perl\/Ruby\/JavaScript\/PHP? Something like <code>regex<\/code> for Python. <\/li>\n<\/ul>\n","last_edit_date":1489315050.0,"protected_date":null,"closed_date":null,"closed_reason":null,"community_owned_date":null},{"tags":["regex","perl"],"owner":{"account_id":41447,"reputation":34749,"user_id":120457,"user_type":"registered","accept_rate":91,"profile_image":"https:\/\/www.gravatar.com\/avatar\/56abbd59ee5a0cd86c8c14a4664dd83e?s=256&d=identicon&r=PG","display_name":"joe","link":"https:\/\/stackoverflow.com\/users\/120457\/joe"},"is_answered":true,"view_count":172652,"accepted_answer_id":6363029.0,"answer_count":5,"score":52,"last_activity_date":1502546958,"creation_date":1308156613,"question_id":6361312,"body_markdown":"I have this regex:\r\n\r\n    if($string =~ m\/^(Clinton|[^Bush]|Reagan)\/i)\r\n      {print &quot;$string\\n&quot;};\r\n\r\nI want to match with Clinton and Reagan, but not Bush.\r\n\r\nIt&#39;s not working.\r\n","link":"https:\/\/stackoverflow.com\/questions\/6361312\/negative-regex-for-perl-string-pattern-match","title":"Negative regex for Perl string pattern match","body":"<p>I have this regex:<\/p>\n\n<pre><code>if($string =~ m\/^(Clinton|[^Bush]|Reagan)\/i)\n  {print \"$string\\n\"};\n<\/code><\/pre>\n\n<p>I want to match with Clinton and Reagan, but not Bush.<\/p>\n\n<p>It's not working.<\/p>\n","last_edit_date":1502546958.0,"protected_date":null,"closed_date":null,"closed_reason":null,"community_owned_date":null},{"tags":["perl","module"],"owner":{"user_type":"does_not_exist","display_name":"ees"},"is_answered":true,"view_count":162569,"accepted_answer_id":841812.0,"answer_count":6,"score":52,"last_activity_date":1462274118,"creation_date":1241816665,"question_id":841785,"body_markdown":"How do I include a Perl module that&#39;s in a different directory?  It needs to be a relative path from the module that&#39;s including it.\r\n\r\nI&#39;ve tried \r\n\r\n    push ( @INC,&quot;directory_path\/more_path&quot;);\r\n\r\nalso\r\n\r\n    push ( @INC,&quot;directory_path\\\\more_path&quot;);","link":"https:\/\/stackoverflow.com\/questions\/841785\/how-do-i-include-a-perl-module-thats-in-a-different-directory","title":"How do I include a Perl module that&#39;s in a different directory?","body":"<p>How do I include a Perl module that's in a different directory?  It needs to be a relative path from the module that's including it.<\/p>\n\n<p>I've tried <\/p>\n\n<pre><code>push ( @INC,\"directory_path\/more_path\");\n<\/code><\/pre>\n\n<p>also<\/p>\n\n<pre><code>push ( @INC,\"directory_path\\\\more_path\");\n<\/code><\/pre>\n","last_edit_date":1462274118.0,"protected_date":null,"closed_date":null,"closed_reason":null,"community_owned_date":null},{"tags":["perl","subclass","pragma"],"owner":{"account_id":29074,"reputation":64398,"user_id":78259,"user_type":"registered","accept_rate":53,"profile_image":"https:\/\/www.gravatar.com\/avatar\/844c572938eaad1e44eb084fb39416f9?s=256&d=identicon&r=PG","display_name":"Chas. Owens","link":"https:\/\/stackoverflow.com\/users\/78259\/chas-owens"},"is_answered":true,"view_count":14475,"accepted_answer_id":876578.0,"answer_count":2,"score":52,"last_activity_date":1524068546,"creation_date":1242628609,"question_id":876471,"body_markdown":"There appears to be a new pragma named [`parent`][1] that does roughly the same thing as [`base`][2].  What does `parent` do that warrants a new (non-core) module?  I am missing something?\r\n\r\n\r\n  [1]: http:\/\/search.cpan.org\/dist\/parent\/lib\/parent.pm\r\n  [2]: http:\/\/perldoc.perl.org\/base.html","link":"https:\/\/stackoverflow.com\/questions\/876471\/what-is-the-difference-between-parent-and-base-in-perl-5","title":"What is the difference between parent and base in Perl 5?","body":"<p>There appears to be a new pragma named <a href=\"http:\/\/search.cpan.org\/dist\/parent\/lib\/parent.pm\" rel=\"noreferrer\"><code>parent<\/code><\/a> that does roughly the same thing as <a href=\"http:\/\/perldoc.perl.org\/base.html\" rel=\"noreferrer\"><code>base<\/code><\/a>.  What does <code>parent<\/code> do that warrants a new (non-core) module?  I am missing something?<\/p>\n","last_edit_date":1242812364.0,"protected_date":null,"closed_date":null,"closed_reason":null,"community_owned_date":null},{"tags":["regex","perl","grouping","match"],"owner":{"account_id":80650,"reputation":6614,"user_id":227926,"user_type":"registered","accept_rate":93,"profile_image":"https:\/\/www.gravatar.com\/avatar\/712c209dd792e2149ad79869aced2077?s=256&d=identicon&r=PG","display_name":"therobyouknow","link":"https:\/\/stackoverflow.com\/users\/227926\/therobyouknow"},"is_answered":true,"view_count":81382,"accepted_answer_id":3460135.0,"answer_count":9,"score":52,"last_activity_date":1425527111,"creation_date":1281538775,"question_id":3459721,"body_markdown":"In Perl, how can I use one regex grouping to capture more than one occurrence that matches it, into several array elements?\r\n\r\nFor example, for a string:\r\n\r\n    var1=100 var2=90 var5=hello var3=&quot;a, b, c&quot; var7=test var3=hello\r\n\r\nto process this with code:\r\n\r\n    $string = &quot;var1=100 var2=90 var5=hello var3=\\&quot;a, b, c\\&quot; var7=test var3=hello&quot;;\r\n       \r\n    my @array = $string =~ &lt;regular expression here&gt;\r\n       \r\n    for ( my $i = 0; $i &lt; scalar( @array ); $i++ )\r\n    {\r\n      print $i.&quot;: &quot;.$array[$i].&quot;\\n&quot;;\r\n    }\r\n\r\n\r\nI would like to see as output:\r\n\r\n&lt;!-- language: none --&gt;\r\n\r\n    0: var1=100\r\n    1: var2=90\r\n    2: var5=hello\r\n    3: var3=&quot;a, b, c&quot;\r\n    4: var7=test\r\n    5: var3=hello\r\n\r\nWhat would I use as a regex?\r\n\r\nThe commonality between things I want to match here is an assignment string pattern, so something like:\r\n\r\n    my @array = $string =~ m\/(\\w+=[\\w\\&quot;\\,\\s]+)*\/;\r\n\r\nWhere the * indicates one or more occurrences matching the group.\r\n\r\n(I discounted using a split() as some matches contain spaces within themselves (i.e. var3...) and would therefore not give desired results.)\r\n\r\nWith the above regex, I only get:\r\n\r\n    0: var1=100 var2\r\n\r\nIs it possible in a regex? Or addition code required?\r\n\r\nLooked at existing answers already, when searching for &quot;perl regex multiple group&quot; but not enough clues:\r\n\r\n - https:\/\/stackoverflow.com\/questions\/3159991\/dealing-with-multiple-capture-groups-in-multiple-records\r\n - https:\/\/stackoverflow.com\/questions\/1313332\/multiple-matches-within-a-regex-group\r\n - https:\/\/stackoverflow.com\/questions\/3172643\/regex-repeated-capturing-groups   \r\n - https:\/\/stackoverflow.com\/questions\/446126\/regex-match-and-grouping\r\n - https:\/\/stackoverflow.com\/questions\/1407435\/how-do-i-regex-match-with-grouping-with-unknown-number-of-groups\r\n - https:\/\/stackoverflow.com\/questions\/1116193\/awk-extract-multiple-groups-from-each-line\r\n - https:\/\/stackoverflow.com\/questions\/1791097\/matching-multiple-regex-groups-and-removing-them\r\n - https:\/\/stackoverflow.com\/questions\/2685456\/perl-deleting-multiple-re-occuring-lines-where-a-certain-criteria-is-met\r\n - https:\/\/stackoverflow.com\/questions\/2398730\/regex-matching-into-multiple-groups-per-line\r\n - https:\/\/stackoverflow.com\/questions\/1087720\/php-regex-grouping-multiple-matches\r\n - https:\/\/stackoverflow.com\/questions\/3246237\/how-to-find-multiple-occurances-with-regex-groups\r\n\r\n","link":"https:\/\/stackoverflow.com\/questions\/3459721\/regex-group-in-perl-how-to-capture-elements-into-array-from-regex-group-that-ma","title":"Regex Group in Perl: how to capture elements into array from regex group that matches unknown number of\/multiple\/variable occurrences from a string?","body":"<p>In Perl, how can I use one regex grouping to capture more than one occurrence that matches it, into several array elements?<\/p>\n\n<p>For example, for a string:<\/p>\n\n<pre><code>var1=100 var2=90 var5=hello var3=\"a, b, c\" var7=test var3=hello\n<\/code><\/pre>\n\n<p>to process this with code:<\/p>\n\n<pre><code>$string = \"var1=100 var2=90 var5=hello var3=\\\"a, b, c\\\" var7=test var3=hello\";\n\nmy @array = $string =~ &lt;regular expression here&gt;\n\nfor ( my $i = 0; $i &lt; scalar( @array ); $i++ )\n{\n  print $i.\": \".$array[$i].\"\\n\";\n}\n<\/code><\/pre>\n\n<p>I would like to see as output:<\/p>\n\n<pre class=\"lang-none prettyprint-override\"><code>0: var1=100\n1: var2=90\n2: var5=hello\n3: var3=\"a, b, c\"\n4: var7=test\n5: var3=hello\n<\/code><\/pre>\n\n<p>What would I use as a regex?<\/p>\n\n<p>The commonality between things I want to match here is an assignment string pattern, so something like:<\/p>\n\n<pre><code>my @array = $string =~ m\/(\\w+=[\\w\\\"\\,\\s]+)*\/;\n<\/code><\/pre>\n\n<p>Where the * indicates one or more occurrences matching the group.<\/p>\n\n<p>(I discounted using a split() as some matches contain spaces within themselves (i.e. var3...) and would therefore not give desired results.)<\/p>\n\n<p>With the above regex, I only get:<\/p>\n\n<pre><code>0: var1=100 var2\n<\/code><\/pre>\n\n<p>Is it possible in a regex? Or addition code required?<\/p>\n\n<p>Looked at existing answers already, when searching for \"perl regex multiple group\" but not enough clues:<\/p>\n\n<ul>\n<li><a href=\"https:\/\/stackoverflow.com\/questions\/3159991\/dealing-with-multiple-capture-groups-in-multiple-records\">Dealing with multiple capture groups in multiple records<\/a><\/li>\n<li><a href=\"https:\/\/stackoverflow.com\/questions\/1313332\/multiple-matches-within-a-regex-group\">Multiple matches within a regex group?<\/a><\/li>\n<li><a href=\"https:\/\/stackoverflow.com\/questions\/3172643\/regex-repeated-capturing-groups\">Regex: Repeated capturing groups<\/a>   <\/li>\n<li><a href=\"https:\/\/stackoverflow.com\/questions\/446126\/regex-match-and-grouping\">Regex match and grouping<\/a><\/li>\n<li><a href=\"https:\/\/stackoverflow.com\/questions\/1407435\/how-do-i-regex-match-with-grouping-with-unknown-number-of-groups\">How do I regex match with grouping with unknown number of groups<\/a><\/li>\n<li><a href=\"https:\/\/stackoverflow.com\/questions\/1116193\/awk-extract-multiple-groups-from-each-line\">awk extract multiple groups from each line<\/a><\/li>\n<li><a href=\"https:\/\/stackoverflow.com\/questions\/1791097\/matching-multiple-regex-groups-and-removing-them\">Matching multiple regex groups and removing them<\/a><\/li>\n<li><a href=\"https:\/\/stackoverflow.com\/questions\/2685456\/perl-deleting-multiple-re-occuring-lines-where-a-certain-criteria-is-met\">Perl: Deleting multiple reccuring lines where a certain criterion is met<\/a><\/li>\n<li><a href=\"https:\/\/stackoverflow.com\/questions\/2398730\/regex-matching-into-multiple-groups-per-line\">Regex matching into multiple groups per line?<\/a><\/li>\n<li><a href=\"https:\/\/stackoverflow.com\/questions\/1087720\/php-regex-grouping-multiple-matches\">PHP RegEx Grouping Multiple Matches<\/a><\/li>\n<li><a href=\"https:\/\/stackoverflow.com\/questions\/3246237\/how-to-find-multiple-occurances-with-regex-groups\">How to find multiple occurrences with regex groups?<\/a><\/li>\n<\/ul>\n","last_edit_date":1495541360.0,"protected_date":null,"closed_date":null,"closed_reason":null,"community_owned_date":null},{"tags":["perl","operators"],"owner":{"account_id":12537,"reputation":4630,"user_id":24760,"user_type":"registered","accept_rate":94,"profile_image":"https:\/\/www.gravatar.com\/avatar\/693f9a2f0eea07660d81e9690b6afd96?s=256&d=identicon&r=PG","display_name":"Steve Schnepp","link":"https:\/\/stackoverflow.com\/users\/24760\/steve-schnepp"},"is_answered":true,"view_count":103236,"accepted_answer_id":1137805.0,"answer_count":4,"score":51,"last_activity_date":1573422189,"creation_date":1247738329,"question_id":1136583,"body_markdown":"What is the difference between the C-style operators `&amp;&amp;`, `||`, ... and their Perl human-readable version &quot;`and`&quot;, &quot;`or`&quot;, ...?\r\n\r\nIt seems that *Internet code* uses them both:\r\n\r\n    open (FILE, $file) or die(&quot;cannot open $file&quot;);\r\n    open (FILE, $file) || die(&quot;cannot open $file&quot;);\r\n\r\n\r\n","link":"https:\/\/stackoverflow.com\/questions\/1136583\/what-is-the-difference-between-and-or-in-perl","title":"What is the difference between &quot;||&quot; and &quot;or&quot; in Perl?","body":"<p>What is the difference between the C-style operators <code>&amp;&amp;<\/code>, <code>||<\/code>, ... and their Perl human-readable version \"<code>and<\/code>\", \"<code>or<\/code>\", ...?<\/p>\n\n<p>It seems that <em>Internet code<\/em> uses them both:<\/p>\n\n<pre><code>open (FILE, $file) or die(\"cannot open $file\");\nopen (FILE, $file) || die(\"cannot open $file\");\n<\/code><\/pre>\n","last_edit_date":1573394327.0,"protected_date":null,"closed_date":null,"closed_reason":null,"community_owned_date":null},{"tags":["perl","time"],"owner":{"account_id":9172,"reputation":2313,"user_id":16838,"user_type":"registered","accept_rate":41,"profile_image":"https:\/\/www.gravatar.com\/avatar\/822879990b2a624a85eabad58f987f8f?s=256&d=identicon&r=PG","display_name":"zzztimbo","link":"https:\/\/stackoverflow.com\/users\/16838\/zzztimbo"},"is_answered":true,"view_count":63858,"accepted_answer_id":656550.0,"answer_count":4,"score":51,"last_activity_date":1584173097,"creation_date":1237335883,"question_id":656537,"body_markdown":"    my $start_time = [Time::HiRes::gettimeofday()];\r\n    my $diff = Time::HiRes::tv_interval($start_time);\r\n    \r\n    print &quot;\\n\\n$diff\\n&quot;;","link":"https:\/\/stackoverflow.com\/questions\/656537\/is-there-a-better-way-to-determine-elapsed-time-in-perl","title":"Is there a better way to determine elapsed time in Perl?","body":"<pre><code>my $start_time = [Time::HiRes::gettimeofday()];\nmy $diff = Time::HiRes::tv_interval($start_time);\n\nprint \"\\n\\n$diff\\n\";\n<\/code><\/pre>\n","last_edit_date":1237405464.0,"protected_date":null,"closed_date":null,"closed_reason":null,"community_owned_date":null},{"tags":["java","python","regex","performance","perl"],"owner":{"account_id":874976,"reputation":823,"user_id":924797,"user_type":"registered","profile_image":"https:\/\/www.gravatar.com\/avatar\/1f0606193fe5e8fb42ddd724271e21df?s=256&d=identicon&r=PG","display_name":"AntonPiatek","link":"https:\/\/stackoverflow.com\/users\/924797\/antonpiatek"},"is_answered":true,"view_count":6446,"accepted_answer_id":63297946.0,"answer_count":4,"score":51,"last_activity_date":1596980682,"creation_date":1596787572,"question_id":63297763,"body_markdown":"I recently had a [SonarQube][1] rule (https:\/\/rules.sonarsource.com\/java\/RSPEC-4784) bring to my attention some performance issues which could be used as a denial of service against a Java regular expression implementation.\r\n\r\nIndeed, the following Java test shows how slow the wrong regular expression can be:\r\n\r\n```\r\n    import org.junit.Test;\r\n\r\n    public class RegexTest {\r\n\r\n    @Test\r\n    public void fastRegex1() {\r\n        &quot;aaaaaaaaaaaaaaaaaaaaaaaaaaaabs&quot;.matches(&quot;(a+)b&quot;);\r\n    }\r\n\r\n    @Test\r\n    public void fastRegex2() {\r\n        &quot;aaaaaaaaaaaaaaaaaaaaaaaaaaaab&quot;.matches(&quot;(a+)+b&quot;);\r\n    }\r\n\r\n    @Test\r\n    public void slowRegex() {\r\n        &quot;aaaaaaaaaaaaaaaaaaaaaaaaaaaabs&quot;.matches(&quot;(a+)+b&quot;);\r\n    }\r\n}\r\n```\r\n\r\nAs you can see, the first two tests are fast, the third one is incredibly slow (in Java 8)\r\n\r\n[![Enter image description here][2]][2]\r\n\r\nThe same data and regex in Perl or Python, however, is not at all slow, which leads me to wonder why it is that this regular expression is so slow to evaluate in Java.\r\n\r\n```\r\n$ time perl -e &#39;&quot;aaaaaaaaaaaaaaaaaaaaaaaaaaaabs&quot; =~ \/(a+)+b\/ &amp;&amp; print &quot;$1\\n&quot;&#39;\r\naaaaaaaaaaaaaaaaaaaaaaaaaaaa\r\n\r\nreal    0m0.004s\r\nuser    0m0.000s\r\nsys     0m0.004s\r\n\r\n$ time python3 -c &#39;import re; m=re.search(&quot;(a+)+b&quot;,&quot;aaaaaaaaaaaaaaaaaaaaaaaaaaaabs&quot;); print(m.group(0))&#39;\r\naaaaaaaaaaaaaaaaaaaaaaaaaaaab\r\n\r\nreal    0m0.018s\r\nuser    0m0.015s\r\nsys     0m0.004s\r\n\r\n```\r\n\r\nWhat is it about the extra matching modifier `+` or trailing character `s` in the data which makes this regular expression so slow, and why is it only specific to Java?\r\n\r\n  [1]: https:\/\/en.wikipedia.org\/wiki\/SonarQube\r\n  [2]: https:\/\/i.stack.imgur.com\/5bUNZ.png\r\n","link":"https:\/\/stackoverflow.com\/questions\/63297763\/why-is-this-regular-expression-so-slow-in-java","title":"Why is this regular expression so slow in Java?","body":"<p>I recently had a <a href=\"https:\/\/en.wikipedia.org\/wiki\/SonarQube\" rel=\"noreferrer\">SonarQube<\/a> rule (<a href=\"https:\/\/rules.sonarsource.com\/java\/RSPEC-4784\" rel=\"noreferrer\">https:\/\/rules.sonarsource.com\/java\/RSPEC-4784<\/a>) bring to my attention some performance issues which could be used as a denial of service against a Java regular expression implementation.<\/p>\n<p>Indeed, the following Java test shows how slow the wrong regular expression can be:<\/p>\n<pre><code>    import org.junit.Test;\n\n    public class RegexTest {\n\n    @Test\n    public void fastRegex1() {\n        &quot;aaaaaaaaaaaaaaaaaaaaaaaaaaaabs&quot;.matches(&quot;(a+)b&quot;);\n    }\n\n    @Test\n    public void fastRegex2() {\n        &quot;aaaaaaaaaaaaaaaaaaaaaaaaaaaab&quot;.matches(&quot;(a+)+b&quot;);\n    }\n\n    @Test\n    public void slowRegex() {\n        &quot;aaaaaaaaaaaaaaaaaaaaaaaaaaaabs&quot;.matches(&quot;(a+)+b&quot;);\n    }\n}\n<\/code><\/pre>\n<p>As you can see, the first two tests are fast, the third one is incredibly slow (in Java 8)<\/p>\n<p><a href=\"https:\/\/i.stack.imgur.com\/5bUNZ.png\" rel=\"noreferrer\"><img src=\"https:\/\/i.stack.imgur.com\/5bUNZ.png\" alt=\"Enter image description here\" \/><\/a><\/p>\n<p>The same data and regex in Perl or Python, however, is not at all slow, which leads me to wonder why it is that this regular expression is so slow to evaluate in Java.<\/p>\n<pre><code>$ time perl -e '&quot;aaaaaaaaaaaaaaaaaaaaaaaaaaaabs&quot; =~ \/(a+)+b\/ &amp;&amp; print &quot;$1\\n&quot;'\naaaaaaaaaaaaaaaaaaaaaaaaaaaa\n\nreal    0m0.004s\nuser    0m0.000s\nsys     0m0.004s\n\n$ time python3 -c 'import re; m=re.search(&quot;(a+)+b&quot;,&quot;aaaaaaaaaaaaaaaaaaaaaaaaaaaabs&quot;); print(m.group(0))'\naaaaaaaaaaaaaaaaaaaaaaaaaaaab\n\nreal    0m0.018s\nuser    0m0.015s\nsys     0m0.004s\n\n<\/code><\/pre>\n<p>What is it about the extra matching modifier <code>+<\/code> or trailing character <code>s<\/code> in the data which makes this regular expression so slow, and why is it only specific to Java?<\/p>\n","last_edit_date":1596921493.0,"protected_date":null,"closed_date":1597061991.0,"closed_reason":"Duplicate","community_owned_date":null},{"tags":["perl","cpan"],"owner":{"account_id":6235,"reputation":6496,"user_id":10415,"user_type":"registered","profile_image":"https:\/\/www.gravatar.com\/avatar\/99940add21e5fb2247237459a586597d?s=256&d=identicon&r=PG","display_name":"runrig","link":"https:\/\/stackoverflow.com\/users\/10415\/runrig"},"is_answered":true,"view_count":21607,"accepted_answer_id":3462743.0,"answer_count":5,"score":51,"last_activity_date":1670951284,"creation_date":1281554837,"question_id":3462058,"body_markdown":"The first time you run cpan from the command line, you are prompted for answers to various questions. How do you automate cpan and install modules non-interactively from the beginning?","link":"https:\/\/stackoverflow.com\/questions\/3462058\/how-do-i-automate-cpan-configuration","title":"How do I automate CPAN configuration?","body":"<p>The first time you run cpan from the command line, you are prompted for answers to various questions. How do you automate cpan and install modules non-interactively from the beginning?<\/p>\n","last_edit_date":null,"protected_date":null,"closed_date":null,"closed_reason":null,"community_owned_date":null},{"tags":["perl","memory"],"owner":{"account_id":1199983,"reputation":4382,"user_id":1170839,"user_type":"registered","accept_rate":97,"profile_image":"https:\/\/www.gravatar.com\/avatar\/9a847ecf864b5a6fa9c5956b997bb006?s=256&d=identicon&r=PG","display_name":"GoldenNewby","link":"https:\/\/stackoverflow.com\/users\/1170839\/goldennewby"},"is_answered":true,"view_count":31922,"accepted_answer_id":9734699.0,"answer_count":6,"score":51,"last_activity_date":1612308114,"creation_date":1331881003,"question_id":9733146,"body_markdown":"What are some good tips for keeping memory usage low in a Perl script? I am interested in learning how to keep my memory footprint as low as possible for systems depending on Perl programs. I know Perl isn&#39;t great when it comes to memory usage, but I&#39;d like to know if there are any tips for improving it.\r\n\r\nSo, what can you do to keep a Perl script using less memory. I&#39;m interested in any suggestions, whether they are actual tips for writing code, or tips for how to compile Perl differently.\r\n\r\n**Edit for Bounty:**\r\nI have a perl program that serves as a server for a network application. Each client that connects to it gets it&#39;s own child process currently. I&#39;ve used threads instead of forks as well, but I haven&#39;t been able to determine if using threads instead of forks is actually more memory efficient.\r\n\r\nI&#39;d like to try using threads instead of forks again. I believe in theory it should save on memory usage. I have a few questions in that regard:\r\n\r\n 1. Do threads created in Perl prevent copying Perl module libraries\r\n    into memory for each thread?\r\n 2. Is [threads][1] (use threads) the most efficient way (or the only)\r\n    way to create threads in Perl?\r\n 3. In threads, I can specify a stack_size paramater, what specifically\r\n    should I consider when specifying this value, and how does it impact\r\n    memory usage?\r\n\r\nWith threads in Perl\/Linux, what is the most reliable method to determine the actual memory usage on a per-thread basis?\r\n\r\n  [1]: http:\/\/search.cpan.org\/~jdhedden\/threads-1.86\/lib\/threads.pm","link":"https:\/\/stackoverflow.com\/questions\/9733146\/tips-for-keeping-perl-memory-usage-low","title":"Tips for keeping Perl memory usage low","body":"<p>What are some good tips for keeping memory usage low in a Perl script? I am interested in learning how to keep my memory footprint as low as possible for systems depending on Perl programs. I know Perl isn't great when it comes to memory usage, but I'd like to know if there are any tips for improving it.<\/p>\n\n<p>So, what can you do to keep a Perl script using less memory. I'm interested in any suggestions, whether they are actual tips for writing code, or tips for how to compile Perl differently.<\/p>\n\n<p><strong>Edit for Bounty:<\/strong>\nI have a perl program that serves as a server for a network application. Each client that connects to it gets it's own child process currently. I've used threads instead of forks as well, but I haven't been able to determine if using threads instead of forks is actually more memory efficient.<\/p>\n\n<p>I'd like to try using threads instead of forks again. I believe in theory it should save on memory usage. I have a few questions in that regard:<\/p>\n\n<ol>\n<li>Do threads created in Perl prevent copying Perl module libraries\ninto memory for each thread?<\/li>\n<li>Is <a href=\"http:\/\/search.cpan.org\/~jdhedden\/threads-1.86\/lib\/threads.pm\">threads<\/a> (use threads) the most efficient way (or the only)\nway to create threads in Perl?<\/li>\n<li>In threads, I can specify a stack_size paramater, what specifically\nshould I consider when specifying this value, and how does it impact\nmemory usage?<\/li>\n<\/ol>\n\n<p>With threads in Perl\/Linux, what is the most reliable method to determine the actual memory usage on a per-thread basis?<\/p>\n","last_edit_date":1332458022.0,"protected_date":null,"closed_date":null,"closed_reason":null,"community_owned_date":null},{"tags":["arrays","perl","perl-data-structures"],"owner":{"account_id":37600,"reputation":2100,"user_id":107530,"user_type":"registered","accept_rate":69,"profile_image":"https:\/\/www.gravatar.com\/avatar\/6237a7fdb375cb96487782f80cd1e3b7?s=256&d=identicon&r=PG","display_name":"Marcin Cylke","link":"https:\/\/stackoverflow.com\/users\/107530\/marcin-cylke"},"is_answered":true,"view_count":59014,"accepted_answer_id":6024268.0,"answer_count":6,"score":50,"last_activity_date":1627725500,"creation_date":1305582340,"question_id":6023821,"body_markdown":"I have two data structures in Perl:\r\n\r\nAn array:\r\n\r\n    my @array2 = ( &quot;1&quot;, &quot;2&quot;, &quot;3&quot;);\r\n    \r\n    for $elem (@array2) {\r\n        print $elem.&quot;\\n&quot;;\r\n    }\r\n\r\nGiving me the following output:\r\n\r\n    1\r\n    2\r\n    3\r\n\r\nAnd a list:\r\n\r\n    my @array = [ &quot;1&quot;, &quot;2&quot;, &quot;3&quot;];                                            \r\n    \r\n    for $elem (@array) {\r\n        print $elem.&quot;\\n&quot;;\r\n    }\r\n\r\nGiving the following output:\r\n\r\n    ARRAY(0x9c90818)\r\n\r\nObviously, I&#39;d like to iterate over the elements in both cases, but why does the second solution give me only the reference to this array?\r\n","link":"https:\/\/stackoverflow.com\/questions\/6023821\/perl-array-vs-list","title":"Perl array vs list","body":"<p>I have two data structures in Perl:<\/p>\n\n<p>An array:<\/p>\n\n<pre><code>my @array2 = ( \"1\", \"2\", \"3\");\n\nfor $elem (@array2) {\n    print $elem.\"\\n\";\n}\n<\/code><\/pre>\n\n<p>Giving me the following output:<\/p>\n\n<pre><code>1\n2\n3\n<\/code><\/pre>\n\n<p>And a list:<\/p>\n\n<pre><code>my @array = [ \"1\", \"2\", \"3\"];                                            \n\nfor $elem (@array) {\n    print $elem.\"\\n\";\n}\n<\/code><\/pre>\n\n<p>Giving the following output:<\/p>\n\n<pre><code>ARRAY(0x9c90818)\n<\/code><\/pre>\n\n<p>Obviously, I'd like to iterate over the elements in both cases, but why does the second solution give me only the reference to this array?<\/p>\n","last_edit_date":1389186658.0,"protected_date":null,"closed_date":null,"closed_reason":null,"community_owned_date":null},{"tags":["perl","bash","scripting"],"owner":{"account_id":49993,"reputation":43260,"user_id":149045,"user_type":"registered","accept_rate":89,"profile_image":"https:\/\/www.gravatar.com\/avatar\/dbb314c80372e252437285f851a35573?s=256&d=identicon&r=PG","display_name":"vehomzzz","link":"https:\/\/stackoverflow.com\/users\/149045\/vehomzzz"},"is_answered":true,"view_count":61191,"accepted_answer_id":3490037.0,"answer_count":7,"score":50,"last_activity_date":1587973940,"creation_date":1281921722,"question_id":3490032,"body_markdown":"How to check if today is a weekend using bash or even perl?\r\n\r\nI want to prevent certain programs to run on a weekend.","link":"https:\/\/stackoverflow.com\/questions\/3490032\/how-to-check-if-today-is-a-weekend-in-bash","title":"How to check if today is a weekend in bash?","body":"<p>How to check if today is a weekend using bash or even perl?<\/p>\n\n<p>I want to prevent certain programs to run on a weekend.<\/p>\n","last_edit_date":1428139643.0,"protected_date":null,"closed_date":null,"closed_reason":null,"community_owned_date":null},{"tags":["linux","perl","pdf"],"owner":{"account_id":2103,"reputation":1330,"user_id":2901,"user_type":"registered","accept_rate":73,"profile_image":"https:\/\/www.gravatar.com\/avatar\/834fb90227692cf81478f73a30ed3f40?s=256&d=identicon&r=PG","display_name":"lennysan","link":"https:\/\/stackoverflow.com\/users\/2901\/lennysan"},"is_answered":true,"view_count":77570,"accepted_answer_id":176957.0,"answer_count":16,"score":50,"last_activity_date":1618061120,"creation_date":1223332493,"question_id":176476,"body_markdown":"I&#39;ve been using htmldoc for a while, but I&#39;ve run into some fairly serious limitations. I need the end solution to work on a Linux box. I&#39;ll be calling this library\/utility\/application from a Perl app, so any Perl interfaces would be a bonus.","link":"https:\/\/stackoverflow.com\/questions\/176476\/how-can-i-automate-html-to-pdf-conversions","title":"How can I automate HTML-to-PDF conversions?","body":"<p>I've been using htmldoc for a while, but I've run into some fairly serious limitations. I need the end solution to work on a Linux box. I'll be calling this library\/utility\/application from a Perl app, so any Perl interfaces would be a bonus.<\/p>\n","last_edit_date":1262955582.0,"protected_date":null,"closed_date":null,"closed_reason":null,"community_owned_date":null},{"tags":["perl","json","yaml"],"owner":{"account_id":13147,"reputation":39789,"user_id":26227,"user_type":"registered","accept_rate":71,"profile_image":"https:\/\/i.stack.imgur.com\/UNGHL.png?s=256&g=1","display_name":"Paul Nathan","link":"https:\/\/stackoverflow.com\/users\/26227\/paul-nathan"},"is_answered":true,"view_count":16973,"accepted_answer_id":1877695.0,"answer_count":7,"score":50,"last_activity_date":1454249031,"creation_date":1260391246,"question_id":1876735,"body_markdown":"I&#39;ve been using the YAML format with reasonable success in the last 6 months or so.\r\n\r\nHowever, the pure Perl implementation of the YAML parser is fairly\r\nfidgety to hand-write a readable file for and has (in my opinion)\r\nannoying quirks such as requiring a newline at end of the file. It&#39;s also\r\ngigantically slow compared to the rest of my program.\r\n\r\nI&#39;m pondering the next evolution of my project, and I&#39;m considering\r\nusing JSON instead (a mostly strict subset of YAML, as it turns\r\nout). But which format has the most community traction and effort in Perl?\r\n\r\nWhich appears today to be the better long-term format for simple\r\ndata description in Perl, YAML or JSON, and why?\r\n","link":"https:\/\/stackoverflow.com\/questions\/1876735\/should-i-use-yaml-or-json-to-store-my-perl-data","title":"Should I use YAML or JSON to store my Perl data?","body":"<p>I've been using the YAML format with reasonable success in the last 6 months or so.<\/p>\n\n<p>However, the pure Perl implementation of the YAML parser is fairly\nfidgety to hand-write a readable file for and has (in my opinion)\nannoying quirks such as requiring a newline at end of the file. It's also\ngigantically slow compared to the rest of my program.<\/p>\n\n<p>I'm pondering the next evolution of my project, and I'm considering\nusing JSON instead (a mostly strict subset of YAML, as it turns\nout). But which format has the most community traction and effort in Perl?<\/p>\n\n<p>Which appears today to be the better long-term format for simple\ndata description in Perl, YAML or JSON, and why?<\/p>\n","last_edit_date":1260468786.0,"protected_date":1410883362.0,"closed_date":1410932674.0,"closed_reason":"Opinion-based","community_owned_date":null},{"tags":["perl"],"owner":{"account_id":120203,"reputation":10663,"user_id":312483,"user_type":"registered","accept_rate":85,"profile_image":"https:\/\/www.gravatar.com\/avatar\/0a3af6c439e3501ce6e17361a63bfaee?s=256&d=identicon&r=PG&f=y&so-version=2","display_name":"powerboy","link":"https:\/\/stackoverflow.com\/users\/312483\/powerboy"},"is_answered":true,"view_count":67913,"accepted_answer_id":3224318.0,"answer_count":1,"score":50,"last_activity_date":1442950395,"creation_date":1278875622,"question_id":3224312,"body_markdown":"    use strict;\r\n    my $var = NULL;\r\n\r\nwill raise an error of `Bareword &quot;NULL&quot; not allowed while &quot;strict subs&quot; in use`\r\n","link":"https:\/\/stackoverflow.com\/questions\/3224312\/how-can-variables-be-set-to-null-under-the-strict-pragma","title":"How can variables be set to NULL under the strict pragma?","body":"<pre><code>use strict;\nmy $var = NULL;\n<\/code><\/pre>\n\n<p>will raise an error of <code>Bareword \"NULL\" not allowed while \"strict subs\" in use<\/code><\/p>\n","last_edit_date":1278916444.0,"protected_date":null,"closed_date":null,"closed_reason":null,"community_owned_date":null},{"tags":["regex","perl"],"owner":{"account_id":320318,"reputation":29255,"user_id":638529,"user_type":"registered","accept_rate":95,"profile_image":"https:\/\/www.gravatar.com\/avatar\/cf5db38f532d81acb4654ad11d8e9c8a?s=256&d=identicon&r=PG","display_name":"providence","link":"https:\/\/stackoverflow.com\/users\/638529\/providence"},"is_answered":true,"view_count":45560,"accepted_answer_id":7580300.0,"answer_count":3,"score":50,"last_activity_date":1677287468,"creation_date":1317197328,"question_id":7580129,"body_markdown":"Let&#39;s say I&#39;m scanning through a page of raw html looking for this regex. (The quote mark on the end is intentional).\r\n \r\n    m\/(https?:\\\/\\\/.*?(?:&#39;|&quot;))\/\r\n\r\nThis pattern is likely to match ~ 100 times. What is a common perl idiom\/a quick way to iterate through a list of all capture group matches?","link":"https:\/\/stackoverflow.com\/questions\/7580129\/perl-iterate-through-each-match","title":"Perl iterate through each match","body":"<p>Let's say I'm scanning through a page of raw html looking for this regex. (The quote mark on the end is intentional).<\/p>\n\n<pre><code>m\/(https?:\\\/\\\/.*?(?:'|\"))\/\n<\/code><\/pre>\n\n<p>This pattern is likely to match ~ 100 times. What is a common perl idiom\/a quick way to iterate through a list of all capture group matches?<\/p>\n","last_edit_date":1317198346.0,"protected_date":null,"closed_date":null,"closed_reason":null,"community_owned_date":null},{"tags":["linux","apache","perl","ubuntu","awk"],"owner":{"account_id":193321,"reputation":23043,"user_id":434980,"user_type":"registered","accept_rate":83,"profile_image":"https:\/\/www.gravatar.com\/avatar\/078c8867db2a3c40cdf5c4fd2b94201c?s=256&d=identicon&r=PG","display_name":"sqren","link":"https:\/\/stackoverflow.com\/users\/434980\/sqren"},"is_answered":true,"view_count":79814,"accepted_answer_id":7714878.0,"answer_count":5,"score":50,"last_activity_date":1677838863,"creation_date":1318189664,"question_id":7706095,"body_markdown":"My server is having unusually high CPU usage, and I can see Apache is using way too much memory.\r\nI have a feeling, I&#39;m being DOS&#39;d by a single IP - maybe you can help me find the attacker?\r\n\r\nI&#39;ve used the following line, to find the 10 most &quot;active&quot; IPs:\r\n\r\n    cat access.log | awk &#39;{print $1}&#39; |sort  |uniq -c |sort -n |tail\r\n\r\nThe top 5 IPs have about 200 times as many requests to the server, as the &quot;average&quot; user. However, I can&#39;t find out if these 5 are just very frequent visitors, or they are attacking the servers.\r\n\r\nIs there are way, to specify the above search to a time interval, eg. the last two hours OR between 10-12 today?\r\n\r\nCheers!\r\n\r\n\r\n**UPDATED 23 OCT 2011 - The commands I needed:**\r\n\r\nGet entries within last X hours [Here two hours]\r\n\r\n    awk -vDate=`date -d&#39;now-2 hours&#39; +[%d\/%b\/%Y:%H:%M:%S` &#39; { if ($4 &gt; Date) print Date FS $4}&#39; access.log\r\n\r\nGet most active IPs within the last X hours [Here two hours]\r\n\r\n    awk -vDate=`date -d&#39;now-2 hours&#39; +[%d\/%b\/%Y:%H:%M:%S` &#39; { if ($4 &gt; Date) print $1}&#39; access.log | sort  |uniq -c |sort -n | tail\r\n\r\nGet entries within relative timespan\r\n\r\n    awk -vDate=`date -d&#39;now-4 hours&#39; +[%d\/%b\/%Y:%H:%M:%S` -vDate2=`date -d&#39;now-2 hours&#39; +[%d\/%b\/%Y:%H:%M:%S` &#39; { if ($4 &gt; Date &amp;&amp; $4 &lt; Date2) print Date FS Date2 FS $4}&#39; access.log\r\n\r\nGet entries within absolute timespan\r\n\r\n    awk -vDate=`date -d &#39;13:20&#39; +[%d\/%b\/%Y:%H:%M:%S` -vDate2=`date -d&#39;13:30&#39; +[%d\/%b\/%Y:%H:%M:%S` &#39; { if ($4 &gt; Date &amp;&amp; $4 &lt; Date2) print $0}&#39; access.log \r\n\r\nGet most active IPs within absolute timespan\r\n\r\n    awk -vDate=`date -d &#39;13:20&#39; +[%d\/%b\/%Y:%H:%M:%S` -vDate2=`date -d&#39;13:30&#39; +[%d\/%b\/%Y:%H:%M:%S` &#39; { if ($4 &gt; Date &amp;&amp; $4 &lt; Date2) print $1}&#39; access.log | sort  |uniq -c |sort -n | tail","link":"https:\/\/stackoverflow.com\/questions\/7706095\/filter-log-file-entries-based-on-date-range","title":"Filter log file entries based on date range","body":"<p>My server is having unusually high CPU usage, and I can see Apache is using way too much memory.\nI have a feeling, I'm being DOS'd by a single IP - maybe you can help me find the attacker?<\/p>\n<p>I've used the following line, to find the 10 most &quot;active&quot; IPs:<\/p>\n<pre><code>cat access.log | awk '{print $1}' |sort  |uniq -c |sort -n |tail\n<\/code><\/pre>\n<p>The top 5 IPs have about 200 times as many requests to the server, as the &quot;average&quot; user. However, I can't find out if these 5 are just very frequent visitors, or they are attacking the servers.<\/p>\n<p>Is there are way, to specify the above search to a time interval, eg. the last two hours OR between 10-12 today?<\/p>\n<p>Cheers!<\/p>\n<p><strong>UPDATED 23 OCT 2011 - The commands I needed:<\/strong><\/p>\n<p>Get entries within last X hours [Here two hours]<\/p>\n<pre><code>awk -vDate=`date -d'now-2 hours' +[%d\/%b\/%Y:%H:%M:%S` ' { if ($4 &gt; Date) print Date FS $4}' access.log\n<\/code><\/pre>\n<p>Get most active IPs within the last X hours [Here two hours]<\/p>\n<pre><code>awk -vDate=`date -d'now-2 hours' +[%d\/%b\/%Y:%H:%M:%S` ' { if ($4 &gt; Date) print $1}' access.log | sort  |uniq -c |sort -n | tail\n<\/code><\/pre>\n<p>Get entries within relative timespan<\/p>\n<pre><code>awk -vDate=`date -d'now-4 hours' +[%d\/%b\/%Y:%H:%M:%S` -vDate2=`date -d'now-2 hours' +[%d\/%b\/%Y:%H:%M:%S` ' { if ($4 &gt; Date &amp;&amp; $4 &lt; Date2) print Date FS Date2 FS $4}' access.log\n<\/code><\/pre>\n<p>Get entries within absolute timespan<\/p>\n<pre><code>awk -vDate=`date -d '13:20' +[%d\/%b\/%Y:%H:%M:%S` -vDate2=`date -d'13:30' +[%d\/%b\/%Y:%H:%M:%S` ' { if ($4 &gt; Date &amp;&amp; $4 &lt; Date2) print $0}' access.log \n<\/code><\/pre>\n<p>Get most active IPs within absolute timespan<\/p>\n<pre><code>awk -vDate=`date -d '13:20' +[%d\/%b\/%Y:%H:%M:%S` -vDate2=`date -d'13:30' +[%d\/%b\/%Y:%H:%M:%S` ' { if ($4 &gt; Date &amp;&amp; $4 &lt; Date2) print $1}' access.log | sort  |uniq -c |sort -n | tail\n<\/code><\/pre>\n","last_edit_date":1676636732.0,"protected_date":1539815084.0,"closed_date":null,"closed_reason":null,"community_owned_date":null},{"tags":["java","php","python","perl","calendar"],"owner":{"account_id":340768,"reputation":4094,"user_id":670979,"user_type":"registered","accept_rate":52,"profile_image":"https:\/\/www.gravatar.com\/avatar\/3f168e506cefb78f3fc2b0a56ab9e7c9?s=256&d=identicon&r=PG","display_name":"www.data-blogger.com","link":"https:\/\/stackoverflow.com\/users\/670979\/www-data-blogger-com"},"is_answered":true,"view_count":11018,"accepted_answer_id":9531466.0,"answer_count":5,"score":50,"last_activity_date":1330751978,"creation_date":1324997605,"question_id":8645956,"body_markdown":"How can I convert `unix` time to [Hindu calendar&lt;sup&gt;*&amp;shy;Wikipedia*&lt;\/sup&gt;](http:\/\/en.wikipedia.org\/wiki\/Hindu_calendar) time and the other way round in `php`, `Perl` or `Python` or `Java`? I know I can convert to `Hebrew` and `Jewish`. But `Hindu` is not an option.\r\n\r\nTo be more specific, I&#39;m talking about the Hindu lunar calendar. The following website is working and does exactly what I want: http:\/\/web.meson.org\/calendars\/. For example, it &#39;translates&#39; `28-1-2012` (Gregorian) to `5-11-2068` (Hind. Lun.). How can I accomplish the same task? And if there are absolutely no scrips out there, how can I write it myself?","link":"https:\/\/stackoverflow.com\/questions\/8645956\/converting-to-and-from-hindu-calendar","title":"Converting to and from Hindu calendar","body":"<p>How can I convert <code>unix<\/code> time to <a href=\"http:\/\/en.wikipedia.org\/wiki\/Hindu_calendar\">Hindu calendar<sup><em>&shy;Wikipedia<\/em><\/sup><\/a> time and the other way round in <code>php<\/code>, <code>Perl<\/code> or <code>Python<\/code> or <code>Java<\/code>? I know I can convert to <code>Hebrew<\/code> and <code>Jewish<\/code>. But <code>Hindu<\/code> is not an option.<\/p>\n\n<p>To be more specific, I'm talking about the Hindu lunar calendar. The following website is working and does exactly what I want: <a href=\"http:\/\/web.meson.org\/calendars\/\">http:\/\/web.meson.org\/calendars\/<\/a>. For example, it 'translates' <code>28-1-2012<\/code> (Gregorian) to <code>5-11-2068<\/code> (Hind. Lun.). How can I accomplish the same task? And if there are absolutely no scrips out there, how can I write it myself?<\/p>\n","last_edit_date":1330166249.0,"protected_date":1348663576.0,"closed_date":null,"closed_reason":null,"community_owned_date":null},{"tags":["perl","oop"],"owner":{"account_id":88287,"reputation":144640,"user_id":244297,"user_type":"registered","accept_rate":94,"profile_image":"https:\/\/www.gravatar.com\/avatar\/0e726125e86b084ffec695e845b360b7?s=256&d=identicon&r=PG","display_name":"Eugene Yarmash","link":"https:\/\/stackoverflow.com\/users\/244297\/eugene-yarmash"},"is_answered":true,"view_count":18652,"accepted_answer_id":2329941.0,"answer_count":4,"score":49,"last_activity_date":1654882511,"creation_date":1267044460,"question_id":2329385,"body_markdown":"From [perldoc -f bless][1]:\r\n\r\n&gt; `bless REF,CLASSNAME`\r\n&gt;\r\n&gt; This function tells the thingy referenced by `REF` that it is now  \r\n        an object in the `CLASSNAME` package.\r\n\r\nIs there any way of obtaining an unblessed structure without unnecessary copying?\r\n\r\n  [1]: http:\/\/perldoc.perl.org\/functions\/bless.html\r\n","link":"https:\/\/stackoverflow.com\/questions\/2329385\/how-can-i-unbless-an-object-in-perl","title":"How can I unbless an object in Perl?","body":"<p>From <a href=\"http:\/\/perldoc.perl.org\/functions\/bless.html\" rel=\"noreferrer\">perldoc -f bless<\/a>:<\/p>\n\n<blockquote>\n  <p><code>bless REF,CLASSNAME<\/code><\/p>\n  \n  <p>This function tells the thingy referenced by <code>REF<\/code> that it is now<br>\n          an object in the <code>CLASSNAME<\/code> package.<\/p>\n<\/blockquote>\n\n<p>Is there any way of obtaining an unblessed structure without unnecessary copying?<\/p>\n","last_edit_date":1654882511.0,"protected_date":null,"closed_date":null,"closed_reason":null,"community_owned_date":null},{"tags":["perl","unicode","utf-8","input"],"owner":{"account_id":23981,"reputation":64718,"user_id":60628,"user_type":"registered","accept_rate":74,"profile_image":"https:\/\/www.gravatar.com\/avatar\/837d78446554c800d404141dd0172ccc?s=256&d=identicon&r=PG","display_name":"Frank","link":"https:\/\/stackoverflow.com\/users\/60628\/frank"},"is_answered":true,"view_count":16552,"accepted_answer_id":519359.0,"answer_count":4,"score":49,"last_activity_date":1296690258,"creation_date":1233901685,"question_id":519309,"body_markdown":"I want to read UTF-8 input in Perl, no matter if it comes from the standard input or from a file, using the diamond operator: `while(&lt;&gt;){...}`.\r\n\r\nSo my script should be callable in these two ways, as usual, giving the same output:\r\n\r\n    .\/script.pl utf8.txt\r\n    cat utf8.txt | .\/script.pl\r\n\r\nBut the outputs differ! Only the second call (using `cat`) seems to work as designed, reading UTF-8 properly. Here is the script:\r\n\r\n    #!\/usr\/bin\/perl -w\r\n\r\n    binmode STDIN, &#39;:utf8&#39;;\r\n    binmode STDOUT, &#39;:utf8&#39;;\r\n \r\n    while(&lt;&gt;){\r\n        my @chars = split \/\/, $_;\r\n        print &quot;$_\\n&quot; foreach(@chars);\r\n    }\r\n\r\nHow can I make it read UTF-8 correctly in both cases? I would like to keep using the diamond operator `&lt;&gt;` for reading, if possible.\r\n\r\n**EDIT:** \r\n\r\nI realized I should probably describe the different outputs. My input file contains this sequence: `a\\xCA\\xA7b`. The method with `cat` correctly outputs:\r\n\r\n    a\r\n    \\xCA\\xA7\r\n    b\r\n\r\nBut the other method gives me this:\r\n\r\n    a\r\n    \\xC3\\x8A\r\n    \\xC2\\xA7\r\n    b\r\n\r\n","link":"https:\/\/stackoverflow.com\/questions\/519309\/how-do-i-read-utf-8-with-diamond-operator","title":"How do I read UTF-8 with diamond operator (&lt;&gt;)?","body":"<p>I want to read UTF-8 input in Perl, no matter if it comes from the standard input or from a file, using the diamond operator: <code>while(&lt;&gt;){...}<\/code>.<\/p>\n\n<p>So my script should be callable in these two ways, as usual, giving the same output:<\/p>\n\n<pre><code>.\/script.pl utf8.txt\ncat utf8.txt | .\/script.pl\n<\/code><\/pre>\n\n<p>But the outputs differ! Only the second call (using <code>cat<\/code>) seems to work as designed, reading UTF-8 properly. Here is the script:<\/p>\n\n<pre><code>#!\/usr\/bin\/perl -w\n\nbinmode STDIN, ':utf8';\nbinmode STDOUT, ':utf8';\n\nwhile(&lt;&gt;){\n    my @chars = split \/\/, $_;\n    print \"$_\\n\" foreach(@chars);\n}\n<\/code><\/pre>\n\n<p>How can I make it read UTF-8 correctly in both cases? I would like to keep using the diamond operator <code>&lt;&gt;<\/code> for reading, if possible.<\/p>\n\n<p><strong>EDIT:<\/strong> <\/p>\n\n<p>I realized I should probably describe the different outputs. My input file contains this sequence: <code>a\\xCA\\xA7b<\/code>. The method with <code>cat<\/code> correctly outputs:<\/p>\n\n<pre><code>a\n\\xCA\\xA7\nb\n<\/code><\/pre>\n\n<p>But the other method gives me this:<\/p>\n\n<pre><code>a\n\\xC3\\x8A\n\\xC2\\xA7\nb\n<\/code><\/pre>\n","last_edit_date":1233965282.0,"protected_date":null,"closed_date":null,"closed_reason":null,"community_owned_date":null},{"tags":["perl","scripting","ssh","tail","netcat"],"owner":{"account_id":4839,"reputation":6253,"user_id":7476,"user_type":"registered","accept_rate":50,"profile_image":"https:\/\/www.gravatar.com\/avatar\/4cfed0a313101a06fca6f6675dc3e132?s=256&d=identicon&r=PG","display_name":"Frosty","link":"https:\/\/stackoverflow.com\/users\/7476\/frosty"},"is_answered":true,"view_count":32413,"accepted_answer_id":566238.0,"answer_count":8,"score":49,"last_activity_date":1466858518,"creation_date":1235061026,"question_id":566110,"body_markdown":"I am trying to find a good way to tail a file on a remote host.  This is on an internal network of Linux machines.  The requirements are:\r\n\r\n1. Must be well behaved (no extra process laying around, or continuing output)\r\n\r\n2. Cannot require someone&#39;s pet Perl module.\r\n\r\n3. Can be invoked through Perl.\r\n\r\n4. If possible, doesn&#39;t require a custom built script or utility on the remote machine (regular linux utilities are fine)\r\n\r\nThe solutions I have tried are generally of this sort\r\n    \r\n    ssh remotemachine -f &lt;some command&gt;\r\n\r\n&quot;some command&quot; has been:\r\n\r\n    tail -f logfile\r\n\r\nBasic tail doesn&#39;t work because the remote process continues to write output to the terminal after the local ssh process dies.\r\n\r\n    $socket = IO:Socket::INET-&gt;new(...);\r\n    $pid = fork();\r\n    if(!$pid)\r\n    {\r\n      exec(&quot;ssh $host -f &#39;&lt;script which connects to socket and writes&gt;&#39;&quot;);\r\n      exit;\r\n    }\r\n    \r\n    $client = $socket-&gt;accept;\r\n    while(&lt;$client&gt;)\r\n    {\r\n      print $_;\r\n    }\r\n\r\nThis works better because there is no output to the screen after the local process exits but the remote process doesn&#39;t figure out that its socket is down and it lives on indefinitely.\r\n\r\n","link":"https:\/\/stackoverflow.com\/questions\/566110\/how-can-i-tail-a-remote-file","title":"How can I tail a remote file?","body":"<p>I am trying to find a good way to tail a file on a remote host.  This is on an internal network of Linux machines.  The requirements are:<\/p>\n\n<ol>\n<li><p>Must be well behaved (no extra process laying around, or continuing output)<\/p><\/li>\n<li><p>Cannot require someone's pet Perl module.<\/p><\/li>\n<li><p>Can be invoked through Perl.<\/p><\/li>\n<li><p>If possible, doesn't require a custom built script or utility on the remote machine (regular linux utilities are fine)<\/p><\/li>\n<\/ol>\n\n<p>The solutions I have tried are generally of this sort<\/p>\n\n<pre><code>ssh remotemachine -f &lt;some command&gt;\n<\/code><\/pre>\n\n<p>\"some command\" has been:<\/p>\n\n<pre><code>tail -f logfile\n<\/code><\/pre>\n\n<p>Basic tail doesn't work because the remote process continues to write output to the terminal after the local ssh process dies.<\/p>\n\n<pre><code>$socket = IO:Socket::INET-&gt;new(...);\n$pid = fork();\nif(!$pid)\n{\n  exec(\"ssh $host -f '&lt;script which connects to socket and writes&gt;'\");\n  exit;\n}\n\n$client = $socket-&gt;accept;\nwhile(&lt;$client&gt;)\n{\n  print $_;\n}\n<\/code><\/pre>\n\n<p>This works better because there is no output to the screen after the local process exits but the remote process doesn't figure out that its socket is down and it lives on indefinitely.<\/p>\n","last_edit_date":1235066189.0,"protected_date":null,"closed_date":null,"closed_reason":null,"community_owned_date":null},{"tags":["perl","ssl","https","lwp"],"owner":{"account_id":5248,"reputation":61611,"user_id":8355,"user_type":"registered","accept_rate":80,"profile_image":"https:\/\/www.gravatar.com\/avatar\/8d0099a2574719d7a67eab012851bf9b?s=256&d=identicon&r=PG","display_name":"cjm","link":"https:\/\/stackoverflow.com\/users\/8355\/cjm"},"is_answered":true,"view_count":91440,"accepted_answer_id":5329129.0,"answer_count":8,"score":49,"last_activity_date":1528998631,"creation_date":1221583309,"question_id":74358,"body_markdown":"How can I get [LWP](http:\/\/search.cpan.org\/perldoc?LWP) to verify that the certificate of the server I&#39;m connecting to is signed by a trusted authority and issued to the correct host?  As far as I can tell, it doesn&#39;t even check that the certificate claims to be for the hostname I&#39;m connecting to.  That seems like a major security hole (especially with the recent DNS vulnerabilities).\r\n\r\n**Update:**  It turns out what I really wanted was `HTTPS_CA_DIR`, because I don&#39;t have a ca-bundle.crt.  But `HTTPS_CA_DIR=\/usr\/share\/ca-certificates\/` did the trick.  I&#39;m marking the answer as accepted anyway, because it was close enough.\r\n\r\n**Update 2:** It turns out that `HTTPS_CA_DIR` and `HTTPS_CA_FILE` only apply if you&#39;re using Net::SSL as the underlying SSL library.  But LWP also works with IO::Socket::SSL, which will ignore those environment variables and happily talk to any server, no matter what certificate it presents.  Is there a more general solution?\r\n\r\n**Update 3:** Unfortunately, the solution still isn&#39;t complete.  Neither Net::SSL nor IO::Socket::SSL is checking the host name against the certificate.  This means that someone can get a legitimate certificate for some domain, and then impersonate any other domain without LWP complaining.\r\n\r\n**Update 4:** [LWP 6.00][1] finally solves the problem.  See [my answer][2] for details.\r\n\r\n\r\n  [1]: http:\/\/search.cpan.org\/dist\/libwww-perl\/\r\n  [2]: https:\/\/stackoverflow.com\/questions\/74358\/how-can-i-get-lwp-to-validate-ssl-server-certificates#5329129","link":"https:\/\/stackoverflow.com\/questions\/74358\/how-can-i-get-lwp-to-validate-ssl-server-certificates","title":"How can I get LWP to validate SSL server certificates?","body":"<p>How can I get <a href=\"http:\/\/search.cpan.org\/perldoc?LWP\" rel=\"noreferrer\">LWP<\/a> to verify that the certificate of the server I'm connecting to is signed by a trusted authority and issued to the correct host?  As far as I can tell, it doesn't even check that the certificate claims to be for the hostname I'm connecting to.  That seems like a major security hole (especially with the recent DNS vulnerabilities).<\/p>\n\n<p><strong>Update:<\/strong>  It turns out what I really wanted was <code>HTTPS_CA_DIR<\/code>, because I don't have a ca-bundle.crt.  But <code>HTTPS_CA_DIR=\/usr\/share\/ca-certificates\/<\/code> did the trick.  I'm marking the answer as accepted anyway, because it was close enough.<\/p>\n\n<p><strong>Update 2:<\/strong> It turns out that <code>HTTPS_CA_DIR<\/code> and <code>HTTPS_CA_FILE<\/code> only apply if you're using Net::SSL as the underlying SSL library.  But LWP also works with IO::Socket::SSL, which will ignore those environment variables and happily talk to any server, no matter what certificate it presents.  Is there a more general solution?<\/p>\n\n<p><strong>Update 3:<\/strong> Unfortunately, the solution still isn't complete.  Neither Net::SSL nor IO::Socket::SSL is checking the host name against the certificate.  This means that someone can get a legitimate certificate for some domain, and then impersonate any other domain without LWP complaining.<\/p>\n\n<p><strong>Update 4:<\/strong> <a href=\"http:\/\/search.cpan.org\/dist\/libwww-perl\/\" rel=\"noreferrer\">LWP 6.00<\/a> finally solves the problem.  See <a href=\"https:\/\/stackoverflow.com\/questions\/74358\/how-can-i-get-lwp-to-validate-ssl-server-certificates#5329129\">my answer<\/a> for details.<\/p>\n","last_edit_date":1495535376.0,"protected_date":null,"closed_date":null,"closed_reason":null,"community_owned_date":null}]